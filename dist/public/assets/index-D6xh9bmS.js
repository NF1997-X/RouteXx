const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lightgallery-DIyLdSLw.css","assets/lg-thumbnail-LA61IUbX.css","assets/lg-zoom-Dgc7Zwpq.css","assets/lg-autoplay-B3rOJiqo.css","assets/lg-fullscreen-aAdOoxAZ.css","assets/lg-video-CtDZYiSX.css"])))=>i.map(i=>d[i]);
var wl=e=>{throw TypeError(e)};var La=(e,t,r)=>t.has(e)||wl("Cannot "+r);var N=(e,t,r)=>(La(e,t,"read from private field"),r?r.call(e):t.get(e)),me=(e,t,r)=>t.has(e)?wl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),te=(e,t,r,n)=>(La(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(La(e,t,"access private method"),r);var Sn=(e,t,r,n)=>({set _(a){te(e,t,a,r)},get _(){return N(e,t,n)}});import{j as s,c as lg,a as er,u as ot,B as cg,P as Ve,V as ed,b as Os,d as Ht,e as Gt,f as ke,R as dg,g as td,h as rd,i as ug,k as ia,A as Xo,D as sd,C as nd,l as mg,m as ad,n as od,S as pg,T as id,I as hg,o as ld,p as cd,q as fg,r as dd,s as gg,L as ud,t as md,v as bg,w as xg,x as pd,y as vg,z as yg,O as Jo,E as Zo,F as ei,G as ti,H as hd,J as fd,K as gd,M as ri,N as si,Q as ni,U as wg,W as jg,X as kg,Y as Ng,Z as Cg,_ as bd,$ as Sg,a0 as la,a1 as ai,a2 as xd,a3 as vd,a4 as yd,a5 as wd,a6 as jd,a7 as kd,a8 as Nd,a9 as Cd,aa as Sd,ab as Ed,ac as Rd,ad as Dd,ae as Eg,af as Rg,ag as Dg,ah as Pd,ai as Pg,aj as Ag}from"./ui-vendor-BgGzcuhe.js";import{a as ca,r as h,c as Ig,R as ye,b as Tg}from"./react-vendor--0RGCJ5T.js";import{L as da,M as Og,T as Lg,a as Mg,P as _g,u as Ad}from"./map-vendor-B4467gFJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Id,jl=ca;Id=jl.createRoot,jl.hydrateRoot;function Fg(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,o,i=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(i.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),o=a.indexOf(".",1),i.push(a.substring(1,~n?n:~o?o:a.length)),l+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(l+=(~n?"?":"")+"\\"+a.substring(o))):l+="/"+a;return{keys:i,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Td={exports:{}},Od={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=h;function zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $g=typeof Object.is=="function"?Object.is:zg,Bg=Ns.useState,Ug=Ns.useEffect,Gg=Ns.useLayoutEffect,Vg=Ns.useDebugValue;function qg(e,t){var r=t(),n=Bg({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return Gg(function(){a.value=r,a.getSnapshot=t,Ma(a)&&o({inst:a})},[e,r,t]),Ug(function(){return Ma(a)&&o({inst:a}),e(function(){Ma(a)&&o({inst:a})})},[e]),Vg(r),r}function Ma(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$g(e,r)}catch{return!0}}function Wg(e,t){return t()}var Hg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wg:qg;Od.useSyncExternalStore=Ns.useSyncExternalStore!==void 0?Ns.useSyncExternalStore:Hg;Td.exports=Od;var Kg=Td.exports;const Qg=Ig.useInsertionEffect,Yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xg=Yg?h.useLayoutEffect:h.useEffect,Jg=Qg||Xg,Ld=e=>{const t=h.useRef([e,(...r)=>t[0](...r)]).current;return Jg(()=>{t[0]=e}),t[1]},Zg="popstate",oi="pushState",ii="replaceState",e0="hashchange",kl=[Zg,oi,ii,e0],t0=e=>{for(const t of kl)addEventListener(t,e);return()=>{for(const t of kl)removeEventListener(t,e)}},Md=(e,t)=>Kg.useSyncExternalStore(t0,e,t),r0=()=>location.search,s0=({ssrSearch:e=""}={})=>Md(r0,()=>e),Nl=()=>location.pathname,n0=({ssrPath:e}={})=>Md(Nl,e?()=>e:Nl),a0=(e,{replace:t=!1,state:r=null}={})=>history[t?ii:oi](r,"",e),o0=(e={})=>[n0(e),a0],Cl=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Cl]>"u"){for(const e of[oi,ii]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Cl,{value:!0})}const i0=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",_d=(e="")=>e==="/"?"":e,l0=(e,t)=>e[0]==="~"?e.slice(1):_d(t)+e,c0=(e="",t)=>i0(Sl(_d(e)),Sl(t)),Sl=e=>{try{return decodeURI(e)}catch{return e}},Fd={hook:o0,searchHook:s0,parser:Fg,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},zd=h.createContext(Fd),Ls=()=>h.useContext(zd),$d={},Bd=h.createContext($d),d0=()=>h.useContext(Bd),ua=e=>{const[t,r]=e.hook(e);return[c0(e.base,t),Ld((n,a)=>r(l0(n,e.base),a))]},li=()=>ua(Ls()),ci=(e,t,r,n)=>{const{pattern:a,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),i=a.exec(r)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const d=o!==!1?Object.fromEntries(o.map((u,m)=>[u,c[m]])):i.groups;let p={...c};return d&&Object.assign(p,d),p})(),...n?[l]:[]]:[!1,null]},Ud=e=>ci(Ls().parser,e,li()[0]),u0=({children:e,...t})=>{var p,u;const r=Ls(),n=t.hook?Fd:r;let a=n;const[o,i]=((p=t.ssrPath)==null?void 0:p.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=h.useRef({}),c=l.current,d=c;for(let m in n){const f=m==="base"?n[m]+(t[m]||""):t[m]||n[m];c===d&&f!==d[m]&&(l.current=d={...d}),d[m]=f,f!==n[m]&&(a=d)}return h.createElement(zd.Provider,{value:a,children:e})},El=({children:e,component:t},r)=>t?h.createElement(t,{params:r}):typeof e=="function"?e(r):e,m0=e=>{let t=h.useRef($d),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},ss=({path:e,nest:t,match:r,...n})=>{const a=Ls(),[o]=ua(a),[i,l,c]=r??ci(a.parser,e,o,t),d=m0({...d0(),...l});if(!i)return null;const p=c?h.createElement(u0,{base:c},El(n,d)):El(n,d);return h.createElement(Bd.Provider,{value:d,children:p})},p0=h.forwardRef((e,t)=>{const r=Ls(),[n,a]=ua(r),{to:o="",href:i=o,onClick:l,asChild:c,children:d,className:p,replace:u,state:m,...f}=e,b=Ld(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(i,e)))}),x=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:b,href:x}):h.createElement("a",{...f,onClick:b,href:x,className:p!=null&&p.call?p(n===i):p,children:d,ref:t})}),Gd=e=>Array.isArray(e)?e.flatMap(t=>Gd(t&&t.type===h.Fragment?t.props.children:t)):[e],h0=({children:e,location:t})=>{const r=Ls(),[n]=ua(r);for(const a of Gd(e)){let o=0;if(h.isValidElement(a)&&(o=ci(r.parser,a.props.path,t||n,a.props.nest))[0])return h.cloneElement(a,{match:o})}return null};var Ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kr=typeof window>"u"||"Deno"in globalThis;function Ot(){}function f0(e,t){return typeof e=="function"?e(t):e}function uo(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vd(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ns(e,t){return typeof e=="function"?e(t):e}function Ut(e,t){return typeof e=="function"?e(t):e}function Rl(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==di(i,t.options))return!1}else if(!sn(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function Dl(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Qr(t.options.mutationKey)!==Qr(o))return!1}else if(!sn(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function di(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qr)(e)}function Qr(e){return JSON.stringify(e,(t,r)=>mo(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function sn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!sn(e[r],t[r])):!1}function qd(e,t){if(e===t)return e;const r=Pl(e)&&Pl(t);if(r||mo(e)&&mo(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let d=0;d<i;d++){const p=r?d:o[d];(!r&&n.includes(p)||r)&&e[p]===void 0&&t[p]===void 0?(l[p]=void 0,c++):(l[p]=qd(e[p],t[p]),l[p]===e[p]&&e[p]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function Bn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Pl(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mo(e){if(!Al(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Al(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Al(e){return Object.prototype.toString.call(e)==="[object Object]"}function g0(e){return new Promise(t=>{setTimeout(t,e)})}function po(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?qd(e,t):t}function b0(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function x0(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ui=Symbol();function Wd(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ui?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $r,xr,us,Vc,v0=(Vc=class extends Ms{constructor(){super();me(this,$r);me(this,xr);me(this,us);te(this,us,t=>{if(!Kr&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,xr)||this.setEventListener(N(this,us))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,xr))==null||t.call(this),te(this,xr,void 0))}setEventListener(t){var r;te(this,us,t),(r=N(this,xr))==null||r.call(this),te(this,xr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,$r)!==t&&(te(this,$r,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,$r)=="boolean"?N(this,$r):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$r=new WeakMap,xr=new WeakMap,us=new WeakMap,Vc),mi=new v0,ms,vr,ps,qc,y0=(qc=class extends Ms{constructor(){super();me(this,ms,!0);me(this,vr);me(this,ps);te(this,ps,t=>{if(!Kr&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,vr)||this.setEventListener(N(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,vr))==null||t.call(this),te(this,vr,void 0))}setEventListener(t){var r;te(this,ps,t),(r=N(this,vr))==null||r.call(this),te(this,vr,t(this.setOnline.bind(this)))}setOnline(t){N(this,ms)!==t&&(te(this,ms,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,ms)}},ms=new WeakMap,vr=new WeakMap,ps=new WeakMap,qc),Un=new y0;function ho(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function w0(e){return Math.min(1e3*2**e,3e4)}function Hd(e){return(e??"online")==="online"?Un.isOnline():!0}var Kd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _a(e){return e instanceof Kd}function Qd(e){let t=!1,r=0,n=!1,a;const o=ho(),i=x=>{var g;n||(m(new Kd(x)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>mi.isFocused()&&(e.networkMode==="always"||Un.isOnline())&&e.canRun(),p=()=>Hd(e.networkMode)&&e.canRun(),u=x=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,x),a==null||a(),o.resolve(x))},m=x=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,x),a==null||a(),o.reject(x))},f=()=>new Promise(x=>{var g;a=v=>{(n||d())&&x(v)},(g=e.onPause)==null||g.call(e)}).then(()=>{var x;a=void 0,n||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(n)return;let x;const g=r===0?e.initialPromise:void 0;try{x=g??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(u).catch(v=>{var R;if(n)return;const y=e.retry??(Kr?0:3),w=e.retryDelay??w0,j=typeof w=="function"?w(r,v):w,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!k){m(v);return}r++,(R=e.onFail)==null||R.call(e,r,v),g0(j).then(()=>d()?void 0:f()).then(()=>{t?m(v):b()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?b():f().then(b),o)}}function j0(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var st=j0(),Br,Wc,Yd=(Wc=class{constructor(){me(this,Br)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uo(this.gcTime)&&te(this,Br,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Kr?1/0:5*60*1e3))}clearGcTimeout(){N(this,Br)&&(clearTimeout(N(this,Br)),te(this,Br,void 0))}},Br=new WeakMap,Wc),hs,fs,Tt,mt,fn,Ur,Bt,nr,Hc,k0=(Hc=class extends Yd{constructor(t){super();me(this,Bt);me(this,hs);me(this,fs);me(this,Tt);me(this,mt);me(this,fn);me(this,Ur);te(this,Ur,!1),te(this,fn,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,Tt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,hs,N0(this.options)),this.state=t.state??N(this,hs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,mt))==null?void 0:t.promise}setOptions(t){this.options={...N(this,fn),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Tt).remove(this)}setData(t,r){const n=po(this.state.data,t,this.options);return ve(this,Bt,nr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ve(this,Bt,nr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=N(this,mt))==null?void 0:n.promise;return(a=N(this,mt))==null||a.cancel(t),r?r.then(Ot).catch(Ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,hs))}isActive(){return this.observers.some(t=>Ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ui||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Vd(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,mt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,mt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Tt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,mt)&&(N(this,Ur)?N(this,mt).cancel({revert:!0}):N(this,mt).cancelRetry()),this.scheduleGc()),N(this,Tt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,Bt,nr).call(this,{type:"invalidate"})}fetch(t,r){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,mt))return N(this,mt).continueRetry(),N(this,mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(te(this,Ur,!0),n.signal)})},o=()=>{const u=Wd(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),te(this,Ur,!1),this.options.persister?this.options.persister(u,m,this):u(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),te(this,fs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&ve(this,Bt,nr).call(this,{type:"fetch",meta:(p=i.fetchOptions)==null?void 0:p.meta});const l=u=>{var m,f,b,x;_a(u)&&u.silent||ve(this,Bt,nr).call(this,{type:"error",error:u}),_a(u)||((f=(m=N(this,Tt).config).onError)==null||f.call(m,u,this),(x=(b=N(this,Tt).config).onSettled)==null||x.call(b,this.state.data,u,this)),this.scheduleGc()};return te(this,mt,Qd({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var m,f,b,x;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(g){l(g);return}(f=(m=N(this,Tt).config).onSuccess)==null||f.call(m,u,this),(x=(b=N(this,Tt).config).onSettled)==null||x.call(b,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,m)=>{ve(this,Bt,nr).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{ve(this,Bt,nr).call(this,{type:"pause"})},onContinue:()=>{ve(this,Bt,nr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),N(this,mt).start()}},hs=new WeakMap,fs=new WeakMap,Tt=new WeakMap,mt=new WeakMap,fn=new WeakMap,Ur=new WeakMap,Bt=new WeakSet,nr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xd(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return _a(a)&&a.revert&&N(this,fs)?{...N(this,fs),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),st.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,Tt).notify({query:this,type:"updated",action:t})})},Hc);function Xd(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hd(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function N0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yt,Kc,C0=(Kc=class extends Ms{constructor(t={}){super();me(this,Yt);this.config=t,te(this,Yt,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??di(a,r);let i=this.get(o);return i||(i=new k0({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){N(this,Yt).has(t.queryHash)||(N(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,Yt).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){st.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Yt).get(t)}getAll(){return[...N(this,Yt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Rl(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Rl(t,n)):r}notify(t){st.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){st.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){st.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,Kc),Xt,gt,Gr,Jt,br,Qc,S0=(Qc=class extends Yd{constructor(t){super();me(this,Jt);me(this,Xt);me(this,gt);me(this,Gr);this.mutationId=t.mutationId,te(this,gt,t.mutationCache),te(this,Xt,[]),this.state=t.state||Jd(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Xt).includes(t)||(N(this,Xt).push(t),this.clearGcTimeout(),N(this,gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,Xt,N(this,Xt).filter(r=>r!==t)),this.scheduleGc(),N(this,gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():N(this,gt).remove(this))}continue(){var t;return((t=N(this,Gr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,c,d,p,u,m,f,b,x,g,v,y,w,j,k,R,S;te(this,Gr,Qd({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,T)=>{ve(this,Jt,br).call(this,{type:"failed",failureCount:I,error:T})},onPause:()=>{ve(this,Jt,br).call(this,{type:"pause"})},onContinue:()=>{ve(this,Jt,br).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,gt).canRun(this)}));const r=this.state.status==="pending",n=!N(this,Gr).canStart();try{if(!r){ve(this,Jt,br).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(a=N(this,gt).config).onMutate)==null?void 0:o.call(a,t,this));const T=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));T!==this.state.context&&ve(this,Jt,br).call(this,{type:"pending",context:T,variables:t,isPaused:n})}const I=await N(this,Gr).start();return await((d=(c=N(this,gt).config).onSuccess)==null?void 0:d.call(c,I,t,this.state.context,this)),await((u=(p=this.options).onSuccess)==null?void 0:u.call(p,I,t,this.state.context)),await((f=(m=N(this,gt).config).onSettled)==null?void 0:f.call(m,I,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,I,null,t,this.state.context)),ve(this,Jt,br).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(g=N(this,gt).config).onError)==null?void 0:v.call(g,I,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,I,t,this.state.context)),await((k=(j=N(this,gt).config).onSettled)==null?void 0:k.call(j,void 0,I,this.state.variables,this.state.context,this)),await((S=(R=this.options).onSettled)==null?void 0:S.call(R,void 0,I,t,this.state.context)),I}finally{ve(this,Jt,br).call(this,{type:"error",error:I})}}finally{N(this,gt).runNext(this)}}},Xt=new WeakMap,gt=new WeakMap,Gr=new WeakMap,Jt=new WeakSet,br=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),st.batch(()=>{N(this,Xt).forEach(n=>{n.onMutationUpdate(t)}),N(this,gt).notify({mutation:this,type:"updated",action:t})})},Qc);function Jd(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nt,gn,Yc,E0=(Yc=class extends Ms{constructor(t={}){super();me(this,Nt);me(this,gn);this.config=t,te(this,Nt,new Map),te(this,gn,Date.now())}build(t,r,n){const a=new S0({mutationCache:this,mutationId:++Sn(this,gn)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=En(t),n=N(this,Nt).get(r)??[];n.push(t),N(this,Nt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=En(t);if(N(this,Nt).has(r)){const a=(n=N(this,Nt).get(r))==null?void 0:n.filter(o=>o!==t);a&&(a.length===0?N(this,Nt).delete(r):N(this,Nt).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=N(this,Nt).get(En(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=N(this,Nt).get(En(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){st.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...N(this,Nt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Dl(r,n))}findAll(t={}){return this.getAll().filter(r=>Dl(t,r))}notify(t){st.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return st.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ot))))}},Nt=new WeakMap,gn=new WeakMap,Yc);function En(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Il(e){return{onFetch:(t,r)=>{var p,u,m,f,b;const n=t.options,a=(m=(u=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=Wd(t.options,t.fetchOptions),y=async(w,j,k)=>{if(x)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const R={queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};g(R);const S=await v(R),{maxPages:I}=t.options,T=k?x0:b0;return{pages:T(w.pages,S,I),pageParams:T(w.pageParams,j,I)}};if(a&&o.length){const w=a==="backward",j=w?R0:Tl,k={pages:o,pageParams:i},R=j(n,k);l=await y(k,R,w)}else{const w=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:Tl(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,g;return(g=(x=t.options).persister)==null?void 0:g.call(x,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Tl(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function R0(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var et,yr,wr,gs,bs,jr,xs,vs,Xc,D0=(Xc=class{constructor(e={}){me(this,et);me(this,yr);me(this,wr);me(this,gs);me(this,bs);me(this,jr);me(this,xs);me(this,vs);te(this,et,e.queryCache||new C0),te(this,yr,e.mutationCache||new E0),te(this,wr,e.defaultOptions||{}),te(this,gs,new Map),te(this,bs,new Map),te(this,jr,0)}mount(){Sn(this,jr)._++,N(this,jr)===1&&(te(this,xs,mi.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,et).onFocus())})),te(this,vs,Un.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,et).onOnline())})))}unmount(){var e,t;Sn(this,jr)._--,N(this,jr)===0&&((e=N(this,xs))==null||e.call(this),te(this,xs,void 0),(t=N(this,vs))==null||t.call(this),te(this,vs,void 0))}isFetching(e){return N(this,et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,yr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,et).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=N(this,et).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(ns(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return N(this,et).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=N(this,et).get(n.queryHash),o=a==null?void 0:a.state.data,i=f0(t,o);if(i!==void 0)return N(this,et).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return st.batch(()=>N(this,et).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,et).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,et);st.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,et),n={type:"active",...e};return st.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=st.batch(()=>N(this,et).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ot).catch(Ot)}invalidateQueries(e={},t={}){return st.batch(()=>{if(N(this,et).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=st.batch(()=>N(this,et).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ot)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ot)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,et).build(this,t);return r.isStaleByTime(ns(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ot).catch(Ot)}fetchInfiniteQuery(e){return e.behavior=Il(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ot).catch(Ot)}ensureInfiniteQueryData(e){return e.behavior=Il(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Un.isOnline()?N(this,yr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,et)}getMutationCache(){return N(this,yr)}getDefaultOptions(){return N(this,wr)}setDefaultOptions(e){te(this,wr,e)}setQueryDefaults(e,t){N(this,gs).set(Qr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,gs).values()];let r={};return t.forEach(n=>{sn(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){N(this,bs).set(Qr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,bs).values()];let r={};return t.forEach(n=>{sn(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,wr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=di(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ui&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,wr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,et).clear(),N(this,yr).clear()}},et=new WeakMap,yr=new WeakMap,wr=new WeakMap,gs=new WeakMap,bs=new WeakMap,jr=new WeakMap,xs=new WeakMap,vs=new WeakMap,Xc),wt,Re,bn,bt,Vr,ys,kr,Zt,xn,ws,js,qr,Wr,Nr,ks,Le,Ys,fo,go,bo,xo,vo,yo,wo,Zd,Jc,P0=(Jc=class extends Ms{constructor(t,r){super();me(this,Le);me(this,wt);me(this,Re);me(this,bn);me(this,bt);me(this,Vr);me(this,ys);me(this,kr);me(this,Zt);me(this,xn);me(this,ws);me(this,js);me(this,qr);me(this,Wr);me(this,Nr);me(this,ks,new Set);this.options=r,te(this,wt,t),te(this,Zt,null),te(this,kr,ho()),this.options.experimental_prefetchInRender||N(this,kr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Re).addObserver(this),Ol(N(this,Re),this.options)?ve(this,Le,Ys).call(this):this.updateResult(),ve(this,Le,xo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jo(N(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jo(N(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,Le,vo).call(this),ve(this,Le,yo).call(this),N(this,Re).removeObserver(this)}setOptions(t,r){const n=this.options,a=N(this,Re);if(this.options=N(this,wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ut(this.options.enabled,N(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,Le,wo).call(this),N(this,Re).setOptions(this.options),n._defaulted&&!Bn(this.options,n)&&N(this,wt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Re),observer:this});const o=this.hasListeners();o&&Ll(N(this,Re),a,this.options,n)&&ve(this,Le,Ys).call(this),this.updateResult(r),o&&(N(this,Re)!==a||Ut(this.options.enabled,N(this,Re))!==Ut(n.enabled,N(this,Re))||ns(this.options.staleTime,N(this,Re))!==ns(n.staleTime,N(this,Re)))&&ve(this,Le,fo).call(this);const i=ve(this,Le,go).call(this);o&&(N(this,Re)!==a||Ut(this.options.enabled,N(this,Re))!==Ut(n.enabled,N(this,Re))||i!==N(this,Nr))&&ve(this,Le,bo).call(this,i)}getOptimisticResult(t){const r=N(this,wt).getQueryCache().build(N(this,wt),t),n=this.createResult(r,t);return I0(this,n)&&(te(this,bt,n),te(this,ys,this.options),te(this,Vr,N(this,Re).state)),n}getCurrentResult(){return N(this,bt)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){N(this,ks).add(t)}getCurrentQuery(){return N(this,Re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,wt).defaultQueryOptions(t),n=N(this,wt).getQueryCache().build(N(this,wt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ve(this,Le,Ys).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,bt)))}createResult(t,r){var I;const n=N(this,Re),a=this.options,o=N(this,bt),i=N(this,Vr),l=N(this,ys),d=t!==n?t.state:N(this,bn),{state:p}=t;let u={...p},m=!1,f;if(r._optimisticResults){const T=this.hasListeners(),F=!T&&Ol(t,r),$=T&&Ll(t,n,r,a);(F||$)&&(u={...u,...Xd(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:g}=u;if(r.select&&u.data!==void 0)if(o&&u.data===(i==null?void 0:i.data)&&r.select===N(this,xn))f=N(this,ws);else try{te(this,xn,r.select),f=r.select(u.data),f=po(o==null?void 0:o.data,f,r),te(this,ws,f),te(this,Zt,null)}catch(T){te(this,Zt,T)}else f=u.data;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let T;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=o.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((I=N(this,js))==null?void 0:I.state.data,N(this,js)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),te(this,Zt,null)}catch(F){te(this,Zt,F)}T!==void 0&&(g="success",f=po(o==null?void 0:o.data,T,r),m=!0)}N(this,Zt)&&(b=N(this,Zt),f=N(this,ws),x=Date.now(),g="error");const v=u.fetchStatus==="fetching",y=g==="pending",w=g==="error",j=y&&v,k=f!==void 0,S={status:g,fetchStatus:u.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:u.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!k,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&k,isStale:pi(t,r),refetch:this.refetch,promise:N(this,kr)};if(this.options.experimental_prefetchInRender){const T=G=>{S.status==="error"?G.reject(S.error):S.data!==void 0&&G.resolve(S.data)},F=()=>{const G=te(this,kr,S.promise=ho());T(G)},$=N(this,kr);switch($.status){case"pending":t.queryHash===n.queryHash&&T($);break;case"fulfilled":(S.status==="error"||S.data!==$.value)&&F();break;case"rejected":(S.status!=="error"||S.error!==$.reason)&&F();break}}return S}updateResult(t){const r=N(this,bt),n=this.createResult(N(this,Re),this.options);if(te(this,Vr,N(this,Re).state),te(this,ys,this.options),N(this,Vr).data!==void 0&&te(this,js,N(this,Re)),Bn(n,r))return;te(this,bt,n);const a={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!N(this,ks).size)return!0;const c=new Set(l??N(this,ks));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,bt)).some(d=>{const p=d;return N(this,bt)[p]!==r[p]&&c.has(p)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),ve(this,Le,Zd).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,Le,xo).call(this)}},wt=new WeakMap,Re=new WeakMap,bn=new WeakMap,bt=new WeakMap,Vr=new WeakMap,ys=new WeakMap,kr=new WeakMap,Zt=new WeakMap,xn=new WeakMap,ws=new WeakMap,js=new WeakMap,qr=new WeakMap,Wr=new WeakMap,Nr=new WeakMap,ks=new WeakMap,Le=new WeakSet,Ys=function(t){ve(this,Le,wo).call(this);let r=N(this,Re).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ot)),r},fo=function(){ve(this,Le,vo).call(this);const t=ns(this.options.staleTime,N(this,Re));if(Kr||N(this,bt).isStale||!uo(t))return;const n=Vd(N(this,bt).dataUpdatedAt,t)+1;te(this,qr,setTimeout(()=>{N(this,bt).isStale||this.updateResult()},n))},go=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Re)):this.options.refetchInterval)??!1},bo=function(t){ve(this,Le,yo).call(this),te(this,Nr,t),!(Kr||Ut(this.options.enabled,N(this,Re))===!1||!uo(N(this,Nr))||N(this,Nr)===0)&&te(this,Wr,setInterval(()=>{(this.options.refetchIntervalInBackground||mi.isFocused())&&ve(this,Le,Ys).call(this)},N(this,Nr)))},xo=function(){ve(this,Le,fo).call(this),ve(this,Le,bo).call(this,ve(this,Le,go).call(this))},vo=function(){N(this,qr)&&(clearTimeout(N(this,qr)),te(this,qr,void 0))},yo=function(){N(this,Wr)&&(clearInterval(N(this,Wr)),te(this,Wr,void 0))},wo=function(){const t=N(this,wt).getQueryCache().build(N(this,wt),this.options);if(t===N(this,Re))return;const r=N(this,Re);te(this,Re,t),te(this,bn,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Zd=function(t){st.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,bt))}),N(this,wt).getQueryCache().notify({query:N(this,Re),type:"observerResultsUpdated"})})},Jc);function A0(e,t){return Ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ol(e,t){return A0(e,t)||e.state.data!==void 0&&jo(e,t,t.refetchOnMount)}function jo(e,t,r){if(Ut(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&pi(e,t)}return!1}function Ll(e,t,r,n){return(e!==t||Ut(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&pi(e,r)}function pi(e,t){return Ut(t.enabled,e)!==!1&&e.isStaleByTime(ns(t.staleTime,e))}function I0(e,t){return!Bn(e.getCurrentResult(),t)}var Cr,Sr,jt,or,lr,Tn,ko,Zc,T0=(Zc=class extends Ms{constructor(r,n){super();me(this,lr);me(this,Cr);me(this,Sr);me(this,jt);me(this,or);te(this,Cr,r),this.setOptions(n),this.bindMethods(),ve(this,lr,Tn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=N(this,Cr).defaultMutationOptions(r),Bn(this.options,n)||N(this,Cr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,jt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Qr(n.mutationKey)!==Qr(this.options.mutationKey)?this.reset():((a=N(this,jt))==null?void 0:a.state.status)==="pending"&&N(this,jt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,jt))==null||r.removeObserver(this)}onMutationUpdate(r){ve(this,lr,Tn).call(this),ve(this,lr,ko).call(this,r)}getCurrentResult(){return N(this,Sr)}reset(){var r;(r=N(this,jt))==null||r.removeObserver(this),te(this,jt,void 0),ve(this,lr,Tn).call(this),ve(this,lr,ko).call(this)}mutate(r,n){var a;return te(this,or,n),(a=N(this,jt))==null||a.removeObserver(this),te(this,jt,N(this,Cr).getMutationCache().build(N(this,Cr),this.options)),N(this,jt).addObserver(this),N(this,jt).execute(r)}},Cr=new WeakMap,Sr=new WeakMap,jt=new WeakMap,or=new WeakMap,lr=new WeakSet,Tn=function(){var n;const r=((n=N(this,jt))==null?void 0:n.state)??Jd();te(this,Sr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ko=function(r){st.batch(()=>{var n,a,o,i,l,c,d,p;if(N(this,or)&&this.hasListeners()){const u=N(this,Sr).variables,m=N(this,Sr).context;(r==null?void 0:r.type)==="success"?((a=(n=N(this,or)).onSuccess)==null||a.call(n,r.data,u,m),(i=(o=N(this,or)).onSettled)==null||i.call(o,r.data,null,u,m)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,or)).onError)==null||c.call(l,r.error,u,m),(p=(d=N(this,or)).onSettled)==null||p.call(d,void 0,r.error,u,m))}this.listeners.forEach(u=>{u(N(this,Sr))})})},Zc),eu=h.createContext(void 0),_s=e=>{const t=h.useContext(eu);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},O0=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(eu.Provider,{value:e,children:t})),tu=h.createContext(!1),L0=()=>h.useContext(tu);tu.Provider;function M0(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _0=h.createContext(M0()),F0=()=>h.useContext(_0);function ru(e,t){return typeof e=="function"?e(...t):!!e}function No(){}var z0=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$0=e=>{h.useEffect(()=>{e.clearReset()},[e])},B0=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&ru(r,[e.error,n]),U0=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},G0=(e,t)=>e.isLoading&&e.isFetching&&!t,V0=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ml=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function q0(e,t,r){var p,u,m,f,b;const n=_s(),a=L0(),o=F0(),i=n.defaultQueryOptions(e);(u=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||u.call(p,i),i._optimisticResults=a?"isRestoring":"optimistic",U0(i),z0(i,o),$0(o);const l=!n.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(n,i)),d=c.getOptimisticResult(i);if(h.useSyncExternalStore(h.useCallback(x=>{const g=a?No:c.subscribe(st.batchCalls(x));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),V0(i,d))throw Ml(i,c,o);if(B0({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw d.error;if((f=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||f.call(m,i,d),i.experimental_prefetchInRender&&!Kr&&G0(d,a)){const x=l?Ml(i,c,o):(b=n.getQueryCache().get(i.queryHash))==null?void 0:b.promise;x==null||x.catch(No).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function Wt(e,t){return q0(e,P0)}function Ae(e,t){const r=_s(),[n]=h.useState(()=>new T0(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const a=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(st.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((i,l)=>{n.mutate(i,l).catch(No)},[n]);if(a.error&&ru(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function su(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Be(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await su(n),n}const W0=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await su(r),await r.json())},ir=new D0({defaultOptions:{queries:{queryFn:W0({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),H0=1,K0=1e6;let Fa=0;function Q0(){return Fa=(Fa+1)%Number.MAX_SAFE_INTEGER,Fa.toString()}const za=new Map,_l=e=>{if(za.has(e))return;const t=setTimeout(()=>{za.delete(e),Zs({type:"REMOVE_TOAST",toastId:e})},K0);za.set(e,t)},Y0=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,H0)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_l(r):e.toasts.forEach(n=>{_l(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},On=[];let Ln={toasts:[]};function Zs(e){Ln=Y0(Ln,e),On.forEach(t=>{t(Ln)})}function X0({...e}){const t=Q0(),r=a=>Zs({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Zs({type:"DISMISS_TOAST",toastId:t});return Zs({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Rt(){const[e,t]=h.useState(Ln);return h.useEffect(()=>(On.push(t),()=>{const r=On.indexOf(t);r>-1&&On.splice(r,1)}),[e]),{...e,toast:X0,dismiss:r=>Zs({type:"DISMISS_TOAST",toastId:r})}}var hi="ToastProvider",[fi,J0,Z0]=lg("Toast"),[nu,yC]=er("Toast",[Z0]),[eb,ma]=nu(hi),au=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[d,p]=h.useState(0),u=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${hi}\`. Expected non-empty \`string\`.`),s.jsx(fi.Provider,{scope:t,children:s.jsx(eb,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>p(f=>f+1),[]),onToastRemove:h.useCallback(()=>p(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:i})})};au.displayName=hi;var ou="ToastViewport",tb=["F8"],Co="toast.viewportPause",So="toast.viewportResume",iu=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=tb,label:a="Notifications ({hotkey})",...o}=e,i=ma(ou,r),l=J0(r),c=h.useRef(null),d=h.useRef(null),p=h.useRef(null),u=h.useRef(null),m=ot(t,u,i.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const g=v=>{var w;n.length!==0&&n.every(j=>v[j]||v.code===j)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),h.useEffect(()=>{const g=c.current,v=u.current;if(b&&g&&v){const y=()=>{if(!i.isClosePausedRef.current){const R=new CustomEvent(Co);v.dispatchEvent(R),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const R=new CustomEvent(So);v.dispatchEvent(R),i.isClosePausedRef.current=!1}},j=R=>{!g.contains(R.relatedTarget)&&w()},k=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",j),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",k),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",j),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",k),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const x=h.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const j=w.ref.current,k=[j,...hb(j)];return g==="forwards"?k:k.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return h.useEffect(()=>{const g=u.current;if(g){const v=y=>{var k,R,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const I=document.activeElement,T=y.shiftKey;if(y.target===g&&T){(k=d.current)==null||k.focus();return}const G=x({tabbingDirection:T?"backwards":"forwards"}),de=G.findIndex(B=>B===I);$a(G.slice(de+1))?y.preventDefault():T?(R=d.current)==null||R.focus():(S=p.current)==null||S.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[l,x]),s.jsxs(cg,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(Eo,{ref:d,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"forwards"});$a(g)}}),s.jsx(fi.Slot,{scope:r,children:s.jsx(Ve.ol,{tabIndex:-1,...o,ref:m})}),b&&s.jsx(Eo,{ref:p,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"backwards"});$a(g)}})]})});iu.displayName=ou;var lu="ToastFocusProxy",Eo=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=ma(lu,r);return s.jsx(ed,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});Eo.displayName=lu;var pa="Toast",rb="toast.swipeStart",sb="toast.swipeMove",nb="toast.swipeCancel",ab="toast.swipeEnd",cu=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=Os({prop:n,defaultProp:a,onChange:o});return s.jsx(Ht,{present:r||l,children:s.jsx(lb,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Gt(e.onPause),onResume:Gt(e.onResume),onSwipeStart:ke(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,d=>{const{x:p,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ke(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,d=>{const{x:p,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});cu.displayName=pa;var[ob,ib]=nu(pa,{onClose(){}}),lb=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:p,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:f,...b}=e,x=ma(pa,r),[g,v]=h.useState(null),y=ot(t,B=>v(B)),w=h.useRef(null),j=h.useRef(null),k=a||x.duration,R=h.useRef(0),S=h.useRef(k),I=h.useRef(0),{onToastAdd:T,onToastRemove:F}=x,$=Gt(()=>{var Y;(g==null?void 0:g.contains(document.activeElement))&&((Y=x.viewport)==null||Y.focus()),i()}),G=h.useCallback(B=>{!B||B===1/0||(window.clearTimeout(I.current),R.current=new Date().getTime(),I.current=window.setTimeout($,B))},[$]);h.useEffect(()=>{const B=x.viewport;if(B){const Y=()=>{G(S.current),d==null||d()},_=()=>{const O=new Date().getTime()-R.current;S.current=S.current-O,window.clearTimeout(I.current),c==null||c()};return B.addEventListener(Co,_),B.addEventListener(So,Y),()=>{B.removeEventListener(Co,_),B.removeEventListener(So,Y)}}},[x.viewport,k,c,d,G]),h.useEffect(()=>{o&&!x.isClosePausedRef.current&&G(k)},[o,k,x.isClosePausedRef,G]),h.useEffect(()=>(T(),()=>F()),[T,F]);const de=h.useMemo(()=>g?gu(g):null,[g]);return x.viewport?s.jsxs(s.Fragment,{children:[de&&s.jsx(cb,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:de}),s.jsx(ob,{scope:r,onClose:$,children:ca.createPortal(s.jsx(fi.ItemSlot,{scope:r,children:s.jsx(dg,{asChild:!0,onEscapeKeyDown:ke(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||$(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:ke(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:ke(e.onPointerMove,B=>{if(!w.current)return;const Y=B.clientX-w.current.x,_=B.clientY-w.current.y,O=!!j.current,Z=["left","right"].includes(x.swipeDirection),q=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,L=Z?q(0,Y):0,V=Z?0:q(0,_),C=B.pointerType==="touch"?10:2,he={x:L,y:V},z={originalEvent:B,delta:he};O?(j.current=he,Rn(sb,u,z,{discrete:!1})):Fl(he,x.swipeDirection,C)?(j.current=he,Rn(rb,p,z,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Y)>C||Math.abs(_)>C)&&(w.current=null)}),onPointerUp:ke(e.onPointerUp,B=>{const Y=j.current,_=B.target;if(_.hasPointerCapture(B.pointerId)&&_.releasePointerCapture(B.pointerId),j.current=null,w.current=null,Y){const O=B.currentTarget,Z={originalEvent:B,delta:Y};Fl(Y,x.swipeDirection,x.swipeThreshold)?Rn(ab,f,Z,{discrete:!0}):Rn(nb,m,Z,{discrete:!0}),O.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),cb=e=>{const{__scopeToast:t,children:r,...n}=e,a=ma(pa,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return mb(()=>i(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(td,{asChild:!0,children:s.jsx(ed,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},db="ToastTitle",du=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});du.displayName=db;var ub="ToastDescription",uu=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});uu.displayName=ub;var mu="ToastAction",pu=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(fu,{altText:r,asChild:!0,children:s.jsx(gi,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mu}\`. Expected non-empty \`string\`.`),null)});pu.displayName=mu;var hu="ToastClose",gi=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=ib(hu,r);return s.jsx(fu,{asChild:!0,children:s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,a.onClose)})})});gi.displayName=hu;var fu=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function gu(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pb(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...gu(n))}}),t}function Rn(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ug(a,o):a.dispatchEvent(o)}var Fl=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function mb(e=()=>{}){const t=Gt(e);rd(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function pb(e){return e.nodeType===e.ELEMENT_NODE}function hb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $a(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var fb=au,bu=iu,xu=cu,vu=du,yu=uu,wu=pu,ju=gi;function ku(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ku(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Nu(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ku(e))&&(n&&(n+=" "),n+=t);return n}const zl=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$l=Nu,ha=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $l(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const p=r==null?void 0:r[d],u=o==null?void 0:o[d];if(p===null)return null;const m=zl(p)||zl(u);return a[d][m]}),l=r&&Object.entries(r).reduce((d,p)=>{let[u,m]=p;return m===void 0||(d[u]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,p)=>{let{class:u,className:m,...f}=p;return Object.entries(f).every(b=>{let[x,g]=b;return Array.isArray(g)?g.includes({...o,...l}[x]):{...o,...l}[x]===g})?[...d,u,m]:d},[]);return $l(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cu=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...bb,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Cu("lucide",a),...l},[...i.map(([d,p])=>h.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=h.forwardRef(({className:n,...a},o)=>h.createElement(xb,{ref:o,iconNode:t,className:Cu(`lucide-${gb(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Q("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Q("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Q("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Q("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Q("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Q("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Q("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Q("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Q("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Q("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Q("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Q("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Q("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Q("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Q("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Q("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Q("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Q("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Q("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Q("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Q("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Q("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Q("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Q("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Q("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Q("Rows2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Q("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Q("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Q("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Q("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Q("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vi="-",sx=e=>{const t=ax(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(vi);return l[0]===""&&l.length!==1&&l.shift(),_u(l,t)||nx(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},_u=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?_u(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(vi);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Wl=/^\[(.+)\]$/,nx=e=>{if(Wl.test(e)){const t=Wl.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ax=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ix(Object.entries(e.classGroups),r).forEach(([o,i])=>{Io(i,n,o,t)}),n},Io=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Hl(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(ox(a)){Io(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{Io(i,Hl(t,o),r,n)})})},Hl=(e,t)=>{let r=e;return t.split(vi).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ox=e=>e.isThemeGetter,ix=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,lx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},Fu="!",cx=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,p=0,u;for(let g=0;g<l.length;g++){let v=l[g];if(d===0){if(v===a&&(n||l.slice(g,g+o)===t)){c.push(l.slice(p,g)),p=g+o;continue}if(v==="/"){u=g;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(p),f=m.startsWith(Fu),b=f?m.substring(1):m,x=u&&u>p?u-p:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},dx=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ux=e=>({cache:lx(e.cacheSize),parseClassName:cx(e),...sx(e)}),mx=/\s+/,px=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(mx);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:p,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:f}=r(d);let b=!!f,x=n(b?m.substring(0,f):m);if(!x){if(!b){l=d+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=d+(l.length>0?" "+l:l);continue}b=!1}const g=dx(p).join(":"),v=u?g+Fu:g,y=v+x;if(o.includes(y))continue;o.push(y);const w=a(x,b);for(let j=0;j<w.length;++j){const k=w[j];o.push(v+k)}l=d+(l.length>0?" "+l:l)}return l};function hx(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zu(t))&&(n&&(n+=" "),n+=r);return n}const zu=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zu(e[n]))&&(r&&(r+=" "),r+=t);return r};function fx(e,...t){let r,n,a,o=i;function i(c){const d=t.reduce((p,u)=>u(p),e());return r=ux(d),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const p=px(c,r);return a(c,p),p}return function(){return o(hx.apply(null,arguments))}}const We=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$u=/^\[(?:([a-z-]+):)?(.+)\]$/i,gx=/^\d+\/\d+$/,bx=new Set(["px","full","screen"]),xx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=e=>is(e)||bx.has(e)||gx.test(e),fr=e=>Fs(e,"length",Px),is=e=>!!e&&!Number.isNaN(Number(e)),Wa=e=>Fs(e,"number",is),qs=e=>!!e&&Number.isInteger(Number(e)),kx=e=>e.endsWith("%")&&is(e.slice(0,-1)),xe=e=>$u.test(e),gr=e=>xx.test(e),Nx=new Set(["length","size","percentage"]),Cx=e=>Fs(e,Nx,Bu),Sx=e=>Fs(e,"position",Bu),Ex=new Set(["image","url"]),Rx=e=>Fs(e,Ex,Ix),Dx=e=>Fs(e,"",Ax),Ws=()=>!0,Fs=(e,t,r)=>{const n=$u.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Px=e=>vx.test(e)&&!yx.test(e),Bu=()=>!1,Ax=e=>wx.test(e),Ix=e=>jx.test(e),Tx=()=>{const e=We("colors"),t=We("spacing"),r=We("blur"),n=We("brightness"),a=We("borderColor"),o=We("borderRadius"),i=We("borderSpacing"),l=We("borderWidth"),c=We("contrast"),d=We("grayscale"),p=We("hueRotate"),u=We("invert"),m=We("gap"),f=We("gradientColorStops"),b=We("gradientColorStopPositions"),x=We("inset"),g=We("margin"),v=We("opacity"),y=We("padding"),w=We("saturate"),j=We("scale"),k=We("sepia"),R=We("skew"),S=We("space"),I=We("translate"),T=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",xe,t],G=()=>[xe,t],de=()=>["",sr,fr],B=()=>["auto",is,xe],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",xe],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[is,xe];return{cacheSize:500,separator:":",theme:{colors:[Ws],spacing:[sr,fr],blur:["none","",gr,xe],brightness:V(),borderColor:[e],borderRadius:["none","","full",gr,xe],borderSpacing:G(),borderWidth:de(),contrast:V(),grayscale:q(),hueRotate:V(),invert:q(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[kx,fr],inset:$(),margin:$(),opacity:V(),padding:G(),saturate:V(),scale:V(),sepia:q(),skew:V(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[gr]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),xe]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qs,xe]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",qs,xe]}],"grid-cols":[{"grid-cols":[Ws]}],"col-start-end":[{col:["auto",{span:["full",qs,xe]},xe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ws]}],"row-start-end":[{row:["auto",{span:[qs,xe]},xe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[gr]},gr]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gr,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wa]}],"font-family":[{font:[Ws]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",is,Wa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,fr]}],"underline-offset":[{"underline-offset":["auto",sr,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Sx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Rx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[sr,xe]}],"outline-w":[{outline:[sr,fr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[sr,fr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gr,Dx]}],"shadow-color":[{shadow:[Ws]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gr,xe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[qs,xe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sr,fr,Wa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ox=fx(Tx);function J(...e){return Ox(Nu(e))}function Ha(){const e="table_app_user_id";let t=localStorage.getItem(e);return t||(t=`user_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,localStorage.setItem(e,t)),t}const Lx=fb,Uu=h.forwardRef(({className:e,...t},r)=>s.jsx(bu,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Uu.displayName=bu.displayName;const Mx=ha("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Gu=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(xu,{ref:n,className:J(Mx({variant:t}),e),...r}));Gu.displayName=xu.displayName;const _x=h.forwardRef(({className:e,...t},r)=>s.jsx(wu,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_x.displayName=wu.displayName;const Vu=h.forwardRef(({className:e,...t},r)=>s.jsx(ju,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(yt,{className:"h-4 w-4"})}));Vu.displayName=ju.displayName;const qu=h.forwardRef(({className:e,...t},r)=>s.jsx(vu,{ref:r,className:J("text-sm font-semibold",e),...t}));qu.displayName=vu.displayName;const Wu=h.forwardRef(({className:e,...t},r)=>s.jsx(yu,{ref:r,className:J("text-sm opacity-90",e),...t}));Wu.displayName=yu.displayName;function Fx(){const{toasts:e}=Rt();return s.jsxs(Lx,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(Gu,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(qu,{children:r}),n&&s.jsx(Wu,{children:n})]}),a,s.jsx(Vu,{})]},t)}),s.jsx(Uu,{})]})}var[ba,wC]=er("Tooltip",[ia]),yi=ia(),Hu="TooltipProvider",zx=700,Kl="tooltip.open",[$x,Ku]=ba(Hu),Qu=e=>{const{__scopeTooltip:t,delayDuration:r=zx,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx($x,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:o})};Qu.displayName=Hu;var Yu="Tooltip",[jC,xa]=ba(Yu),To="TooltipTrigger",Bx=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=xa(To,r),o=Ku(To,r),i=yi(r),l=h.useRef(null),c=ot(t,l,a.onTriggerChange),d=h.useRef(!1),p=h.useRef(!1),u=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),s.jsx(Xo,{asChild:!0,...i,children:s.jsx(Ve.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ke(e.onPointerMove,m=>{m.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),p.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{a.onTriggerLeave(),p.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:ke(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ke(e.onBlur,a.onClose),onClick:ke(e.onClick,a.onClose)})})});Bx.displayName=To;var Ux="TooltipPortal",[kC,Gx]=ba(Ux,{forceMount:void 0}),Cs="TooltipContent",Xu=h.forwardRef((e,t)=>{const r=Gx(Cs,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=xa(Cs,e.__scopeTooltip);return s.jsx(Ht,{present:n||i.open,children:i.disableHoverableContent?s.jsx(Ju,{side:a,...o,ref:t}):s.jsx(Vx,{side:a,...o,ref:t})})}),Vx=h.forwardRef((e,t)=>{const r=xa(Cs,e.__scopeTooltip),n=Ku(Cs,e.__scopeTooltip),a=h.useRef(null),o=ot(t,a),[i,l]=h.useState(null),{trigger:c,onClose:d}=r,p=a.current,{onPointerInTransitChange:u}=n,m=h.useCallback(()=>{l(null),u(!1)},[u]),f=h.useCallback((b,x)=>{const g=b.currentTarget,v={x:b.clientX,y:b.clientY},y=Qx(v,g.getBoundingClientRect()),w=Yx(v,y),j=Xx(x.getBoundingClientRect()),k=Zx([...w,...j]);l(k),u(!0)},[u]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&p){const b=g=>f(g,p),x=g=>f(g,c);return c.addEventListener("pointerleave",b),p.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",b),p.removeEventListener("pointerleave",x)}}},[c,p,f,m]),h.useEffect(()=>{if(i){const b=x=>{const g=x.target,v={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(g))||(p==null?void 0:p.contains(g)),w=!Jx(v,i);y?m():w&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,p,i,d,m]),s.jsx(Ju,{...e,ref:o})}),[qx,Wx]=ba(Yu,{isInside:!1}),Hx=od("TooltipContent"),Ju=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=xa(Cs,r),d=yi(r),{onClose:p}=c;return h.useEffect(()=>(document.addEventListener(Kl,p),()=>document.removeEventListener(Kl,p)),[p]),h.useEffect(()=>{if(c.trigger){const u=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&p()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,p]),s.jsx(sd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:p,children:s.jsxs(nd,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Hx,{children:n}),s.jsx(qx,{scope:r,isInside:!0,children:s.jsx(mg,{id:c.contentId,role:"tooltip",children:a||n})})]})})});Xu.displayName=Cs;var Zu="TooltipArrow",Kx=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=yi(r);return Wx(Zu,r).isInside?null:s.jsx(ad,{...a,...n,ref:t})});Kx.displayName=Zu;function Qx(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Yx(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Xx(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Jx(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,d=t[i].x,p=t[i].y;c>n!=p>n&&r<(d-l)*(n-c)/(p-c)+l&&(a=!a)}return a}function Zx(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ev(t)}function ev(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var tv=Qu,em=Xu;const rv=tv,sv=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(em,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));sv.displayName=em.displayName;const tm=h.createContext(void 0);function nv({children:e}){const[t,r]=h.useState(()=>localStorage.getItem("theme")||"light");h.useEffect(()=>{const a=document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")};return s.jsx(tm.Provider,{value:{theme:t,toggleTheme:n},children:e})}function wi(){const e=h.useContext(tm);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function ji(){const e=_s(),{data:t=[],isLoading:r}=Wt({queryKey:["/api/table-rows"]}),{data:n=[],isLoading:a}=Wt({queryKey:["/api/table-columns"]}),o=Ae({mutationFn:async x=>(await Be("POST","/api/table-rows",x)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),i=Ae({mutationFn:async({id:x,updates:g})=>(await Be("PATCH",`/api/table-rows/${x}`,g)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),l=Ae({mutationFn:async x=>{await Be("DELETE",`/api/table-rows/${x}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),c=Ae({mutationFn:async x=>(await Be("POST","/api/table-rows/reorder",{rowIds:x})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),d=Ae({mutationFn:async x=>(await Be("POST","/api/table-columns",x)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-columns"]})}}),p=Ae({mutationFn:async x=>{await Be("DELETE",`/api/table-columns/${x}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-columns"]})}}),u=Ae({mutationFn:async x=>(await Be("POST","/api/table-columns/reorder",{columnIds:x})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-columns"]})}}),m=Ae({mutationFn:async({rowId:x,imageUrl:g,caption:v})=>(await Be("POST",`/api/table-rows/${x}/images`,{imageUrl:g,caption:v})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),f=Ae({mutationFn:async({rowId:x,imageIndex:g,imageUrl:v,caption:y})=>(await Be("PATCH",`/api/table-rows/${x}/images/${g}`,{imageUrl:v,caption:y})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),b=Ae({mutationFn:async({rowId:x,imageIndex:g})=>{const v=g!==void 0?`/api/table-rows/${x}/images/${g}`:`/api/table-rows/${x}/images`;return(await Be("DELETE",v)).json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}});return{rows:t,columns:n,isLoading:r||a,createRow:o,updateRow:i,deleteRow:l,reorderRows:c,createColumn:d,deleteColumn:p,reorderColumns:u,addImageToRow:m,updateImageInRow:f,deleteImageFromRow:b}}function ft(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var av=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ql=av,Ka=()=>Math.random().toString(36).substring(7).split("").join("."),ov={INIT:`@@redux/INIT${Ka()}`,REPLACE:`@@redux/REPLACE${Ka()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ka()}`},Yl=ov;function iv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rm(e,t,r){if(typeof e!="function")throw new Error(ft(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ft(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ft(1));return r(rm)(e,t)}let n=e,a=t,o=new Map,i=o,l=0,c=!1;function d(){i===o&&(i=new Map,o.forEach((g,v)=>{i.set(v,g)}))}function p(){if(c)throw new Error(ft(3));return a}function u(g){if(typeof g!="function")throw new Error(ft(4));if(c)throw new Error(ft(5));let v=!0;d();const y=l++;return i.set(y,g),function(){if(v){if(c)throw new Error(ft(6));v=!1,d(),i.delete(y),o=null}}}function m(g){if(!iv(g))throw new Error(ft(7));if(typeof g.type>"u")throw new Error(ft(8));if(typeof g.type!="string")throw new Error(ft(17));if(c)throw new Error(ft(9));try{c=!0,a=n(a,g)}finally{c=!1}return(o=i).forEach(y=>{y()}),g}function f(g){if(typeof g!="function")throw new Error(ft(10));n=g,m({type:Yl.REPLACE})}function b(){const g=u;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ft(11));function y(){const j=v;j.next&&j.next(p())}return y(),{unsubscribe:g(y)}},[Ql](){return this}}}return m({type:Yl.INIT}),{dispatch:m,subscribe:u,getState:p,replaceReducer:f,[Ql]:b}}function Xl(e,t){return function(...r){return t(e.apply(this,r))}}function Jl(e,t){if(typeof e=="function")return Xl(e,t);if(typeof e!="object"||e===null)throw new Error(ft(16));const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=Xl(a,t))}return r}function sm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function lv(...e){return t=>(r,n)=>{const a=t(r,n);let o=()=>{throw new Error(ft(15))};const i={getState:a.getState,dispatch:(c,...d)=>o(c,...d)},l=e.map(c=>c(i));return o=sm(...l)(a.dispatch),{...a,dispatch:o}}}var cv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=h;function dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uv=typeof Object.is=="function"?Object.is:dv,mv=vn.useSyncExternalStore,pv=vn.useRef,hv=vn.useEffect,fv=vn.useMemo,gv=vn.useDebugValue;cv.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var o=pv(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=fv(function(){function c(f){if(!d){if(d=!0,p=f,f=n(f),a!==void 0&&i.hasValue){var b=i.value;if(a(b,f))return u=b}return u=f}if(b=u,uv(p,f))return b;var x=n(f);return a!==void 0&&a(b,x)?(p=f,b):(p=f,u=x)}var d=!1,p,u,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=mv(e,o[0],o[1]);return hv(function(){i.hasValue=!0,i.value=l},[l]),gv(l),l};var bv=h.version.startsWith("19"),xv=Symbol.for(bv?"react.transitional.element":"react.element"),vv=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),jv=Symbol.for("react.profiler"),kv=Symbol.for("react.consumer"),Nv=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Sv=Symbol.for("react.suspense_list"),ki=Symbol.for("react.memo"),Ev=Symbol.for("react.lazy"),Rv=nm,Dv=ki;function Pv(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case xv:switch(e=e.type,e){case yv:case jv:case wv:case Cv:case Sv:return e;default:switch(e=e&&e.$$typeof,e){case Nv:case nm:case Ev:case ki:return e;case kv:return e;default:return t}}case vv:return t}}}function Av(e){return Pv(e)===ki}function Iv(e,t,r,n,{areStatesEqual:a,areOwnPropsEqual:o,areStatePropsEqual:i}){let l=!1,c,d,p,u,m;function f(y,w){return c=y,d=w,p=e(c,d),u=t(n,d),m=r(p,u,d),l=!0,m}function b(){return p=e(c,d),t.dependsOnOwnProps&&(u=t(n,d)),m=r(p,u,d),m}function x(){return e.dependsOnOwnProps&&(p=e(c,d)),t.dependsOnOwnProps&&(u=t(n,d)),m=r(p,u,d),m}function g(){const y=e(c,d),w=!i(y,p);return p=y,w&&(m=r(p,u,d)),m}function v(y,w){const j=!o(w,d),k=!a(y,c,w,d);return c=y,d=w,j&&k?b():j?x():k?g():m}return function(w,j){return l?v(w,j):f(w,j)}}function Tv(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...a}){const o=t(e,a),i=r(e,a),l=n(e,a);return Iv(o,i,l,e,a)}function Ov(e,t){const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=(...o)=>t(a(...o)))}return r}function Oo(e){return function(r){const n=e(r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function Zl(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function am(e,t){return function(n,{displayName:a}){const o=function(l,c){return o.dependsOnOwnProps?o.mapToProps(l,c):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,c){o.mapToProps=e,o.dependsOnOwnProps=Zl(e);let d=o(l,c);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=Zl(d),d=o(l,c)),d},o}}function Ni(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Lv(e){return e&&typeof e=="object"?Oo(t=>Ov(e,t)):e?typeof e=="function"?am(e):Ni(e,"mapDispatchToProps"):Oo(t=>({dispatch:t}))}function Mv(e){return e?typeof e=="function"?am(e):Ni(e,"mapStateToProps"):Oo(()=>({}))}function _v(e,t,r){return{...r,...e,...t}}function Fv(e){return function(r,{displayName:n,areMergedPropsEqual:a}){let o=!1,i;return function(c,d,p){const u=e(c,d,p);return o?a(u,i)||(i=u):(o=!0,i=u),i}}}function zv(e){return e?typeof e=="function"?Fv(e):Ni(e,"mergeProps"):()=>_v}function $v(e){e()}function Bv(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$v(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var ec={notify(){},get:()=>[]};function om(e,t){let r,n=ec,a=0,o=!1;function i(x){p();const g=n.subscribe(x);let v=!1;return()=>{v||(v=!0,g(),u())}}function l(){n.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return o}function p(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=Bv())}function u(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=ec)}function m(){o||(o=!0,p())}function f(){o&&(o=!1,u())}const b={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>n};return b}var Uv=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gv=Uv(),Vv=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qv=Vv(),Wv=()=>Gv||qv?h.useLayoutEffect:h.useEffect,qn=Wv();function tc(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Qa(e,t){if(tc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!tc(e[r[a]],t[r[a]]))return!1;return!0}var Hv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qv={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},im={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Yv={[Rv]:Qv,[Dv]:im};function rc(e){return Av(e)?im:Yv[e.$$typeof]||Hv}var Xv=Object.defineProperty,Jv=Object.getOwnPropertyNames,sc=Object.getOwnPropertySymbols,Zv=Object.getOwnPropertyDescriptor,ey=Object.getPrototypeOf,nc=Object.prototype;function Lo(e,t){if(typeof t!="string"){if(nc){const o=ey(t);o&&o!==nc&&Lo(e,o)}let r=Jv(t);sc&&(r=r.concat(sc(t)));const n=rc(e),a=rc(t);for(let o=0;o<r.length;++o){const i=r[o];if(!Kv[i]&&!(a&&a[i])&&!(n&&n[i])){const l=Zv(t,i);try{Xv(e,i,l)}catch{}}}}return e}var Ya=Symbol.for("react-redux-context"),Xa=typeof globalThis<"u"?globalThis:{};function ty(){if(!h.createContext)return{};const e=Xa[Ya]??(Xa[Ya]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var lm=ty(),ry=[null,null];function sy(e,t,r){qn(()=>e(...t),r)}function ny(e,t,r,n,a,o){e.current=n,r.current=!1,a.current&&(a.current=null,o())}function ay(e,t,r,n,a,o,i,l,c,d,p){if(!e)return()=>{};let u=!1,m=null;const f=()=>{if(u||!l.current)return;const x=t.getState();let g,v;try{g=n(x,a.current)}catch(y){v=y,m=y}v||(m=null),g===o.current?i.current||d():(o.current=g,c.current=g,i.current=!0,p())};return r.onStateChange=f,r.trySubscribe(),f(),()=>{if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function oy(e,t){return e===t}function iy(e,t,r,{pure:n,areStatesEqual:a=oy,areOwnPropsEqual:o=Qa,areStatePropsEqual:i=Qa,areMergedPropsEqual:l=Qa,forwardRef:c=!1,context:d=lm}={}){const p=d,u=Mv(e),m=Lv(t),f=zv(r),b=!!e;return g=>{const v=g.displayName||g.name||"Component",y=`Connect(${v})`,w={shouldHandleStateChanges:b,displayName:y,wrappedComponentName:v,WrappedComponent:g,initMapStateToProps:u,initMapDispatchToProps:m,initMergeProps:f,areStatesEqual:a,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:l};function j(S){const[I,T,F]=h.useMemo(()=>{const{reactReduxForwardedRef:U,...ae}=S;return[S.context,U,ae]},[S]),$=h.useMemo(()=>{let U=p;return I!=null&&I.Consumer,U},[I,p]),G=h.useContext($),de=!!S.store&&!!S.store.getState&&!!S.store.dispatch,B=!!G&&!!G.store,Y=de?S.store:G.store,_=B?G.getServerState:Y.getState,O=h.useMemo(()=>Tv(Y.dispatch,w),[Y]),[Z,q]=h.useMemo(()=>{if(!b)return ry;const U=om(Y,de?void 0:G.subscription),ae=U.notifyNestedSubs.bind(U);return[U,ae]},[Y,de,G]),L=h.useMemo(()=>de?G:{...G,subscription:Z},[de,G,Z]),V=h.useRef(void 0),C=h.useRef(F),he=h.useRef(void 0),z=h.useRef(!1),oe=h.useRef(!1),Ne=h.useRef(void 0);qn(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const Se=h.useMemo(()=>()=>he.current&&F===C.current?he.current:O(Y.getState(),F),[Y,F]),ue=h.useMemo(()=>ae=>Z?ay(b,Y,Z,O,C,V,z,oe,he,q,ae):()=>{},[Z]);sy(ny,[C,V,z,F,he,q]);let Ce;try{Ce=h.useSyncExternalStore(ue,Se,_?()=>O(_(),F):Se)}catch(U){throw Ne.current&&(U.message+=`
The error may be correlated with this previous error:
${Ne.current.stack}

`),U}qn(()=>{Ne.current=void 0,he.current=void 0,V.current=Ce});const ge=h.useMemo(()=>h.createElement(g,{...Ce,ref:T}),[T,g,Ce]);return h.useMemo(()=>b?h.createElement($.Provider,{value:L},ge):ge,[$,ge,L])}const R=h.memo(j);if(R.WrappedComponent=g,R.displayName=j.displayName=y,c){const I=h.forwardRef(function(F,$){return h.createElement(R,{...F,reactReduxForwardedRef:$})});return I.displayName=y,I.WrappedComponent=g,Lo(I,g)}return Lo(R,g)}}var cm=iy;function ly(e){const{children:t,context:r,serverState:n,store:a}=e,o=h.useMemo(()=>{const c=om(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=h.useMemo(()=>a.getState(),[a]);qn(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const l=r||lm;return h.createElement(l.Provider,{value:o},t)}var cy=ly,dy="Invariant failed";function uy(e,t){throw new Error(dy)}var Vt=function(t){var r=t.top,n=t.right,a=t.bottom,o=t.left,i=n-o,l=a-r,c={top:r,right:n,bottom:a,left:o,width:i,height:l,x:o,y:r,center:{x:(n+o)/2,y:(a+r)/2}};return c},Ci=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},ac=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},my=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ja={top:0,right:0,bottom:0,left:0},Si=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Ja:n,o=t.border,i=o===void 0?Ja:o,l=t.padding,c=l===void 0?Ja:l,d=Vt(Ci(r,a)),p=Vt(ac(r,i)),u=Vt(ac(p,c));return{marginBox:d,borderBox:Vt(r),paddingBox:p,contentBox:u,margin:a,border:i,padding:c}},It=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&uy(),a},py=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Wn=function(t,r){var n=t.borderBox,a=t.border,o=t.margin,i=t.padding,l=my(n,r);return Si({borderBox:l,border:a,margin:o,padding:i})},Hn=function(t,r){return r===void 0&&(r=py()),Wn(t,r)},dm=function(t,r){var n={top:It(r.marginTop),right:It(r.marginRight),bottom:It(r.marginBottom),left:It(r.marginLeft)},a={top:It(r.paddingTop),right:It(r.paddingRight),bottom:It(r.paddingBottom),left:It(r.paddingLeft)},o={top:It(r.borderTopWidth),right:It(r.borderRightWidth),bottom:It(r.borderBottomWidth),left:It(r.borderLeftWidth)};return Si({borderBox:t,margin:n,padding:a,border:o})},um=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return dm(r,n)},nn=function(t){var r=[],n=null,a=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(null,arguments)}function mm(e,t){}mm.bind(null,"warn");mm.bind(null,"error");function Er(){}function hy(e,t){return{...e,...t}}function Mt(e,t,r){const n=t.map(a=>{const o=hy(r,a.options);return e.addEventListener(a.eventName,a.fn,o),function(){e.removeEventListener(a.eventName,a.fn,o)}});return function(){n.forEach(o=>{o()})}}const fy="Invariant failed";class Qn extends Error{}Qn.prototype.toString=function(){return this.message};function H(e,t){throw new Qn(fy)}class gy extends ye.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Er,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Qn&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Mt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Qn){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const by=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yn=e=>e+1,xy=e=>`
  You have lifted an item in position ${Yn(e.source.index)}
`,pm=(e,t)=>{const r=e.droppableId===t.droppableId,n=Yn(e.index),a=Yn(t.index);return r?`
      You have moved the item from position ${n}
      to position ${a}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},hm=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,vy=e=>{const t=e.destination;if(t)return pm(e.source,t);const r=e.combine;return r?hm(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},oc=e=>`
  The item has returned to its starting position
  of ${Yn(e.index)}
`,yy=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${oc(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${pm(e.source,t)}
    `:r?`
      You have dropped the item.
      ${hm(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${oc(e.source)}
  `},Fn={dragHandleUsageInstructions:by,onDragStart:xy,onDragUpdate:vy,onDragEnd:yy};function wy(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function fm(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!wy(e[r],t[r]))return!1;return!0}function Pe(e,t){const r=h.useState(()=>({inputs:t,result:e()}))[0],n=h.useRef(!0),a=h.useRef(r),i=n.current||!!(t&&a.current.inputs&&fm(t,a.current.inputs))?a.current:{inputs:t,result:e()};return h.useEffect(()=>{n.current=!1,a.current=i},[i]),i.result}function le(e,t){return Pe(()=>e,t)}const at={x:0,y:0},dt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ct=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Rr=(e,t)=>e.x===t.x&&e.y===t.y,zs=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Yr=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},an=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),ic=(e,t)=>Math.min(...t.map(r=>an(e,r))),gm=e=>t=>({x:e(t.x),y:e(t.y)});var jy=(e,t)=>{const r=Vt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const yn=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),lc=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],ky={top:0,right:0,bottom:0,left:0},Ny=(e,t)=>t?yn(e,t.scroll.diff.displacement):e,Cy=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Sy=(e,t)=>t&&t.shouldClipSubject?jy(t.pageMarginBox,e):Vt(e);var Ss=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const a=Ny(e.marginBox,n),o=Cy(a,r,t),i=Sy(o,n);return{page:e,withPlaceholder:t,active:i}},Ei=(e,t)=>{e.frame||H();const r=e.frame,n=Ct(t,r.scroll.initial),a=zs(n),o={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}},i=Ss({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function nt(e,t=fm){let r=null;function n(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}const bm=nt(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),xm=nt(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),va=nt(e=>Object.values(e)),Ey=nt(e=>Object.values(e));var $s=nt((e,t)=>Ey(t).filter(n=>e===n.descriptor.droppableId).sort((n,a)=>n.descriptor.index-a.descriptor.index));function Ri(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ya(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var wa=nt((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Ry=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:a})=>{if(!r.isCombineEnabled||!Ri(a))return null;function i(f){const b={type:"COMBINE",combine:{draggableId:f,droppableId:r.descriptor.id}};return{...a,at:b}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?i(c):null;const d=wa(t,n);if(!c){if(!d.length)return null;const f=d[d.length-1];return i(f.descriptor.id)}const p=d.findIndex(f=>f.descriptor.id===c);p===-1&&H();const u=p-1;if(u<0)return null;const m=d[u];return i(m.descriptor.id)},Bs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const vm={point:at,value:0},on={invisible:{},visible:{},all:[]},Dy={displaced:on,displacedBy:vm,at:null};var _t=(e,t)=>r=>e<=r&&r<=t,ym=e=>{const t=_t(e.top,e.bottom),r=_t(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(o&&i)return!0;const c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right;return c&&d?!0:c&&i||d&&o}},Py=e=>{const t=_t(e.top,e.bottom),r=_t(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const Di={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},wm={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ay=e=>t=>{const r=_t(t.top,t.bottom),n=_t(t.left,t.right);return a=>e===Di?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)};const Iy=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:at;return yn(e,r)},Ty=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Oy=(e,t,r)=>r(t)(e),Pi=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:a})=>{const o=n?Iy(e,t):e;return Ty(o,t,a)&&Oy(o,r,a)},Ly=e=>Pi({...e,isVisibleThroughFrameFn:ym}),jm=e=>Pi({...e,isVisibleThroughFrameFn:Py}),My=e=>Pi({...e,isVisibleThroughFrameFn:Ay(e.destination.axis)}),_y=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:a}=t;if(n[e])return!1;const o=a[e];return o?o.shouldAnimate:!0};function Fy(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Vt(Ci(r,n))}function ln({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:a,last:o}){return e.reduce(function(l,c){const d=Fy(c,r),p=c.descriptor.id;if(l.all.push(p),!Ly({target:d,destination:t,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=_y(p,o,a),f={draggableId:p,shouldAnimate:m};return l.visible[p]=f,l},{all:[],visible:{},invisible:{}})}function zy(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function cc({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const a=zy(e,{inHomeList:t});return{displaced:on,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Xn({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:a,last:o,index:i,forceShouldAnimate:l}){const c=Bs(e,r);if(i==null)return cc({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(b=>b.descriptor.index===i);if(!d)return cc({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const p=wa(e,t),u=t.indexOf(d),m=p.slice(u);return{displaced:ln({afterDragging:m,destination:r,displacedBy:a,last:o,viewport:n.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Ir(e,t){return!!t.effected[e]}var $y=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=n.draggableId,l=r[o].descriptor.index;return Ir(o,a)?e?l:l-1:e?l+1:l},By=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const a=n.index,o=e?a+1:a-1,i=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return o<i||o>c?null:o},Uy=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:a,insideDestination:o,previousImpact:i,viewport:l,afterCritical:c})=>{const d=i.at;if(d||H(),d.type==="REORDER"){const u=By({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return u==null?null:Xn({draggable:r,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:u})}const p=$y({isMovingForward:e,destination:a,displaced:i.displaced,draggables:n,combine:d.combine,afterCritical:c});return p==null?null:Xn({draggable:r,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:p})},Gy=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const a=!!(e.visible[r]||e.invisible[r]);return Ir(r,t)?a?at:zs(n.point):a?n.point:at},Vy=({afterCritical:e,impact:t,draggables:r})=>{const n=ya(t);n||H();const a=n.draggableId,o=r[a].page.borderBox.center,i=Gy({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return dt(o,i)};const km=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,qy=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Ai=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,dc=({axis:e,moveRelativeTo:t,isMoving:r})=>Yr(e.line,t.marginBox[e.end]+km(e,r),Ai(e,t.marginBox,r)),uc=({axis:e,moveRelativeTo:t,isMoving:r})=>Yr(e.line,t.marginBox[e.start]-qy(e,r),Ai(e,t.marginBox,r)),Wy=({axis:e,moveInto:t,isMoving:r})=>Yr(e.line,t.contentBox[e.start]+km(e,r),Ai(e,t.contentBox,r));var Hy=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a})=>{const o=$s(n.descriptor.id,r),i=t.page,l=n.axis;if(!o.length)return Wy({axis:l,moveInto:n.page,isMoving:i});const{displaced:c,displacedBy:d}=e,p=c.all[0];if(p){const m=r[p];if(Ir(p,a))return uc({axis:l,moveRelativeTo:m.page,isMoving:i});const f=Wn(m.page,d.point);return uc({axis:l,moveRelativeTo:f,isMoving:i})}const u=o[o.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Ir(u.descriptor.id,a)){const m=Wn(u.page,zs(a.displacedBy.point));return dc({axis:l,moveRelativeTo:m,isMoving:i})}return dc({axis:l,moveRelativeTo:u.page,isMoving:i})},Mo=(e,t)=>{const r=e.frame;return r?dt(t,r.scroll.diff.displacement):t};const Ky=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:a})=>{const o=t.page.borderBox.center,i=e.at;return!r||!i?o:i.type==="REORDER"?Hy({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a}):Vy({impact:e,draggables:n,afterCritical:a})};var ja=e=>{const t=Ky(e),r=e.droppable;return r?Mo(r,t):t},Nm=(e,t)=>{const r=Ct(t,e.scroll.initial),n=zs(r);return{frame:Vt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function mc(e,t){return e.map(r=>t[r])}function Qy(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Yy=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:a})=>{const o=Nm(t,dt(t.scroll.current,a)),i=r.frame?Ei(r,dt(r.frame.scroll.current,a)):r,l=e.displaced,c=ln({afterDragging:mc(l.all,n),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=ln({afterDragging:mc(l.all,n),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),p={},u={},m=[l,c,d];return l.all.forEach(b=>{const x=Qy(b,m);if(x){u[b]=x;return}p[b]=!0}),{...e,displaced:{all:l.all,invisible:p,visible:u}}},Xy=(e,t)=>dt(e.scroll.diff.displacement,t),Ii=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=Xy(r,e),a=Ct(n,t.page.borderBox.center);return dt(t.client.borderBox.center,a)},Cm=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const i=Ct(r,e.page.borderBox.center),c={target:yn(e.page.borderBox,i),destination:t,withDroppableDisplacement:a,viewport:n};return o?My(c):jm(c)},Jy=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:a,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=$s(r.descriptor.id,n),p=Bs(t,r),u=Ry({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||Uy({isMovingForward:e,isInHomeList:p,draggable:t,draggables:n,destination:r,insideDestination:d,previousImpact:a,viewport:o,afterCritical:c});if(!u)return null;const m=ja({impact:u,draggable:t,droppable:r,draggables:n,afterCritical:c});if(Cm({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ii({pageBorderBoxCenter:m,draggable:t,viewport:o}),impact:u,scrollJumpRequest:null};const b=Ct(m,i),x=Yy({impact:u,viewport:o,destination:r,draggables:n,maxScrollChange:b});return{clientSelection:l,impact:x,scrollJumpRequest:b}};const ht=e=>{const t=e.subject.active;return t||H(),t};var Zy=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:a})=>{const o=r.subject.active;if(!o)return null;const i=r.axis,l=_t(o[i.start],o[i.end]),c=va(n).filter(p=>p!==r).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>ym(a.frame)(ht(p))).filter(p=>{const u=ht(p);return e?o[i.crossAxisEnd]<u[i.crossAxisEnd]:u[i.crossAxisStart]<o[i.crossAxisStart]}).filter(p=>{const u=ht(p),m=_t(u[i.start],u[i.end]);return l(u[i.start])||l(u[i.end])||m(o[i.start])||m(o[i.end])}).sort((p,u)=>{const m=ht(p)[i.crossAxisStart],f=ht(u)[i.crossAxisStart];return e?m-f:f-m}).filter((p,u,m)=>ht(p)[i.crossAxisStart]===ht(m[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(p=>_t(ht(p)[i.start],ht(p)[i.end])(t[i.line]));return d.length===1?d[0]:d.length>1?d.sort((p,u)=>ht(p)[i.start]-ht(u)[i.start])[0]:c.sort((p,u)=>{const m=ic(t,lc(ht(p))),f=ic(t,lc(ht(u)));return m!==f?m-f:ht(p)[i.start]-ht(u)[i.start]})[0]};const pc=(e,t)=>{const r=e.page.borderBox.center;return Ir(e.descriptor.id,t)?Ct(r,t.displacedBy.point):r},ew=(e,t)=>{const r=e.page.borderBox;return Ir(e.descriptor.id,t)?yn(r,zs(t.displacedBy.point)):r};var tw=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:a})=>n.filter(i=>jm({target:ew(i,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,l)=>{const c=an(e,Mo(r,pc(i,a))),d=an(e,Mo(r,pc(l,a)));return c<d?-1:d<c?1:i.descriptor.index-l.descriptor.index})[0]||null,wn=nt(function(t,r){const n=r[t.line];return{value:n,point:Yr(t.line,n)}});const rw=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Yr(n.line,t[n.line]);const a=e.subject.page.contentBox[n.size],c=$s(e.descriptor.id,r).reduce((d,p)=>d+p.client.marginBox[n.size],0)+t[n.line]-a;return c<=0?null:Yr(n.line,c)},Sm=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Em=(e,t,r)=>{const n=e.frame;Bs(t,e)&&H(),e.subject.withPlaceholder&&H();const a=wn(e.axis,t.displaceBy).point,o=rw(e,a,r),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const p=Ss({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:p}}const l=o?dt(n.scroll.max,o):n.scroll.max,c=Sm(n,l),d=Ss({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},sw=e=>{const t=e.subject.withPlaceholder;t||H();const r=e.frame;if(!r){const i=Ss({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const n=t.oldFrameMaxScroll;n||H();const a=Sm(r,n),o=Ss({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:o,frame:a}};var nw=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:a,destination:o,viewport:i,afterCritical:l})=>{if(!t){if(r.length)return null;const u={displaced:on,displacedBy:vm,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=ja({impact:u,draggable:n,droppable:o,draggables:a,afterCritical:l}),f=Bs(n,o)?o:Em(o,n,a);return Cm({draggable:n,destination:f,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],d=(()=>{const u=t.descriptor.index;return t.descriptor.id===n.descriptor.id||c?u:u+1})(),p=wn(o.axis,n.displaceBy);return Xn({draggable:n,insideDestination:r,destination:o,viewport:i,displacedBy:p,last:on,index:d})},aw=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:a,droppables:o,viewport:i,afterCritical:l})=>{const c=Zy({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:o,viewport:i});if(!c)return null;const d=$s(c.descriptor.id,a),p=tw({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:d,afterCritical:l}),u=nw({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:p,insideDestination:d,viewport:i,afterCritical:l});if(!u)return null;const m=ja({impact:u,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:Ii({pageBorderBoxCenter:m,draggable:r,viewport:i}),impact:u,scrollJumpRequest:null}},St=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const ow=(e,t)=>{const r=St(e);return r?t[r]:null};var iw=({state:e,type:t})=>{const r=ow(e.impact,e.dimensions.droppables),n=!!r,a=e.dimensions.droppables[e.critical.droppable.id],o=r||a,i=o.axis.direction,l=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!n)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:u,droppables:m}=e.dimensions;return l?Jy({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:d,destination:o,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):aw({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:d,isOver:o,draggables:u,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function zr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Rm(e){const t=_t(e.top,e.bottom),r=_t(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function lw(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function cw({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,a=r.map(o=>{const i=o.axis,l=Yr(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:an(n,l)}}).sort((o,i)=>i.distance-o.distance);return a[0]?a[0].id:null}function dw({pageBorderBox:e,draggable:t,droppables:r}){const n=va(r).filter(a=>{if(!a.isEnabled)return!1;const o=a.subject.active;if(!o||!lw(e,o))return!1;if(Rm(o)(e.center))return!0;const i=a.axis,l=o.center[i.crossAxisLine],c=e[i.crossAxisStart],d=e[i.crossAxisEnd],p=_t(o[i.crossAxisStart],o[i.crossAxisEnd]),u=p(c),m=p(d);return!u&&!m?!0:u?c<l:d>l});return n.length?n.length===1?n[0].descriptor.id:cw({pageBorderBox:e,draggable:t,candidates:n}):null}const Dm=(e,t)=>Vt(yn(e,t));var uw=(e,t)=>{const r=e.frame;return r?Dm(t,r.scroll.diff.value):t};function Pm({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function mw({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var pw=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:a,viewport:o,afterCritical:i})=>{const l=r.axis,c=wn(r.axis,t.displaceBy),d=c.value,p=e[l.start],u=e[l.end],f=wa(t,n).find(x=>{const g=x.descriptor.id,v=x.page.borderBox.center[l.line],y=Ir(g,i),w=Pm({displaced:a,id:g});return y?w?u<=v:p<v-d:w?u<=v+d:p<v})||null,b=mw({draggable:t,closest:f,inHomeList:Bs(t,r)});return Xn({draggable:t,insideDestination:n,destination:r,viewport:o,last:a,displacedBy:c,index:b})};const hw=4;var fw=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:a,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=n.axis,l=wn(n.axis,e.displaceBy),c=l.value,d=t[i.start],p=t[i.end],m=wa(e,a).find(b=>{const x=b.descriptor.id,g=b.page.borderBox,y=g[i.size]/hw,w=Ir(x,o),j=Pm({displaced:r.displaced,id:x});return w?j?p>g[i.start]+y&&p<g[i.end]-y:d>g[i.start]-c+y&&d<g[i.end]-c-y:j?p>g[i.start]+c+y&&p<g[i.end]+c-y:d>g[i.start]+y&&d<g[i.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:n.descriptor.id}}}:null},Am=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:a,viewport:o,afterCritical:i})=>{const l=Dm(t.page.borderBox,e),c=dw({pageBorderBox:l,draggable:t,droppables:n});if(!c)return Dy;const d=n[c],p=$s(d.descriptor.id,r),u=uw(d,l);return fw({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:a,destination:d,insideDestination:p,afterCritical:i})||pw({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:p,last:a.displaced,viewport:o,afterCritical:i})},Ti=(e,t)=>({...e,[t.descriptor.id]:t});const gw=({previousImpact:e,impact:t,droppables:r})=>{const n=St(e),a=St(t);if(!n||n===a)return r;const o=r[n];if(!o.subject.withPlaceholder)return r;const i=sw(o);return Ti(r,i)};var bw=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:a})=>{const o=gw({previousImpact:n,impact:a,droppables:r}),i=St(a);if(!i)return o;const l=r[i];if(Bs(e,l)||l.subject.withPlaceholder)return o;const c=Em(l,e,t);return Ti(o,c)},en=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:a,scrollJumpRequest:o})=>{const i=n||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=Ct(c,e.initial.client.selection),p={offset:d,selection:c,borderBoxCenter:dt(e.initial.client.borderBoxCenter,d)},u={selection:dt(p.selection,i.scroll.current),borderBoxCenter:dt(p.borderBoxCenter,i.scroll.current),offset:dt(p.offset,i.scroll.diff.value)},m={client:p,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:i,current:m};const f=l.draggables[e.critical.draggable.id],b=a||Am({pageOffset:u.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),x=bw({draggable:f,impact:b,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:x},impact:b,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function xw(e,t){return e.map(r=>t[r])}var Im=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:a})=>{const o=e.displaced,i=xw(o.all,r),l=ln({afterDragging:i,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...e,displaced:l}},Tm=({impact:e,draggable:t,droppable:r,draggables:n,viewport:a,afterCritical:o})=>{const i=ja({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o});return Ii({pageBorderBoxCenter:i,draggable:t,viewport:a})},Om=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&H();const n=e.impact,a=r||e.viewport,o=t||e.dimensions,{draggables:i,droppables:l}=o,c=i[e.critical.draggable.id],d=St(n);d||H();const p=l[d],u=Im({impact:n,viewport:a,destination:p,draggables:i}),m=Tm({impact:u,draggable:c,droppable:p,draggables:i,viewport:a,afterCritical:e.afterCritical});return en({impact:u,clientSelection:m,state:e,dimensions:o,viewport:a})},vw=e=>({index:e.index,droppableId:e.droppableId}),Lm=({draggable:e,home:t,draggables:r,viewport:n})=>{const a=wn(t.axis,e.displaceBy),o=$s(t.descriptor.id,r),i=o.indexOf(e);i===-1&&H();const l=o.slice(i+1),c=l.reduce((m,f)=>(m[f.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:ln({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:vw(e.descriptor)}},afterCritical:d}},yw=(e,t)=>({draggables:e.draggables,droppables:Ti(e.droppables,t)}),ww=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=Wn(e.client,t),a=Hn(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:a}},jw=e=>{const t=e.frame;return t||H(),t},kw=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(a=>{const o=a.descriptor.droppableId,i=t[o],c=jw(i).scroll.diff.value,d=dt(n,c);return ww({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},Nw=({state:e,published:t})=>{const r=t.modified.map(v=>{const y=e.dimensions.droppables[v.droppableId];return Ei(y,v.scroll)}),n={...e.dimensions.droppables,...bm(r)},a=xm(kw({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),o={...e.dimensions.draggables,...a};t.removals.forEach(v=>{delete o[v]});const i={droppables:n,draggables:o},l=St(e.impact),c=l?i.droppables[l]:null,d=i.draggables[e.critical.draggable.id],p=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:m}=Lm({draggable:d,home:p,draggables:o,viewport:e.viewport}),f=c&&c.isCombineEnabled?e.impact:u,b=Am({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:m}),x={...e,phase:"DRAGGING",impact:b,onLiftImpact:u,dimensions:i,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const _o=e=>e.movementMode==="SNAP",Za=(e,t,r)=>{const n=yw(e.dimensions,t);return!_o(e)||r?en({state:e,dimensions:n}):Om({state:e,dimensions:n})};function eo(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const hc={phase:"IDLE",completed:null,shouldFlush:!1};var Cw=(e=hc,t)=>{if(t.type==="FLUSH")return{...hc,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&H();const{critical:r,clientSelection:n,viewport:a,dimensions:o,movementMode:i}=t.payload,l=o.draggables[r.draggable.id],c=o.droppables[r.droppable.id],d={selection:n,borderBoxCenter:l.client.borderBox.center,offset:at},p={client:d,page:{selection:dt(d.selection,a.scroll.initial),borderBoxCenter:dt(d.selection,a.scroll.initial),offset:dt(d.selection,a.scroll.diff.value)}},u=va(o.droppables).every(x=>!x.isFixedOnPage),{impact:m,afterCritical:f}=Lm({draggable:l,home:c,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:i,dimensions:o,initial:p,current:p,isWindowScrollAllowed:u,impact:m,afterCritical:f,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&H(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||H(),Nw({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;zr(e)||H();const{client:r}=t.payload;return Rr(r,e.current.client.selection)?e:en({state:e,clientSelection:r,impact:_o(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return eo(e);zr(e)||H();const{id:r,newScroll:n}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const o=Ei(a,n);return Za(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;zr(e)||H();const{id:r,isEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||H(),a.isEnabled===n&&H();const o={...a,isEnabled:n};return Za(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;zr(e)||H();const{id:r,isCombineEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||H(),a.isCombineEnabled===n&&H();const o={...a,isCombineEnabled:n};return Za(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;zr(e)||H(),e.isWindowScrollAllowed||H();const r=t.payload.newScroll;if(Rr(e.viewport.scroll.current,r))return eo(e);const n=Nm(e.viewport,r);return _o(e)?Om({state:e,viewport:n}):en({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!zr(e))return e;const r=t.payload.maxScroll;if(Rr(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&H();const r=iw({state:e,type:t.type});return r?en({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&H(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||H(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Oe(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Sw=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Ew=e=>({type:"LIFT",payload:e}),Rw=e=>({type:"INITIAL_PUBLISH",payload:e}),Dw=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Pw=()=>({type:"COLLECTION_STARTING",payload:null}),Aw=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Iw=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Tw=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Mm=e=>({type:"MOVE",payload:e}),Ow=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Lw=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Mw=()=>({type:"MOVE_UP",payload:null}),_w=()=>({type:"MOVE_DOWN",payload:null}),Fw=()=>({type:"MOVE_RIGHT",payload:null}),zw=()=>({type:"MOVE_LEFT",payload:null}),Oi=()=>({type:"FLUSH",payload:null}),$w=e=>({type:"DROP_ANIMATE",payload:e}),Li=e=>({type:"DROP_COMPLETE",payload:e}),_m=e=>({type:"DROP",payload:e}),Bw=e=>({type:"DROP_PENDING",payload:e}),Fm=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Uw=e=>({getState:t,dispatch:r})=>n=>a=>{if(!Oe(a,"LIFT")){n(a);return}const{id:o,clientSelection:i,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(Li({completed:c.completed})),t().phase!=="IDLE"&&H(),r(Oi()),r(Sw({draggableId:o,movementMode:l}));const p={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:m,viewport:f}=e.startPublishing(p);r(Rw({critical:u,dimensions:m,clientSelection:i,movementMode:l,viewport:f}))},Gw=e=>()=>t=>r=>{Oe(r,"INITIAL_PUBLISH")&&e.dragging(),Oe(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Oe(r,"FLUSH")||Oe(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const Mi={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},cn={opacity:{drop:0,combining:.7},scale:{drop:.75}},zm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fr=`${zm.outOfTheWay}s ${Mi.outOfTheWay}`,tn={fluid:`opacity ${Fr}`,snap:`transform ${Fr}, opacity ${Fr}`,drop:e=>{const t=`${e}s ${Mi.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Fr}`,placeholder:`height ${Fr}, width ${Fr}, margin ${Fr}`},fc=e=>Rr(e,at)?void 0:`translate(${e.x}px, ${e.y}px)`,Fo={moveTo:fc,drop:(e,t)=>{const r=fc(e);if(r)return t?`${r} scale(${cn.scale.drop})`:r}},{minDropTime:zo,maxDropTime:$m}=zm,Vw=$m-zo,gc=1500,qw=.6;var Ww=({current:e,destination:t,reason:r})=>{const n=an(e,t);if(n<=0)return zo;if(n>=gc)return $m;const a=n/gc,o=zo+Vw*a,i=r==="CANCEL"?o*qw:o;return Number(i.toFixed(2))},Hw=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:a})=>{const{draggables:o,droppables:i}=r,l=St(e),c=l?i[l]:null,d=i[t.descriptor.droppableId],p=Tm({impact:e,draggable:t,draggables:o,afterCritical:a,droppable:c||d,viewport:n});return Ct(p,t.client.borderBox.center)},Kw=({draggables:e,reason:t,lastImpact:r,home:n,viewport:a,onLiftImpact:o})=>!r.at||t!=="DROP"?{impact:Im({draggables:e,impact:o,destination:n,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:on},didDropInsideDroppable:!0};const Qw=({getState:e,dispatch:t})=>r=>n=>{if(!Oe(n,"DROP")){r(n);return}const a=e(),o=n.payload.reason;if(a.phase==="COLLECTING"){t(Bw({reason:o}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&H(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||H();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:p,didDropInsideDroppable:u}=Kw({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=u?Ri(p):null,f=u?ya(p):null,b={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:b,reason:o,mode:a.movementMode,destination:m,combine:f},g=Hw({impact:p,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),v={critical:a.critical,afterCritical:a.afterCritical,result:x,impact:p};if(!(!Rr(a.current.client.offset,g)||!!x.combine)){t(Li({completed:v}));return}const w=Ww({current:a.current.client.offset,destination:g,reason:o});t($w({newHomeClientOffset:g,dropDuration:w,completed:v}))};var Bm=()=>({x:window.pageXOffset,y:window.pageYOffset});function Yw(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Xw({onWindowScroll:e}){function t(){e(Bm())}const r=nn(t),n=Yw(r);let a=Er;function o(){return a!==Er}function i(){o()&&H(),a=Mt(window,[n])}function l(){o()||H(),r.cancel(),a(),a=Er}return{start:i,stop:l,isActive:o}}const Jw=e=>Oe(e,"DROP_COMPLETE")||Oe(e,"DROP_ANIMATE")||Oe(e,"FLUSH"),Zw=e=>{const t=Xw({onWindowScroll:r=>{e.dispatch(Ow({newScroll:r}))}});return r=>n=>{!t.isActive()&&Oe(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Jw(n)&&t.stop(),r(n)}};var e1=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),a=o=>{t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=()=>t,a},t1=()=>{const e=[],t=a=>{const o=e.findIndex(l=>l.timerId===a);o===-1&&H();const[i]=e.splice(o,1);i.callback()};return{add:a=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:a};e.push(i)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const r1=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,s1=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,n1=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},Hs=(e,t)=>{t()},Pn=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function to(e,t,r,n){if(!e){r(n(t));return}const a=e1(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}var a1=(e,t)=>{const r=t1();let n=null;const a=(u,m)=>{n&&H(),Hs("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:u,mode:m})})},o=(u,m)=>{n&&H(),Hs("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(Pn(u,m))})},i=(u,m)=>{n&&H();const f=Pn(u,m);n={mode:m,lastCritical:u,lastLocation:f.source,lastCombine:null},r.add(()=>{Hs("onDragStart",()=>to(e().onDragStart,f,t,Fn.onDragStart))})},l=(u,m)=>{const f=Ri(m),b=ya(m);n||H();const x=!n1(u,n.lastCritical);x&&(n.lastCritical=u);const g=!r1(n.lastLocation,f);g&&(n.lastLocation=f);const v=!s1(n.lastCombine,b);if(v&&(n.lastCombine=b),!x&&!g&&!v)return;const y={...Pn(u,n.mode),combine:b,destination:f};r.add(()=>{Hs("onDragUpdate",()=>to(e().onDragUpdate,y,t,Fn.onDragUpdate))})},c=()=>{n||H(),r.flush()},d=u=>{n||H(),n=null,Hs("onDragEnd",()=>to(e().onDragEnd,u,t,Fn.onDragEnd))};return{beforeCapture:a,beforeStart:o,start:i,update:l,flush:c,drop:d,abort:()=>{if(!n)return;const u={...Pn(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}},o1=(e,t)=>{const r=a1(e,t);return n=>a=>o=>{if(Oe(o,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Oe(o,"INITIAL_PUBLISH")){const l=o.payload.critical;r.beforeStart(l,o.payload.movementMode),a(o),r.start(l,o.payload.movementMode);return}if(Oe(o,"DROP_COMPLETE")){const l=o.payload.completed.result;r.flush(),a(o),r.drop(l);return}if(a(o),Oe(o,"FLUSH")){r.abort();return}const i=n.getState();i.phase==="DRAGGING"&&r.update(i.critical,i.impact)}};const i1=e=>t=>r=>{if(!Oe(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&H(),e.dispatch(Li({completed:n.completed}))},l1=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>o=>{if((Oe(o,"FLUSH")||Oe(o,"DROP_COMPLETE")||Oe(o,"DROP_ANIMATION_FINISHED"))&&n(),a(o),!Oe(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Fm())}};r=requestAnimationFrame(()=>{r=null,t=Mt(window,[i])})}};var c1=e=>()=>t=>r=>{(Oe(r,"DROP_COMPLETE")||Oe(r,"FLUSH")||Oe(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},d1=e=>{let t=!1;return()=>r=>n=>{if(Oe(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(Oe(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Oe(n,"DROP_COMPLETE")){t=!1;const a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const u1=e=>Oe(e,"DROP_COMPLETE")||Oe(e,"DROP_ANIMATE")||Oe(e,"FLUSH");var m1=e=>t=>r=>n=>{if(u1(n)){e.stop(),r(n);return}if(Oe(n,"INITIAL_PUBLISH")){r(n);const a=t.getState();a.phase!=="DRAGGING"&&H(),e.start(a);return}r(n),e.scroll(t.getState())};const p1=e=>t=>r=>{if(t(r),!Oe(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(_m({reason:n.reason})))},h1=sm;var f1=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:a,autoScroller:o})=>rm(Cw,h1(lv(Gw(r),c1(e),Uw(e),Qw,i1,l1,p1,m1(o),Zw,d1(t),o1(n,a))));const ro=()=>({additions:{},removals:{},modified:{}});function g1({registry:e,callbacks:t}){let r=ro(),n=null;const a=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:d,modified:p}=r,u=Object.keys(c).map(b=>e.draggable.getById(b).getDimension(at)).sort((b,x)=>b.descriptor.index-x.descriptor.index),m=Object.keys(p).map(b=>{const g=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:g}}),f={additions:u,removals:Object.keys(d),modified:m};r=ro(),t.publish(f)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=ro())}}}var Um=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const a=Ct({x:t,y:e},{x:n,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},Gm=()=>{const e=document.documentElement;return e||H(),e},Vm=()=>{const e=Gm();return Um({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},b1=()=>{const e=Bm(),t=Vm(),r=e.y,n=e.x,a=Gm(),o=a.clientWidth,i=a.clientHeight,l=n+o,c=r+i;return{frame:Vt({top:r,left:n,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:at,displacement:at}}}},x1=({critical:e,scrollOptions:t,registry:r})=>{const n=b1(),a=n.scroll.current,o=e.droppable,i=r.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(a));return{dimensions:{draggables:xm(l),droppables:bm(i)},critical:e,viewport:n}};function bc(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var v1=(e,t)=>{let r=null;const n=g1({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,f)=>{e.droppable.exists(m)||H(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:f})},o=(m,f)=>{r&&(e.droppable.exists(m)||H(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:f}))},i=(m,f)=>{r&&(e.droppable.exists(m)||H(),t.updateDroppableScroll({id:m,newScroll:f}))},l=(m,f)=>{r&&e.droppable.getById(m).callbacks.scroll(f)},c=()=>{if(!r)return;n.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(f=>f.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||H();const f=r.critical.draggable;m.type==="ADDITION"&&bc(e,f,m.value)&&n.add(m.value),m.type==="REMOVAL"&&bc(e,f,m.value)&&n.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:i,startPublishing:m=>{r&&H();const f=e.draggable.getById(m.draggableId),b=e.droppable.getById(f.descriptor.droppableId),x={draggable:f.descriptor,droppable:b.descriptor},g=e.subscribe(d);return r={critical:x,unsubscribe:g},x1({critical:x,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},qm=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",y1=e=>{window.scrollBy(e.x,e.y)};const w1=nt(e=>va(e).filter(t=>!(!t.isEnabled||!t.frame))),j1=(e,t)=>w1(t).find(n=>(n.frame||H(),Rm(n.frame.pageMarginBox)(e)))||null;var k1=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return j1(e,r)};const dn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var N1=(e,t,r=()=>dn)=>{const n=r(),a=e[t.size]*n.startFromPercentage,o=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:o}},Wm=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},_i=1,C1=(e,t,r=()=>dn)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return _i;const o=1-Wm({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(o);return Math.ceil(i)},S1=(e,t,r)=>{const n=r(),a=n.durationDampening.accelerateAt,o=n.durationDampening.stopDampeningAt,i=t,l=o,d=Date.now()-i;if(d>=o)return e;if(d<a)return _i;const p=Wm({startOfRange:a,endOfRange:l,current:d}),u=e*n.ease(p);return Math.ceil(u)},xc=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:a})=>{const o=C1(e,t,a);return o===0?0:n?Math.max(S1(o,r,a),_i):o},vc=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=N1(e,n,o);return t[n.end]<t[n.start]?xc({distanceToEdge:t[n.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*xc({distanceToEdge:t[n.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})},E1=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,a=t.width>e.width;return!a&&!n?r:a&&n?null:{x:a?0:r.x,y:n?0:r.y}};const R1=gm(e=>e===0?0:e);var Hm=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},l=vc({container:t,distanceToEdges:i,dragStartTime:e,axis:Di,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),c=vc({container:t,distanceToEdges:i,dragStartTime:e,axis:wm,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),d=R1({x:c,y:l});if(Rr(d,at))return null;const p=E1({container:t,subject:r,proposedScroll:d});return p?Rr(p,at)?null:p:null};const D1=gm(e=>e===0?0:e>0?1:-1),Fi=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const a=dt(t,n),o={x:e(a.x,r.x),y:e(a.y,r.y)};return Rr(o,at)?null:o}})(),Km=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=D1(r),o=Fi({max:n,current:t,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},zi=(e,t)=>Km({current:e.scroll.current,max:e.scroll.max,change:t}),P1=(e,t)=>{if(!zi(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Fi({current:n,max:r,change:t})},$i=(e,t)=>{const r=e.frame;return r?Km({current:r.scroll.current,max:r.scroll.max,change:t}):!1},A1=(e,t)=>{const r=e.frame;return!r||!$i(e,t)?null:Fi({current:r.scroll.current,max:r.scroll.max,change:t})};var I1=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=Hm({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return i&&zi(e,i)?i:null},T1=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const l=Hm({dragStartTime:n,container:i.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return l&&$i(e,l)?l:null},yc=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:a,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,m=I1({dragStartTime:t,viewport:u,subject:c,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o});if(m){n(m);return}}const d=k1({center:i,destination:St(e.impact),droppables:e.dimensions.droppables});if(!d)return;const p=T1({dragStartTime:t,droppable:d,subject:c,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o});p&&a(d.descriptor.id,p)},O1=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>dn})=>{const n=nn(e),a=nn(t);let o=null;const i=d=>{o||H();const{shouldUseTimeDampening:p,dragStartTime:u}=o;yc({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:u,shouldUseTimeDampening:p,getAutoScrollerOptions:r})};return{start:d=>{o&&H();const p=Date.now();let u=!1;const m=()=>{u=!0};yc({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),o={dragStartTime:p,shouldUseTimeDampening:u},u&&i(d)},stop:()=>{o&&(n.cancel(),a.cancel(),o=null)},scroll:i}},L1=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(l,c)=>{const d=dt(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!$i(l,c))return c;const d=A1(l,c);if(!d)return t(l.descriptor.id,c),null;const p=Ct(c,d);return t(l.descriptor.id,p),Ct(c,p)},o=(l,c,d)=>{if(!l||!zi(c,d))return d;const p=P1(c,d);if(!p)return r(d),null;const u=Ct(d,p);return r(u),Ct(d,u)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=St(l.impact);d||H();const p=a(l.dimensions.droppables[d],c);if(!p)return;const u=l.viewport,m=o(l.isWindowScrollAllowed,u,p);m&&n(l,m)}},M1=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const a=O1({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),o=L1({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:a.start,stop:a.stop}};const Es="data-rfd",Rs=(()=>{const e=`${Es}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),$o=(()=>{const e=`${Es}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),_1=(()=>{const e=`${Es}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),wc={contextId:`${Es}-scroll-container-context-id`},F1=e=>t=>`[${t}="${e}"]`,Ks=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),z1="pointer-events: none;";var $1=e=>{const t=F1(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Rs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:z1,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${tn.outOfTheWay};
    `;return{selector:t($o.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(_1.contextId),styles:{always:"overflow-anchor: none;"}},i=[n,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ks(i,"always"),resting:Ks(i,"resting"),dragging:Ks(i,"dragging"),dropAnimating:Ks(i,"dropAnimating"),userCancel:Ks(i,"userCancel")}};const Et=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect,so=()=>{const e=document.querySelector("head");return e||H(),e},jc=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function B1(e,t){const r=Pe(()=>$1(e),[e]),n=h.useRef(null),a=h.useRef(null),o=le(nt(u=>{const m=a.current;m||H(),m.textContent=u}),[]),i=le(u=>{const m=n.current;m||H(),m.textContent=u},[]);Et(()=>{!n.current&&!a.current||H();const u=jc(t),m=jc(t);return n.current=u,a.current=m,u.setAttribute(`${Es}-always`,e),m.setAttribute(`${Es}-dynamic`,e),so().appendChild(u),so().appendChild(m),i(r.always),o(r.resting),()=>{const f=b=>{const x=b.current;x||H(),so().removeChild(x),b.current=null};f(n),f(a)}},[t,i,o,r.always,r.resting,e]);const l=le(()=>o(r.dragging),[o,r.dragging]),c=le(u=>{if(u==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),d=le(()=>{a.current&&o(r.resting)},[o,r.resting]);return Pe(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function Qm(e,t){return Array.from(e.querySelectorAll(t))}var Ym=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ka(e){return e instanceof Ym(e).HTMLElement}function U1(e,t){const r=`[${Rs.contextId}="${e}"]`,n=Qm(document,r);if(!n.length)return null;const a=n.find(o=>o.getAttribute(Rs.draggableId)===t);return!a||!ka(a)?null:a}function G1(e){const t=h.useRef({}),r=h.useRef(null),n=h.useRef(null),a=h.useRef(!1),o=le(function(m,f){const b={id:m,focus:f};return t.current[m]=b,function(){const g=t.current;g[m]!==b&&delete g[m]}},[]),i=le(function(m){const f=U1(e,m);f&&f!==document.activeElement&&f.focus()},[e]),l=le(function(m,f){r.current===m&&(r.current=f)},[]),c=le(function(){n.current||a.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const m=r.current;m&&i(m)}))},[i]),d=le(function(m){r.current=null;const f=document.activeElement;f&&f.getAttribute(Rs.draggableId)===m&&(r.current=m)},[]);return Et(()=>(a.current=!0,function(){a.current=!1;const m=n.current;m&&cancelAnimationFrame(m)}),[]),Pe(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[o,d,c,l])}function V1(){const e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){const f=t.indexOf(u);f!==-1&&t.splice(f,1)}}function n(u){t.length&&t.forEach(m=>m(u))}function a(u){return e.draggables[u]||null}function o(u){const m=a(u);return m||H(),m}const i={register:u=>{e.draggables[u.descriptor.id]=u,n({type:"ADDITION",value:u})},update:(u,m)=>{const f=e.draggables[m.descriptor.id];f&&f.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const m=u.descriptor.id,f=a(m);f&&u.uniqueId===f.uniqueId&&(delete e.draggables[m],e.droppables[u.descriptor.droppableId]&&n({type:"REMOVAL",value:u}))},getById:o,findById:a,exists:u=>!!a(u),getAllByType:u=>Object.values(e.draggables).filter(m=>m.descriptor.type===u)};function l(u){return e.droppables[u]||null}function c(u){const m=l(u);return m||H(),m}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const m=l(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(m=>m.descriptor.type===u)};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:d,subscribe:r,clean:p}}function q1(){const e=Pe(V1,[]);return h.useEffect(()=>function(){e.clean()},[e]),e}var Bi=ye.createContext(null),Jn=()=>{const e=document.body;return e||H(),e};const W1={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},H1=e=>`rfd-announcement-${e}`;function K1(e){const t=Pe(()=>H1(e),[e]),r=h.useRef(null);return h.useEffect(function(){const o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Kn(o.style,W1),Jn().appendChild(o),function(){setTimeout(function(){const c=Jn();c.contains(o)&&c.removeChild(o),o===r.current&&(r.current=null)})}},[t]),le(a=>{const o=r.current;if(o){o.textContent=a;return}},[])}const Q1={separator:"::"};function Ui(e,t=Q1){const r=ye.useId();return Pe(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function Y1({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function X1({contextId:e,text:t}){const r=Ui("hidden-text",{separator:"-"}),n=Pe(()=>Y1({contextId:e,uniqueId:r}),[r,e]);return h.useEffect(function(){const o=document.createElement("div");return o.id=n,o.textContent=t,o.style.display="none",Jn().appendChild(o),function(){const l=Jn();l.contains(o)&&l.removeChild(o)}},[n,t]),n}var Na=ye.createContext(null);function Xm(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),t}function J1(){let e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&H();const l={abandon:i};return e=l,l}function a(){e||H(),e=null}function o(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:o}}function un(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Z1=9,ej=13,Gi=27,Jm=32,tj=33,rj=34,sj=35,nj=36,aj=37,oj=38,ij=39,lj=40,cj={[ej]:!0,[Z1]:!0};var Zm=e=>{cj[e.keyCode]&&e.preventDefault()};const Ca=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),ep=0,kc=5;function dj(e,t){return Math.abs(t.x-e.x)>=kc||Math.abs(t.y-e.y)>=kc}const Nc={type:"IDLE"};function uj({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:a=>{const{button:o,clientX:i,clientY:l}=a;if(o!==ep)return;const c={x:i,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&H();const p=d.point;if(!dj(p,c))return;a.preventDefault();const u=d.actions.fluidLift(c);n({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:a=>{const o=r();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===Gi){a.preventDefault(),e();return}Zm(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const o=r();if(o.type==="IDLE"&&H(),o.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:Ca,fn:e}]}function mj(e){const t=h.useRef(Nc),r=h.useRef(Er),n=Pe(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==ep||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const m=e.findClosestDraggableId(u);if(!m)return;const f=e.tryGetLock(m,i,{sourceEvent:u});if(!f)return;u.preventDefault();const b={x:u.clientX,y:u.clientY};r.current(),d(f,b)}}),[e]),a=Pe(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const u=e.findClosestDraggableId(p);if(!u)return;const m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&p.preventDefault())}}),[e]),o=le(function(){const u={passive:!1,capture:!0};r.current=Mt(window,[a,n],u)},[a,n]),i=le(()=>{t.current.type!=="IDLE"&&(t.current=Nc,r.current(),o())},[o]),l=le(()=>{const p=t.current;i(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[i]),c=le(function(){const u={capture:!0,passive:!1},m=uj({cancel:l,completed:i,getPhase:()=>t.current,setPhase:f=>{t.current=f}});r.current=Mt(window,m,u)},[l,i]),d=le(function(u,m){t.current.type!=="IDLE"&&H(),t.current={type:"PENDING",point:m,actions:u},c()},[c]);Et(function(){return o(),function(){r.current()}},[o])}function pj(){}const hj={[rj]:!0,[tj]:!0,[nj]:!0,[sj]:!0};function fj(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===Gi){a.preventDefault(),r();return}if(a.keyCode===Jm){a.preventDefault(),n();return}if(a.keyCode===lj){a.preventDefault(),e.moveDown();return}if(a.keyCode===oj){a.preventDefault(),e.moveUp();return}if(a.keyCode===ij){a.preventDefault(),e.moveRight();return}if(a.keyCode===aj){a.preventDefault(),e.moveLeft();return}if(hj[a.keyCode]){a.preventDefault();return}Zm(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Ca,fn:r}]}function gj(e){const t=h.useRef(pj),r=Pe(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Jm)return;const i=e.findClosestDraggableId(o);if(!i)return;const l=e.tryGetLock(i,p,{sourceEvent:o});if(!l)return;o.preventDefault();let c=!0;const d=l.snapLift();t.current();function p(){c||H(),c=!1,t.current(),n()}t.current=Mt(window,fj(d,p),{capture:!0,passive:!1})}}),[e]),n=le(function(){const o={passive:!1,capture:!0};t.current=Mt(window,[r],o)},[r]);Et(function(){return n(),function(){t.current()}},[n])}const no={type:"IDLE"},bj=120,xj=.15;function vj({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===Gi&&r.preventDefault(),e()}},{eventName:Ca,fn:e}]}function yj({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:o,clientY:i}=n.touches[0],l={x:o,y:i};n.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}n.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const a=r();a.type==="IDLE"&&H();const o=n.touches[0];if(!o||!(o.force>=xj))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Ca,fn:e}]}function wj(e){const t=h.useRef(no),r=h.useRef(Er),n=le(function(){return t.current},[]),a=le(function(f){t.current=f},[]),o=Pe(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const b=e.findClosestDraggableId(f);if(!b)return;const x=e.tryGetLock(b,l,{sourceEvent:f});if(!x)return;const g=f.touches[0],{clientX:v,clientY:y}=g,w={x:v,y};r.current(),u(x,w)}}),[e]),i=le(function(){const f={capture:!0,passive:!1};r.current=Mt(window,[o],f)},[o]),l=le(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(no),r.current(),i())},[i,a]),c=le(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=le(function(){const f={capture:!0,passive:!1},b={cancel:c,completed:l,getPhase:n},x=Mt(window,yj(b),f),g=Mt(window,vj(b),f);r.current=function(){x(),g()}},[c,n,l]),p=le(function(){const f=n();f.type!=="PENDING"&&H();const b=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:b,hasMoved:!1})},[n,a]),u=le(function(f,b){n().type!=="IDLE"&&H();const x=setTimeout(p,bj);a({type:"PENDING",point:b,actions:f,longPressTimerId:x}),d()},[d,n,a,p]);Et(function(){return i(),function(){r.current();const b=n();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),a(no))}},[n,i,a]),Et(function(){return Mt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const jj=["input","button","textarea","select","option","optgroup","video","audio"];function tp(e,t){if(t==null)return!1;if(jj.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:tp(e,t.parentElement)}function kj(e,t){const r=t.target;return ka(r)?tp(e,r):!1}var Nj=e=>Vt(e.getBoundingClientRect()).center;function Cj(e){return e instanceof Ym(e).Element}const Sj=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function rp(e,t){return e==null?null:e[Sj](t)?e:rp(e.parentElement,t)}function Ej(e,t){return e.closest?e.closest(t):rp(e,t)}function Rj(e){return`[${Rs.contextId}="${e}"]`}function Dj(e,t){const r=t.target;if(!Cj(r))return null;const n=Rj(e),a=Ej(r,n);return!a||!ka(a)?null:a}function Pj(e,t){const r=Dj(e,t);return r?r.getAttribute(Rs.draggableId):null}function Aj(e,t){const r=`[${$o.contextId}="${e}"]`,a=Qm(document,r).find(o=>o.getAttribute($o.id)===t);return!a||!ka(a)?null:a}function Ij(e){e.preventDefault()}function An({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function sp({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const a=r.draggable.findById(n);return!(!a||!a.options.isEnabled||!qm(t.getState(),n))}function Tj({lockAPI:e,contextId:t,store:r,registry:n,draggableId:a,forceSensorStop:o,sourceEvent:i}){if(!sp({lockAPI:e,store:r,registry:n,draggableId:a}))return null;const c=n.draggable.getById(a),d=Aj(t,c.descriptor.id);if(!d||i&&!c.options.canDragInteractiveElements&&kj(d,i))return null;const p=e.claim(o||Er);let u="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function f(){return e.isActive(p)}function b(k,R){An({expected:k,phase:u,isLockActive:f,shouldWarn:!0})&&r.dispatch(R())}const x=b.bind(null,"DRAGGING");function g(k){function R(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(R(),H()),r.dispatch(Ew(k.liftActionArgs)),u="DRAGGING";function S(I,T={shouldBlockNextClick:!1}){if(k.cleanup(),T.shouldBlockNextClick){const F=Mt(window,[{eventName:"click",fn:Ij,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}R(),r.dispatch(_m({reason:I}))}return{isActive:()=>An({expected:"DRAGGING",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,drop:I=>S("DROP",I),cancel:I=>S("CANCEL",I),...k.actions}}function v(k){const R=nn(I=>{x(()=>Mm({client:I}))});return{...g({liftActionArgs:{id:a,clientSelection:k,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function y(){const k={moveUp:()=>x(Mw),moveRight:()=>x(Fw),moveDown:()=>x(_w),moveLeft:()=>x(zw)};return g({liftActionArgs:{id:a,clientSelection:Nj(d),movementMode:"SNAP"},cleanup:Er,actions:k})}function w(){An({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>An({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:v,snapLift:y,abort:w}}const Oj=[mj,gj,wj];function Lj({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:a}){const o=[...a?Oj:[],...n||[]],i=h.useState(()=>J1())[0],l=le(function(g,v){un(g)&&!un(v)&&i.tryAbandon()},[i]);Et(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[i,t,l]),Et(()=>i.tryAbandon,[i.tryAbandon]);const c=le(x=>sp({lockAPI:i,registry:r,store:t,draggableId:x}),[i,r,t]),d=le((x,g,v)=>Tj({lockAPI:i,registry:r,contextId:e,store:t,draggableId:x,forceSensorStop:g||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,i,r,t]),p=le(x=>Pj(e,x),[e]),u=le(x=>{const g=r.draggable.findById(x);return g?g.options:null},[r.draggable]),m=le(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Oi()))},[i,t]),f=le(()=>i.isClaimed(),[i]),b=Pe(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:f}),[c,d,p,u,m,f]);for(let x=0;x<o.length;x++)o[x](b)}const Mj=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ca.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),_j=e=>({...dn,...e.autoScrollerOptions,durationDampening:{...dn.durationDampening,...e.autoScrollerOptions}});function Qs(e){return e.current||H(),e.current}function Fj(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:a,dragHandleUsageInstructions:o}=e,i=h.useRef(null),l=Xm(e),c=le(()=>Mj(l.current),[l]),d=le(()=>_j(l.current),[l]),p=K1(t),u=X1({contextId:t,text:o}),m=B1(t,a),f=le(F=>{Qs(i).dispatch(F)},[]),b=Pe(()=>Jl({publishWhileDragging:Dw,updateDroppableScroll:Aw,updateDroppableIsEnabled:Iw,updateDroppableIsCombineEnabled:Tw,collectionStarting:Pw},f),[f]),x=q1(),g=Pe(()=>v1(x,b),[x,b]),v=Pe(()=>M1({scrollWindow:y1,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...Jl({move:Mm},f)}),[g.scrollDroppable,f,d]),y=G1(t),w=Pe(()=>f1({announce:p,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[p,v,g,y,c,m]);i.current=w;const j=le(()=>{const F=Qs(i);F.getState().phase!=="IDLE"&&F.dispatch(Oi())},[]),k=le(()=>{const F=Qs(i).getState();return F.phase==="DROP_ANIMATING"?!0:F.phase==="IDLE"?!1:F.isDragging},[]),R=Pe(()=>({isDragging:k,tryAbort:j}),[k,j]);r(R);const S=le(F=>qm(Qs(i).getState(),F),[]),I=le(()=>zr(Qs(i).getState()),[]),T=Pe(()=>({marshal:g,focus:y,contextId:t,canLift:S,isMovementAllowed:I,dragHandleUsageInstructionsId:u,registry:x}),[t,g,u,y,S,I,x]);return Lj({contextId:t,store:w,registry:x,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),h.useEffect(()=>j,[j]),ye.createElement(Na.Provider,{value:T},ye.createElement(cy,{context:Bi,store:w},e.children))}function zj(){return ye.useId()}function np(e){const t=zj(),r=e.dragHandleUsageInstructions||Fn.dragHandleUsageInstructions;return ye.createElement(gy,null,n=>ye.createElement(Fj,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Cc={dragging:5e3,dropAnimating:4500},$j=(e,t)=>t?tn.drop(t.duration):e?tn.snap:tn.fluid,Bj=(e,t)=>{if(e)return t?cn.opacity.drop:cn.opacity.combining},Uj=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Gj(e){const r=e.dimension.client,{offset:n,combineWith:a,dropping:o}=e,i=!!a,l=Uj(e),c=!!o,d=c?Fo.drop(n,i):Fo.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:$j(l,o),transform:d,opacity:Bj(i,c),zIndex:c?Cc.dropAnimating:Cc.dragging,pointerEvents:"none"}}function Vj(e){return{transform:Fo.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function qj(e){return e.type==="DRAGGING"?Gj(e):Vj(e)}function Wj(e,t,r=at){const n=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=dm(a,n),i=Hn(o,r),l={client:o,tagName:t.tagName.toLowerCase(),display:n.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:o,page:i}}function Hj(e){const t=Ui("draggable"),{descriptor:r,registry:n,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}=e,c=Pe(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}),[o,l,i]),d=le(f=>{const b=a();return b||H(),Wj(r,b,f)},[r,a]),p=Pe(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),u=h.useRef(p),m=h.useRef(!0);Et(()=>(n.draggable.register(u.current),()=>n.draggable.unregister(u.current)),[n.draggable]),Et(()=>{if(m.current){m.current=!1;return}const f=u.current;u.current=p,n.draggable.update(p,f)},[p,n.draggable])}var Vi=ye.createContext(null);function Zn(e){const t=h.useContext(e);return t||H(),t}function Kj(e){e.preventDefault()}const Qj=e=>{const t=h.useRef(null),r=le((R=null)=>{t.current=R},[]),n=le(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:i}=Zn(Na),{type:l,droppableId:c}=Zn(Vi),d=Pe(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:p,draggableId:u,isEnabled:m,shouldRespectForcePress:f,canDragInteractiveElements:b,isClone:x,mapped:g,dropAnimationFinished:v}=e;if(!x){const R=Pe(()=>({descriptor:d,registry:i,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:f,isEnabled:m}),[d,i,n,b,f,m]);Hj(R)}const y=Pe(()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Kj}:null,[a,o,u,m]),w=le(R=>{g.type==="DRAGGING"&&g.dropping&&R.propertyName==="transform"&&ca.flushSync(v)},[v,g]),j=Pe(()=>{const R=qj(g),S=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":u,style:R,onTransitionEnd:S},dragHandleProps:y}},[a,y,u,g,w,r]),k=Pe(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return ye.createElement(ye.Fragment,null,p(j,g.snapshot,k))};var ap=(e,t)=>e===t,op=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const Yj=e=>e.combine?e.combine.draggableId:null,Xj=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Jj(){const e=nt((a,o)=>({x:a,y:o})),t=nt((a,o,i=null,l=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:i,combineWith:l,combineTargetFor:null})),r=nt((a,o,i,l,c=null,d=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:o,offset:a,dimension:i,forceShouldAnimate:p,snapshot:t(o,l,c,d,null)}}));return(a,o)=>{if(un(a)){if(a.critical.draggable.id!==o.draggableId)return null;const i=a.current.client.offset,l=a.dimensions.draggables[o.draggableId],c=St(a.impact),d=Xj(a.impact),p=a.forceShouldAnimate;return r(e(i.x,i.y),a.movementMode,l,o.isClone,c,d,p)}if(a.phase==="DROP_ANIMATING"){const i=a.completed;if(i.result.draggableId!==o.draggableId)return null;const l=o.isClone,c=a.dimensions.draggables[o.draggableId],d=i.result,p=d.mode,u=op(d),m=Yj(d),b={duration:a.dropDuration,curve:Mi.drop,moveTo:a.newHomeClientOffset,opacity:m?cn.opacity.drop:null,scale:m?cn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:b,draggingOver:u,combineWith:m,mode:p,forceShouldAnimate:null,snapshot:t(p,l,u,m,b)}}}return null}}function ip(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Zj={mapped:{type:"SECONDARY",offset:at,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ip(null)}};function ek(){const e=nt((i,l)=>({x:i,y:l})),t=nt(ip),r=nt((i,l=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),n=i=>i?r(at,i,!0):null,a=(i,l,c,d)=>{const p=c.displaced.visible[i],u=!!(d.inVirtualList&&d.effected[i]),m=ya(c),f=m&&m.draggableId===i?l:null;if(!p){if(!u)return n(f);if(c.displaced.invisible[i])return null;const g=zs(d.displacedBy.point),v=e(g.x,g.y);return r(v,f,!0)}if(u)return n(f);const b=c.displacedBy.point,x=e(b.x,b.y);return r(x,f,p.shouldAnimate)};return(i,l)=>{if(un(i))return i.critical.draggable.id===l.draggableId?null:a(l.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const tk=()=>{const e=Jj(),t=ek();return(n,a)=>e(n,a)||t(n,a)||Zj},rk={dropAnimationFinished:Fm},sk=cm(tk,rk,null,{context:Bi,areStatePropsEqual:ap})(Qj);function lp(e){return Zn(Vi).isUsingCloneFor===e.draggableId&&!e.isClone?null:ye.createElement(sk,e)}function Bo(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ye.createElement(lp,Kn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const cp=e=>t=>e===t,nk=cp("scroll"),ak=cp("auto"),Sc=(e,t)=>t(e.overflowX)||t(e.overflowY),ok=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Sc(r,nk)||Sc(r,ak)},ik=()=>!1,dp=e=>e==null?null:e===document.body?ik()?e:null:e===document.documentElement?null:ok(e)?e:dp(e.parentElement);var Uo=e=>({x:e.scrollLeft,y:e.scrollTop});const up=e=>e?window.getComputedStyle(e).position==="fixed"?!0:up(e.parentElement):!1;var lk=e=>{const t=dp(e),r=up(e);return{closestScrollable:t,isFixedOnPage:r}},ck=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:a,client:o,page:i,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:f}=l,b=Um({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:f,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:b,diff:{value:at,displacement:at}}}})(),d=a==="vertical"?Di:wm,p=Ss({page:i,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:d,isEnabled:t,client:o,page:i,frame:c,subject:p}};const dk=(e,t)=>{const r=um(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,o=n+t.scrollHeight,i=a+t.scrollWidth,c=Ci({top:n,right:i,bottom:o,left:a},r.border);return Si({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var uk=({ref:e,descriptor:t,env:r,windowScroll:n,direction:a,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:l})=>{const c=r.closestScrollable,d=dk(e,c),p=Hn(d,n),u=(()=>{if(!c)return null;const f=um(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:Hn(f,n),scroll:Uo(c),scrollSize:b,shouldClipSubject:l}})();return ck({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:p,closest:u})};const mk={passive:!1},pk={passive:!0};var Ec=e=>e.shouldPublishImmediately?mk:pk;const In=e=>e&&e.env.closestScrollable||null;function hk(e){const t=h.useRef(null),r=Zn(Na),n=Ui("droppable"),{registry:a,marshal:o}=r,i=Xm(e),l=Pe(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=h.useRef(l),d=Pe(()=>nt((j,k)=>{t.current||H();const R={x:j,y:k};o.updateDroppableScroll(l.id,R)}),[l.id,o]),p=le(()=>{const j=t.current;return!j||!j.env.closestScrollable?at:Uo(j.env.closestScrollable)},[]),u=le(()=>{const j=p();d(j.x,j.y)},[p,d]),m=Pe(()=>nn(u),[u]),f=le(()=>{const j=t.current,k=In(j);if(j&&k||H(),j.scrollOptions.shouldPublishImmediately){u();return}m()},[m,u]),b=le((j,k)=>{t.current&&H();const R=i.current,S=R.getDroppableRef();S||H();const I=lk(S),T={ref:S,descriptor:l,env:I,scrollOptions:k};t.current=T;const F=uk({ref:S,descriptor:l,env:I,windowScroll:j,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),$=I.closestScrollable;return $&&($.setAttribute(wc.contextId,r.contextId),$.addEventListener("scroll",f,Ec(T.scrollOptions))),F},[r.contextId,l,f,i]),x=le(()=>{const j=t.current,k=In(j);return j&&k||H(),Uo(k)},[]),g=le(()=>{const j=t.current;j||H();const k=In(j);t.current=null,k&&(m.cancel(),k.removeAttribute(wc.contextId),k.removeEventListener("scroll",f,Ec(j.scrollOptions)))},[f,m]),v=le(j=>{const k=t.current;k||H();const R=In(k);R||H(),R.scrollTop+=j.y,R.scrollLeft+=j.x},[]),y=Pe(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:x,dragStopped:g,scroll:v}),[g,b,x,v]),w=Pe(()=>({uniqueId:n,descriptor:l,callbacks:y}),[y,l,n]);Et(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,o,a.droppable]),Et(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Et(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function ao(){}const Rc={width:0,height:0,margin:ky},fk=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?Rc:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},gk=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=fk({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?tn.placeholder:null}},bk=e=>{const t=h.useRef(null),r=le(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:a,onClose:o,contextId:i}=e,[l,c]=h.useState(e.animate==="open");h.useEffect(()=>l?n!=="open"?(r(),c(!1),ao):t.current?ao:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):ao,[n,l,r]);const d=le(u=>{u.propertyName==="height"&&(a(),n==="close"&&o())},[n,o,a]),p=gk({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return ye.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})};var xk=ye.memo(bk);class vk extends ye.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const yk=e=>{const t=h.useContext(Na);t||H();const{contextId:r,isMovementAllowed:n}=t,a=h.useRef(null),o=h.useRef(null),{children:i,droppableId:l,type:c,mode:d,direction:p,ignoreContainerClipping:u,isDropDisabled:m,isCombineEnabled:f,snapshot:b,useClone:x,updateViewportMaxScroll:g,getContainerForClone:v}=e,y=le(()=>a.current,[]),w=le(($=null)=>{a.current=$},[]);le(()=>o.current,[]);const j=le(($=null)=>{o.current=$},[]),k=le(()=>{n()&&g({maxScroll:Vm()})},[n,g]);hk({droppableId:l,type:c,mode:d,direction:p,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:u,getDroppableRef:y});const R=Pe(()=>ye.createElement(vk,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:$,data:G,animate:de})=>ye.createElement(xk,{placeholder:G,onClose:$,innerRef:j,animate:de,contextId:r,onTransitionEnd:k})),[r,k,e.placeholder,e.shouldAnimatePlaceholder,j]),S=Pe(()=>({innerRef:w,placeholder:R,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,R,w]),I=x?x.dragging.draggableId:null,T=Pe(()=>({droppableId:l,type:c,isUsingCloneFor:I}),[l,I,c]);function F(){if(!x)return null;const{dragging:$,render:G}=x,de=ye.createElement(lp,{draggableId:$.draggableId,index:$.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(B,Y)=>G(B,Y,$));return Tg.createPortal(de,v())}return ye.createElement(Vi.Provider,{value:T},i(S,b),F())};function wk(){return document.body||H(),document.body}const Dc={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:wk},mp=e=>{let t={...e},r;for(r in Dc)e[r]===void 0&&(t={...t,[r]:Dc[r]});return t},oo=(e,t)=>e===t.droppable.type,Pc=(e,t)=>t.draggables[e.draggable.id],jk=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=nt(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),n=nt((o,i,l,c,d,p)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===o){const b=p?{render:p,dragging:r(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:b}}if(!i)return t;if(!c)return e;const f={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(o,i)=>{const l=mp(i),c=l.droppableId,d=l.type,p=!l.isDropDisabled,u=l.renderClone;if(un(o)){const m=o.critical;if(!oo(d,m))return t;const f=Pc(m,o.dimensions),b=St(o.impact)===c;return n(c,p,b,b,f,u)}if(o.phase==="DROP_ANIMATING"){const m=o.completed;if(!oo(d,m.critical))return t;const f=Pc(m.critical,o.dimensions);return n(c,p,op(m.result)===c,St(m.impact)===c,f,u)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const m=o.completed;if(!oo(d,m.critical))return t;const f=St(m.impact)===c,b=!!(m.impact.at&&m.impact.at.type==="COMBINE"),x=m.critical.droppable.id===c;return f?b?e:t:x?e:t}return t}},kk={updateViewportMaxScroll:Lw},Go=cm(jk,kk,(e,t,r)=>({...mp(r),...e,...t}),{context:Bi,areStatePropsEqual:ap})(yk),pp=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));pp.displayName="Table";const hp=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));hp.displayName="TableHeader";const fp=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));fp.displayName="TableBody";const Nk=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Nk.displayName="TableFooter";const zn=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));zn.displayName="TableRow";const Vo=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:J("h-12 px-4 text-center align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Vo.displayName="TableHead";const Xs=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xs.displayName="TableCell";const Ck=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));Ck.displayName="TableCaption";const qi=ha("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",xs:"h-7 rounded-md px-2 text-xs",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?pg:"button";return s.jsx(i,{className:J(qi({variant:t,size:r,className:e})),ref:o,...a})});A.displayName="Button";function Sk({column:e,dragHandleProps:t,onDelete:r,isAuthenticated:n=!1,editMode:a=!1}){const i=["id","no","route","code","location","delivery","tngRoute","info","images","kilometer","tollPrice"].includes(e.dataKey);return s.jsxs("div",{className:"flex items-center justify-center w-[98%] mx-auto relative",children:[s.jsx("div",{...t,className:"text-center",children:s.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent font-medium",style:{fontSize:"11px"},children:e.name})}),!i&&s.jsx("div",{className:"absolute right-0 flex items-center gap-1 opacity-50 group-hover:opacity-100 transition-opacity",children:s.jsx(A,{size:"sm",variant:"ghost",className:`h-auto p-0 text-sm ${n?"text-muted-foreground hover:text-destructive":"opacity-50 cursor-not-allowed text-muted-foreground"}`,onClick:()=>n&&r(),disabled:!n,title:n?"Delete column":"Authentication required to delete columns","data-testid":`button-delete-column-${e.dataKey}`,children:s.jsx(yt,{className:"w-3 h-3"})})})]})}const De=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));De.displayName="Input";const Ds=vg,Ps=yg,Xr=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(id,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(hg,{asChild:!0,children:s.jsx(fa,{className:"h-4 w-4 opacity-50"})})]}));Xr.displayName=id.displayName;const gp=h.forwardRef(({className:e,...t},r)=>s.jsx(ld,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Du,{className:"h-4 w-4"})}));gp.displayName=ld.displayName;const bp=h.forwardRef(({className:e,...t},r)=>s.jsx(cd,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(fa,{className:"h-4 w-4"})}));bp.displayName=cd.displayName;const Jr=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(fg,{children:s.jsxs(dd,{ref:a,className:J("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(gp,{}),s.jsx(gg,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(bp,{})]})}));Jr.displayName=dd.displayName;const Ek=h.forwardRef(({className:e,...t},r)=>s.jsx(ud,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ek.displayName=ud.displayName;const vt=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(md,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(bg,{children:s.jsx(Pr,{className:"h-4 w-4"})})}),s.jsx(xg,{children:t})]}));vt.displayName=md.displayName;const Rk=h.forwardRef(({className:e,...t},r)=>s.jsx(pd,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Rk.displayName=pd.displayName;function io({value:e,type:t,onSave:r,options:n,dataKey:a}){const[o,i]=h.useState(!1),[l,c]=h.useState(e),d=h.useRef(null);h.useEffect(()=>{c(e)},[e]),h.useEffect(()=>{o&&d.current&&(d.current.focus(),d.current.select())},[o]);const p=()=>{let b=l;t==="number"?b=parseInt(l)||0:t==="currency"&&(b=parseFloat(l.toString().replace(/[^0-9.]/g,""))||0,b=b.toFixed(2)),r(b),i(!1)},u=()=>{c(e),i(!1)},m=b=>{b.key==="Enter"?p():b.key==="Escape"&&u()},f=()=>{if(a==="latitude")return"e.g. 3.139003 (decimal degrees)";if(a==="longitude")return"e.g. 101.686855 (decimal degrees)";if(t==="currency")return"0.00";if(t==="number")return"Enter number"};return o?t==="select"&&n?s.jsxs(Ds,{value:l,onValueChange:b=>{c(b),r(b),i(!1)},children:[s.jsx(Xr,{className:"w-full h-6 px-2 py-1 text-sm bg-transparent border-transparent",children:s.jsx(Ps,{})}),s.jsx(Jr,{children:n.map(b=>s.jsx(vt,{value:b,children:b},b))})]}):s.jsx(De,{ref:d,type:t==="number"||t==="currency"?"number":"text",step:t==="currency"?"0.01":void 0,value:t==="currency"?l.toString().replace(/[^0-9.]/g,""):l,onChange:b=>c(b.target.value),onBlur:p,onKeyDown:m,placeholder:f(),className:"w-full h-6 px-2 py-1 text-sm cell-editing glass-input border-none","data-testid":"input-editable-cell"}):s.jsx("span",{onClick:()=>i(!0),className:"cursor-pointer hover:bg-muted/50 rounded px-1 py-0.5 transition-colors","data-testid":"text-editable-cell",children:e})}const Dk="modulepreload",Pk=function(e){return"/"+e},Ac={},kt=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Pk(c),c in Ac)return;Ac[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Dk,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function Ak({images:e,rowId:t,onAddImage:r,editMode:n,onAccessDenied:a}){const[o,i]=h.useState(null);return h.useEffect(()=>{let l=null;const d=setTimeout(async()=>{if(typeof window<"u"&&e.length>0)try{await new Promise(y=>setTimeout(y,150));const p=document.getElementById(`lightgallery-preview-${t}`);if(!p){console.warn("Gallery element not found:",`lightgallery-preview-${t}`);return}if(p.querySelectorAll("a[data-src]").length===0){console.warn("No image links found for lightGallery");return}const{default:m}=await kt(async()=>{const{default:y}=await import("./gallery-vendor-Bg4Nf3lp.js");return{default:y}},[]),f=await kt(()=>import("./lg-thumbnail.es5-B_2a59Ql.js"),[]),b=await kt(()=>import("./lg-zoom.es5-CFpITAXr.js"),[]),x=await kt(()=>import("./lg-autoplay.es5-DUE-vek5.js"),[]),g=await kt(()=>import("./lg-fullscreen.es5-BR_uMRHr.js"),[]),v=await kt(()=>import("./lg-video.es5-C1lgJo_I.js"),[]);await kt(()=>Promise.resolve({}),__vite__mapDeps([0])),await kt(()=>Promise.resolve({}),__vite__mapDeps([1])),await kt(()=>Promise.resolve({}),__vite__mapDeps([2])),await kt(()=>Promise.resolve({}),__vite__mapDeps([3])),await kt(()=>Promise.resolve({}),__vite__mapDeps([4])),await kt(()=>Promise.resolve({}),__vite__mapDeps([5])),l=m(p,{licenseKey:"GPLv3",plugins:[f.default,b.default,x.default,g.default,v.default],speed:800,mode:"lg-slide",download:!1,selector:"a[data-src]",animateThumb:!0,startClass:"lg-start-zoom",backdropDuration:300,hideBarsDelay:2e3,mousewheel:!0,enableSwipe:!0,enableDrag:!0,autoplayFirstVideo:!1,youTubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:1},vimeoPlayerParams:{byline:0,portrait:0,color:"A90707"}}),i(l)}catch(p){console.error("Failed to load LightGallery:",p);const u=f=>{f.preventDefault();const x=f.target.closest("a[data-src]");x&&window.open(x.dataset.src,"_blank")},m=document.getElementById(`lightgallery-preview-${t}`);m&&m.addEventListener("click",u)}},100);return()=>{if(clearTimeout(d),l)try{l.destroy()}catch(p){console.warn("Error destroying lightGallery:",p)}}},[e,t]),e.length===0?s.jsx("div",{className:"flex items-center justify-center gap-2","data-testid":`image-preview-${t}`,children:s.jsx(Ob,{className:"w-4 h-4 text-muted-foreground"})}):s.jsxs("div",{className:"flex items-center justify-center gap-2","data-testid":`image-preview-${t}`,children:[s.jsxs("div",{id:`lightgallery-preview-${t}`,className:"flex items-center gap-1",children:[s.jsx("div",{className:"flex flex-col items-center gap-1",children:s.jsxs("a",{href:e[0].url,"data-src":e[0].url,"data-sub-html":e[0].caption,"data-video":e[0].type==="video"?JSON.stringify({source:[{src:e[0].url,type:"video/mp4"}],attributes:{preload:!1,controls:!0}}):void 0,"data-poster":e[0].type==="video"?e[0].thumbnail:void 0,className:"relative inline-block rounded overflow-hidden hover:scale-105 transition-transform cursor-pointer","data-testid":`media-preview-${t}-0`,title:e[0].caption||(e[0].type==="video"?"Video":"Image"),onClick:l=>{o||(l.preventDefault(),window.open(e[0].url,"_blank"))},children:[e[0].type==="video"?s.jsxs("div",{className:"w-10 h-8 bg-gray-800 border border-border rounded flex items-center justify-center",children:[s.jsx(Ao,{className:"w-4 h-4 text-white"}),e[0].thumbnail&&s.jsx("img",{src:e[0].thumbnail,alt:e[0].caption||"Video thumbnail",className:"absolute inset-0 w-full h-full object-cover rounded"})]}):s.jsx("img",{src:e[0].url,alt:e[0].caption||"Image preview",className:"w-10 h-8 object-cover border border-border",onError:l=>{const c=l.target;c.style.display="none",console.warn("Failed to load image:",e[0].url)}}),e.length>1&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-sm rounded-full w-5 h-5 flex items-center justify-center",children:e.length})]})}),e.slice(1).map((l,c)=>s.jsx("a",{href:l.url,"data-src":l.url,"data-sub-html":l.caption,"data-video":l.type==="video"?JSON.stringify({source:[{src:l.url,type:"video/mp4"}],attributes:{preload:!1,controls:!0}}):void 0,"data-poster":l.type==="video"?l.thumbnail:void 0,style:{display:"none"},"data-testid":`image-hidden-${t}-${c+1}`,children:s.jsx("img",{src:l.url,alt:l.caption||`Hidden media ${c+2}`})},c+1))]}),n&&s.jsx(A,{size:"sm",variant:"ghost",className:"text-xs text-primary hover:text-primary/80",onClick:()=>r(),"data-testid":`button-edit-images-${t}`,title:"Edit images",children:s.jsx(ga,{className:"w-4 h-4"})})]})}const Ue=hd,Wi=fd,Ik=gd,Tk=ri,xp=h.forwardRef(({className:e,...t},r)=>s.jsx(Jo,{ref:r,className:J("fixed inset-0 z-50 bg-black/40 dark:bg-black/85 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 transition-all duration-300 ease-out",e),...t}));xp.displayName=Jo.displayName;const _e=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ik,{children:[s.jsx(xp,{}),s.jsx(Zo,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-card backdrop-blur-lg p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl transition-all ease-out",e),...r,children:t})]}));_e.displayName=Zo.displayName;const Fe=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fe.displayName="DialogHeader";const Ye=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ye.displayName="DialogFooter";const ze=h.forwardRef(({className:e,...t},r)=>s.jsx(ei,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ze.displayName=ei.displayName;const Qe=h.forwardRef(({className:e,...t},r)=>s.jsx(ti,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Qe.displayName=ti.displayName;const Ok=ha("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vp=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:J(Ok({variant:t}),e),...r}));vp.displayName="Alert";const Lk=h.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));Lk.displayName="AlertTitle";const yp=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));yp.displayName="AlertDescription";var Mk="Label",wp=h.forwardRef((e,t)=>s.jsx(Ve.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));wp.displayName=Mk;var jp=wp;const _k=ha("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=h.forwardRef(({className:e,...t},r)=>s.jsx(jp,{ref:r,className:J(_k(),e),...t}));be.displayName=jp.displayName;var kp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ic=ye.createContext&&ye.createContext(kp),Fk=["attr","size","title"];function zk(e,t){if(e==null)return{};var r=$k(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $k(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ea.apply(this,arguments)}function Tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tc(Object(r),!0).forEach(function(n){Bk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bk(e,t,r){return t=Uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e){var t=Gk(e,"string");return typeof t=="symbol"?t:t+""}function Gk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Np(e){return e&&e.map((t,r)=>ye.createElement(t.tag,ta({key:r},t.attr),Np(t.child)))}function Cp(e){return t=>ye.createElement(Vk,ea({attr:ta({},e.attr)},t),Np(e.child))}function Vk(e){var t=r=>{var{attr:n,size:a,title:o}=e,i=zk(e,Fk),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),ye.createElement("svg",ea({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:ta(ta({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&ye.createElement("title",null,o),e.children)};return Ic!==void 0?ye.createElement(Ic.Consumer,null,r=>t(r)):t(kp)}function lo(e){return Cp({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.527 4.799c1.212 2.608.937 5.678-.405 8.173-1.101 2.047-2.744 3.74-4.098 5.614-.619.858-1.244 1.75-1.669 2.727-.141.325-.263.658-.383.992-.121.333-.224.673-.34 1.008-.109.314-.236.684-.627.687h-.007c-.466-.001-.579-.53-.695-.887-.284-.874-.581-1.713-1.019-2.525-.51-.944-1.145-1.817-1.79-2.671L19.527 4.799zM8.545 7.705l-3.959 4.707c.724 1.54 1.821 2.863 2.871 4.18.247.31.494.622.737.936l4.984-5.925-.029.01c-1.741.601-3.691-.291-4.392-1.987a3.377 3.377 0 0 1-.209-.716c-.063-.437-.077-.761-.004-1.198l.001-.007zM5.492 3.149l-.003.004c-1.947 2.466-2.281 5.88-1.117 8.77l4.785-5.689-.058-.05-3.607-3.035zM14.661.436l-3.838 4.563a.295.295 0 0 1 .027-.01c1.6-.551 3.403.15 4.22 1.626.176.319.323.683.377 1.045.068.446.085.773.012 1.22l-.003.016 3.836-4.561A8.382 8.382 0 0 0 14.67.439l-.009-.003zM9.466 5.868L14.162.285l-.047-.012A8.31 8.31 0 0 0 11.986 0a8.439 8.439 0 0 0-6.169 2.766l-.016.018 3.665 3.084z"},child:[]}]})(e)}function co(e){return Cp({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.218 0C9.915 0 6.835 1.49 4.723 4.148c-1.515 1.913-2.31 4.272-2.31 6.706v1.739c0 .894-.62 1.738-1.862 1.813-.298.025-.547.224-.547.522-.05.82.82 2.31 2.012 3.502.82.844 1.788 1.515 2.832 2.036a3 3 0 0 0 2.955 3.528 2.966 2.966 0 0 0 2.931-2.385h2.509c.323 1.689 2.086 2.856 3.974 2.21 1.64-.546 2.36-2.409 1.763-3.924a12.84 12.84 0 0 0 1.838-1.465 10.73 10.73 0 0 0 3.18-7.65c0-2.882-1.118-5.589-3.155-7.625A10.899 10.899 0 0 0 13.218 0zm0 1.217c2.558 0 4.967.994 6.78 2.807a9.525 9.525 0 0 1 2.807 6.78A9.526 9.526 0 0 1 20 17.585a9.647 9.647 0 0 1-6.78 2.807h-2.46a3.008 3.008 0 0 0-2.93-2.41 3.03 3.03 0 0 0-2.534 1.367v.024a8.945 8.945 0 0 1-2.41-1.788c-.844-.844-1.316-1.614-1.515-2.11a2.858 2.858 0 0 0 1.441-.846 2.959 2.959 0 0 0 .795-2.036v-1.789c0-2.11.696-4.197 2.012-5.861 1.863-2.385 4.62-3.726 7.6-3.726zm-2.41 5.986a1.192 1.192 0 0 0-1.191 1.192 1.192 1.192 0 0 0 1.192 1.193A1.192 1.192 0 0 0 12 8.395a1.192 1.192 0 0 0-1.192-1.192zm7.204 0a1.192 1.192 0 0 0-1.192 1.192 1.192 1.192 0 0 0 1.192 1.193 1.192 1.192 0 0 0 1.192-1.193 1.192 1.192 0 0 0-1.192-1.192zm-7.377 4.769a.596.596 0 0 0-.546.845 4.813 4.813 0 0 0 4.346 2.757 4.77 4.77 0 0 0 4.347-2.757.596.596 0 0 0-.547-.845h-.025a.561.561 0 0 0-.521.348 3.59 3.59 0 0 1-3.254 2.061 3.591 3.591 0 0 1-3.254-2.061.64.64 0 0 0-.546-.348z"},child:[]}]})(e)}var Hi="Checkbox",[qk,NC]=er(Hi),[Wk,Hk]=qk(Hi),Sp=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:p,...u}=e,[m,f]=h.useState(null),b=ot(t,j=>f(j)),x=h.useRef(!1),g=m?p||!!m.closest("form"):!0,[v=!1,y]=Os({prop:a,defaultProp:o,onChange:d}),w=h.useRef(v);return h.useEffect(()=>{const j=m==null?void 0:m.form;if(j){const k=()=>y(w.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[m,y]),s.jsxs(Wk,{scope:r,state:v,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Dr(v)?"mixed":v,"aria-required":i,"data-state":Dp(v),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:b,onKeyDown:ke(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ke(e.onClick,j=>{y(k=>Dr(k)?!0:!k),g&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),g&&s.jsx(Kk,{control:m,bubbles:!x.current,name:n,value:c,checked:v,required:i,disabled:l,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Dr(o)?!1:o})]})});Sp.displayName=Hi;var Ep="CheckboxIndicator",Rp=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=Hk(Ep,r);return s.jsx(Ht,{present:n||Dr(o.state)||o.state===!0,children:s.jsx(Ve.span,{"data-state":Dp(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Rp.displayName=Ep;var Kk=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=h.useRef(null),l=si(r),c=ni(t);h.useEffect(()=>{const p=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&f){const b=new Event("click",{bubbles:n});p.indeterminate=Dr(r),f.call(p,Dr(r)?!1:r),p.dispatchEvent(b)}},[l,r,n]);const d=h.useRef(Dr(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Dr(e){return e==="indeterminate"}function Dp(e){return Dr(e)?"indeterminate":e?"checked":"unchecked"}var Pp=Sp,Qk=Rp;const Hr=h.forwardRef(({className:e,...t},r)=>s.jsx(Pp,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Qk,{className:J("flex items-center justify-center text-current"),children:s.jsx(Pr,{className:"h-4 w-4"})})}));Hr.displayName=Pp.displayName;var Ki="Popover",[Ap,CC]=er(Ki,[ia]),jn=ia(),[Yk,Tr]=Ap(Ki),Ip=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=jn(t),c=h.useRef(null),[d,p]=h.useState(!1),[u=!1,m]=Os({prop:n,defaultProp:a,onChange:o});return s.jsx(Cg,{...l,children:s.jsx(Yk,{scope:t,contentId:bd(),triggerRef:c,open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>p(!0),[]),onCustomAnchorRemove:h.useCallback(()=>p(!1),[]),modal:i,children:r})})};Ip.displayName=Ki;var Tp="PopoverAnchor",Xk=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Tr(Tp,r),o=jn(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(Xo,{...o,...n,ref:t})});Xk.displayName=Tp;var Op="PopoverTrigger",Lp=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Tr(Op,r),o=jn(r),i=ot(t,a.triggerRef),l=s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$p(a.open),...n,ref:i,onClick:ke(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Xo,{asChild:!0,...o,children:l})});Lp.displayName=Op;var Qi="PopoverPortal",[Jk,Zk]=Ap(Qi,{forceMount:void 0}),Mp=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=Tr(Qi,t);return s.jsx(Jk,{scope:t,forceMount:r,children:s.jsx(Ht,{present:r||o.open,children:s.jsx(td,{asChild:!0,container:a,children:n})})})};Mp.displayName=Qi;var As="PopoverContent",_p=h.forwardRef((e,t)=>{const r=Zk(As,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=Tr(As,e.__scopePopover);return s.jsx(Ht,{present:n||o.open,children:o.modal?s.jsx(tN,{...a,ref:t}):s.jsx(rN,{...a,ref:t})})});_p.displayName=As;var eN=Sg("PopoverContent.RemoveScroll"),tN=h.forwardRef((e,t)=>{const r=Tr(As,e.__scopePopover),n=h.useRef(null),a=ot(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return wg(i)},[]),s.jsx(jg,{as:eN,allowPinchZoom:!0,children:s.jsx(Fp,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),rN=h.forwardRef((e,t)=>{const r=Tr(As,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(Fp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Fp=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:p,...u}=e,m=Tr(As,r),f=jn(r);return kg(),s.jsx(Ng,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(sd,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(nd,{"data-state":$p(m.open),role:"dialog",id:m.contentId,...f,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zp="PopoverClose",sN=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Tr(zp,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,()=>a.onOpenChange(!1))})});sN.displayName=zp;var nN="PopoverArrow",aN=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jn(r);return s.jsx(ad,{...a,...n,ref:t})});aN.displayName=nN;function $p(e){return e?"open":"closed"}var oN=Ip,iN=Lp,lN=Mp,Bp=_p;const qo=oN,Wo=iN,ra=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(lN,{children:s.jsx(Bp,{ref:a,align:t,sideOffset:r,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));ra.displayName=Bp.displayName;delete da.Icon.Default.prototype._getIconUrl;da.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Oc=e=>{if(!e)return"black";const t=e.toLowerCase().trim();return t.includes("kl 7")||t.includes("kl7")?"blue":t.includes("kl 6")||t.includes("kl6")?"green":t.includes("kl 4")||t.includes("kl4")?"red":t.includes("kl 3")||t.includes("kl3")?"orange":t.includes("kl 1")||t.includes("kl1")?"violet":t.includes("kl 5")||t.includes("kl5")?"yellow":t.includes("kl 9")||t.includes("kl9")?"grey":t.includes("sl 1")||t.includes("sl1")?"gold":t.includes("sl 2")||t.includes("sl2")?"blue":t.includes("sl 3")||t.includes("sl3")||t.includes("set 1")||t.includes("set1")?"grey":t.includes("set 2")||t.includes("set2")?"red":t.includes("set 3")||t.includes("set3")?"orange":(t.includes("warehouse"),"black")},ls=new Map,cN=(e,t=!1)=>{const r=`custom-${e}-${t}`;if(!ls.has(r)){const n=`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 36" width="24" height="36">
        <path fill="${e}" stroke="#000" stroke-width="1" d="M12 0C7.6 0 4 3.6 4 8c0 5.4 8 16 8 16s8-10.6 8-16c0-4.4-3.6-8-8-8zm0 12c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"/>
      </svg>
    `,a="data:image/svg+xml;base64,"+btoa(n);ls.set(r,new da.Icon({iconUrl:a,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[12,18],iconAnchor:[6,18],popupAnchor:[0,-16],shadowSize:[15,15],className:t?"current-location-marker":""}))}return ls.get(r)},dN=(e,t=!1)=>{const r=`${e}-${t}`;return ls.has(r)||ls.set(r,new da.Icon({iconUrl:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${e}.png`,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[12,20],iconAnchor:[6,20],popupAnchor:[0,-18],shadowSize:[15,15],className:t?"current-location-marker":""})),ls.get(r)};function uN({center:e,zoom:t}){const r=Ad();return h.useEffect(()=>{if(!(!r||!r.getContainer()))try{r.setView(e,t,{animate:!0,duration:.5});const n=setTimeout(()=>{var a;try{(a=r==null?void 0:r.getContainer())!=null&&a.parentNode&&r.invalidateSize({animate:!1})}catch{}},100);return()=>clearTimeout(n)}catch{}},[r,e,t]),null}function mN({currentLocation:e}){const t=Ad(),r=h.useCallback(()=>{e&&t&&t.setView([e.latitude,e.longitude],15,{animate:!0,duration:.8})},[e,t]);return e?s.jsx("div",{className:"absolute top-4 right-4 z-[1000]",children:s.jsx(A,{variant:"outline",size:"sm",onClick:r,className:"bg-white/95 hover:bg-white shadow-lg border-2 border-blue-500 hover:border-blue-600 backdrop-blur-sm","data-testid":"button-back-to-current",title:"Back to current location",children:s.jsx(qb,{className:"w-4 h-4 text-blue-500"})})}):null}const pN=h.memo(function({locations:t,height:r="500px",showFullscreenButton:n=!0}){const[a,o]=h.useState(!1),[i,l]=h.useState([]),c=h.useMemo(()=>t.map(b=>b.code).filter(b=>!!b).filter((b,x,g)=>g.indexOf(b)===x).sort(),[t]);h.useEffect(()=>{c.length>0&&i.length===0&&l(c)},[c]);const d=f=>{l(b=>b.includes(f)?b.filter(x=>x!==f):[...b,f])},p=()=>{l(c)},u=()=>{l([])},m=({isFullscreen:f=!1})=>{const b=h.useMemo(()=>f?t.filter(y=>!y.code||i.includes(y.code)):t.filter(y=>y.isCurrent).length?t.filter(y=>y.isCurrent):[t[0]],[f,i]),x=h.useMemo(()=>t.find(y=>y.isCurrent),[t]),g=h.useMemo(()=>{if(b.length===0)return[3.139003,101.686855];const y=b.reduce((j,k)=>j+k.latitude,0)/b.length,w=b.reduce((j,k)=>j+k.longitude,0)/b.length;return[y,w]},[b]),v=h.useMemo(()=>{if(b.length<=1)return 15;const y=b.map(S=>S.latitude),w=b.map(S=>S.longitude),j=Math.max(...y)-Math.min(...y),k=Math.max(...w)-Math.min(...w),R=Math.max(j,k);return R>5?8:R>2?10:R>1?12:R>.5?13:R>.1?14:15},[b]);return s.jsxs(Og,{center:g,zoom:v,style:{height:f?"100%":r,width:"100%"},className:"rounded-lg border border-border",preferCanvas:!0,zoomControl:f,children:[s.jsx(Lg,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",updateWhenIdle:!0,updateWhenZooming:!1,keepBuffer:2}),s.jsx(uN,{center:g,zoom:v}),f&&s.jsx(mN,{currentLocation:x}),b.map((y,w)=>{const j=y.markerColor||Oc(y.code),k=y.markerColor&&y.markerColor.startsWith("#")?cN(y.markerColor,y.isCurrent):dN(j,y.isCurrent);return s.jsx(Mg,{position:[y.latitude,y.longitude],icon:k,children:s.jsx(_g,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold",children:y.label}),y.code&&s.jsxs("div",{className:"text-sm font-medium",style:{color:j==="black"?"#000":j},children:["Route: ",y.code]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[y.latitude.toFixed(6),", ",y.longitude.toFixed(6)]})]})})},`${y.latitude}-${y.longitude}-${w}`)})]})};return t.length===0?s.jsx("div",{style:{height:r},className:"flex items-center justify-center bg-muted rounded-lg border border-border",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No location data available"})}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-auto",children:s.jsx(m,{})}),n&&s.jsx("div",{className:"absolute top-2 right-2 z-[1001] pointer-events-auto",children:s.jsxs(Ue,{open:a,onOpenChange:o,children:[s.jsx(Wi,{asChild:!0,children:s.jsx(A,{variant:"outline",size:"sm",className:"bg-white/95 hover:bg-white shadow-lg border-2 border-gray-400 backdrop-blur-sm pointer-events-auto","data-testid":"button-fullscreen-map",children:s.jsx(Gb,{className:"w-4 h-4 text-black"})})}),s.jsxs(_e,{className:"max-w-[95vw] w-full p-6",style:{height:"min(90vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsxs(Fe,{className:"flex flex-row items-center justify-between space-y-0",style:{paddingTop:"max(0rem, env(safe-area-inset-top))"},children:[s.jsxs(ze,{className:"tracking-tight font-semibold text-[12px]",children:["Map View - ",t.length===1?t[0].label:`${t.length} Locations`]}),s.jsx(Qe,{className:"sr-only",children:"Interactive map showing delivery locations with route filters"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(qo,{children:[s.jsx(Wo,{asChild:!0,children:s.jsxs(A,{variant:"outline",size:"sm","data-testid":"button-filter-routes",children:[s.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Filter Routes (",i.length,"/",c.length,")"]})}),s.jsx(ra,{className:"w-80",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Select Routes"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:"ghost",size:"sm",onClick:p,className:"h-7 text-xs",children:"All"}),s.jsx(A,{variant:"ghost",size:"sm",onClick:u,className:"h-7 text-xs",children:"Clear"})]})]}),s.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:c.map(f=>{const b=Oc(f);return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hr,{id:`route-${f}`,checked:i.includes(f),onCheckedChange:()=>d(f)}),s.jsxs(be,{htmlFor:`route-${f}`,className:"flex items-center gap-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b==="black"?"#000":b}}),s.jsx("span",{className:"text-sm",children:f})]})]},f)})})]})})]}),s.jsx(Tk,{asChild:!0,children:s.jsx(A,{variant:"outline",size:"sm",className:"pagination-button text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300","data-testid":"button-close-map",children:s.jsx(yt,{className:"w-4 h-4"})})})]})]}),s.jsx("div",{className:"mt-4",style:{height:"min(calc(90vh - 100px), calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 140px))",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:s.jsx(m,{isFullscreen:!0})})]})]})})]})},(e,t)=>{if(e.locations.length!==t.locations.length||e.height!==t.height||e.showFullscreenButton!==t.showFullscreenButton)return!1;for(let r=0;r<e.locations.length;r++){const n=e.locations[r],a=t.locations[r];if(n.latitude!==a.latitude||n.longitude!==a.longitude||n.label!==a.label||n.code!==a.code||n.isCurrent!==a.isCurrent||n.markerColor!==a.markerColor)return!1}return!0});function Lc({value:e,onSave:t,isEditable:r=!0}){const[n,a]=h.useState(!1),[o,i]=h.useState(e);h.useEffect(()=>{i(e)},[e]);const l=u=>{i(u),t(u)},c=e||"No information available",d=c.length>50,p=d&&!n?c.substring(0,50)+"...":c;return r?s.jsx("div",{className:"space-y-2",children:s.jsx(De,{value:o,onChange:u=>l(u.target.value),style:{fontSize:"10px"},placeholder:"Enter information...","data-testid":"input-sliding-description"})}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[d&&s.jsx(A,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0 mt-0.5",onClick:()=>a(!n),"data-testid":"button-toggle-description",children:n?s.jsx(fa,{className:"w-3 h-3"}):s.jsx(Gn,{className:"w-3 h-3"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"flex-1 cursor-pointer transition-all duration-300 ease-in-out opacity-90",onClick:()=>a(!n),children:(()=>{const u=(n?c:p).split(`
`).map(m=>m.trim()).filter(m=>m.length>0);return u.length>1?s.jsx("dl",{className:"space-y-2",style:{fontSize:"10px"},children:u.map((m,f)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("dt",{className:"w-20 flex-shrink-0 font-semibold text-blue-600 dark:text-blue-400",children:["Item ",f+1]}),s.jsx("dd",{className:"flex-1 text-gray-700 dark:text-gray-300 m-0",children:m})]},f))}):s.jsx("div",{className:"whitespace-pre-wrap break-words text-gray-700 dark:text-gray-300",style:{fontSize:"10px"},children:n?c:p})})()})})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:d&&n&&s.jsx("div",{className:"pl-8 text-muted-foreground",style:{fontSize:"10px"},children:"Click to collapse"})})]})}function hN({value:e,onSave:t,isEditable:r=!0}){const n=x=>x.trim()?x.split(`
`).map(g=>g.trim()).filter(g=>g.length>0).map((g,v)=>{if(g.includes(" : ")){const[y,...w]=g.split(" : ");return{term:y.trim()||`Item ${v+1}`,definition:w.join(" : ").trim()}}return{term:`Item ${v+1}`,definition:g}}):[],[a,o]=h.useState(n(e)),[i,l]=h.useState(e);h.useEffect(()=>{if(e!==i){const x=a.map(y=>y.definition).join(`
`),g=n(e),v=g.map(y=>y.definition).join(`
`);x!==v&&(o(g),l(e))}},[e,i,a]);const c=x=>x.filter(g=>g.definition.trim()||g.term.trim()).map(g=>g.term.trim()&&g.definition.trim()?`${g.term.trim()} : ${g.definition.trim()}`:g.definition.trim()).join(`
`),d=()=>{const x=[...a,{term:`Item ${a.length+1}`,definition:""}];o(x);const g=c(x);t(g)},p=x=>{const g=a.filter((y,w)=>w!==x);o(g);const v=c(g);t(v)},u=(x,g)=>{const v=[...a];v[x].term=g,o(v)},m=x=>{const g=c(a);t(g)},f=(x,g)=>{const v=[...a];v[x].definition=g,o(v)},b=x=>{const g=c(a);t(g)};if(!r){const x=n(e);return s.jsx("div",{className:"space-y-2",children:x.length>0?s.jsx("dl",{className:"space-y-2",style:{fontSize:"10px"},children:x.map((g,v)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("dt",{className:"w-20 flex-shrink-0 font-semibold text-blue-600 dark:text-blue-400",children:g.term}),s.jsx("dd",{className:"flex-1 text-gray-700 dark:text-gray-300 m-0",children:g.definition})]},v))}):s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"No information available"})})}return s.jsxs("div",{className:"space-y-3",children:[a.length>0?s.jsx("div",{className:"space-y-2",children:a.map((x,g)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(De,{value:x.term,onChange:v=>u(g,v.target.value),onBlur:()=>m(),className:"w-24",style:{fontSize:"10px"},placeholder:"Term","data-testid":`input-item-term-${g}`}),s.jsx(De,{value:x.definition,onChange:v=>f(g,v.target.value),onBlur:()=>b(),className:"flex-1",style:{fontSize:"10px"},placeholder:"Definition","data-testid":`input-item-definition-${g}`}),s.jsx(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-red-600 hover:text-red-700",onClick:()=>p(g),"data-testid":`button-remove-item-${g}`,children:s.jsx(os,{className:"w-3 h-3"})})]},g))}):s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:'No items yet. Click "Add Item" to start.'}),s.jsxs(A,{variant:"outline",size:"sm",onClick:d,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-600 hover:text-blue-700",style:{fontSize:"10px"},"data-testid":"button-add-item",children:[s.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Add Item"]})]})}class je{constructor(t,r,n,a,o){this._legacyCanvasSize=je.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||a||o?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||o||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let i=!1;if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),n=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(a=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),o=this.$overlay.style,o.position="absolute",o.display="none",o.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let l=window.getComputedStyle(t);l.display==="none"&&(t.style.setProperty("display","block","important"),i=!0),l.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=je.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await je.listCameras(!1)).length}catch{return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),n;try{t&&(await r()).every(a=>!a.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((a,o)=>({id:a.deviceId,label:a.label||(o===0?"Default Camera":`Camera ${o+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),je._stopVideoStream(n))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch{return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),je._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),je._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:r}=await this._getCameraStream();!this._active||this._paused?je._stopVideoStream(t):(this._setVideoMirror(r),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(je._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,r,n,a,o=!1,i=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,a=r.canvas,o=r.disallowCanvasResizing||!1,i=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||a||o||i?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let d,p;[n,d]=await Promise.all([n||je.createQrEngine(),je._loadImage(t)]),[a,p]=je._drawToCanvas(d,l,a,o);let u;if(n instanceof Worker){let m=n;r||je._postWorkerMessageSync(m,"inversionMode","both"),u=await new Promise((f,b)=>{let x,g,v,y=-1;g=j=>{j.data.id===y&&(m.removeEventListener("message",g),m.removeEventListener("error",v),clearTimeout(x),j.data.data!==null?f({data:j.data.data,cornerPoints:je._convertPoints(j.data.cornerPoints,l)}):b(je.NO_QR_CODE_FOUND))},v=j=>{m.removeEventListener("message",g),m.removeEventListener("error",v),clearTimeout(x),b("Scanner error: "+(j?j.message||j:"Unknown Error"))},m.addEventListener("message",g),m.addEventListener("error",v),x=setTimeout(()=>v("timeout"),1e4);let w=p.getImageData(0,0,a.width,a.height);y=je._postWorkerMessageSync(m,"decode",w,[w.data.buffer])})}else u=await Promise.race([new Promise((m,f)=>window.setTimeout(()=>f("Scanner error: timeout"),1e4)),(async()=>{try{var[m]=await n.detect(a);if(!m)throw je.NO_QR_CODE_FOUND;return{data:m.rawValue,cornerPoints:je._convertPoints(m.cornerPoints,l)}}catch(f){if(m=f.message||f,/not implemented|service unavailable/.test(m))return je._disableBarcodeDetector=!0,je.scanImage(t,{scanRegion:l,canvas:a,disallowCanvasResizing:o,alsoTryWithoutScanRegion:i});throw`Scanner error: ${m}`}})()]);return c?u:u.data}catch(d){if(!l||!i)throw d;let p=await je.scanImage(t,{qrEngine:n,canvas:a,disallowCanvasResizing:o});return c?p:p.data}finally{r||je._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,r,n,a=!0){je._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:a})}setInversionMode(t){je._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>kt(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!je._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:a})=>/arm/i.test(n||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,n=t.videoHeight,a=t.offsetWidth,o=t.offsetHeight,i=t.offsetLeft,l=t.offsetTop,c=window.getComputedStyle(t),d=c.objectFit,p=r/n,u=a/o;switch(d){case"none":var m=r,f=n;break;case"fill":m=a,f=o;break;default:(d==="cover"?p>u:p<u)?(f=o,m=f*p):(m=a,f=m/p),d==="scale-down"&&(m=Math.min(m,r),f=Math.min(f,n))}var[b,x]=c.objectPosition.split(" ").map((v,y)=>{const w=parseFloat(v);return v.endsWith("%")?(y?o-f:a-m)*w/100:w});c=this._scanRegion.width||r,u=this._scanRegion.height||n,d=this._scanRegion.x||0;var g=this._scanRegion.y||0;p=this.$overlay.style,p.width=`${c/r*m}px`,p.height=`${u/n*f}px`,p.top=`${l+x+g/n*f}px`,n=/scaleX\(-1\)/.test(t.style.transform),p.left=`${i+(n?a-b-m:b)+(n?r-d-c:d)/r*m}px`,p.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let n=r.x||0,a=r.y||0,o=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let i of t)i.x=i.x*o+n,i.y=i.y*r+a;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(a=>setTimeout(a,r-t)),this._lastScanTimestamp=Date.now();try{var n=await je.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!je._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=je.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:a,y:o})=>`${a},${o}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==je.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(a=>Object.assign({},a,{[t]:{exact:this._preferredCamera}}));for(let a of[...n,...r])try{let o=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),i=this._getFacingMode(o)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:o,facingMode:i}}catch{}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,n,a=!1){n=n||document.createElement("canvas");let o=r&&r.x?r.x:0,i=r&&r.y?r.y:0,l=r&&r.width?r.width:t.videoWidth||t.width,c=r&&r.height?r.height:t.videoHeight||t.height;return a||(a=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==a&&(n.width=a),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(t,o,i,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(t){if(t instanceof Image)return await je._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await je._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((r,n)=>{let a=o=>{t.removeEventListener("load",a),t.removeEventListener("error",a),o instanceof ErrorEvent?n("Image load error"):r()};t.addEventListener("load",a),t.addEventListener("error",a)})}static async _postWorkerMessage(t,r,n,a){return je._postWorkerMessageSync(await t,r,n,a)}static _postWorkerMessageSync(t,r,n,a){if(!(t instanceof Worker))return-1;let o=je._workerMessageId++;return t.postMessage({id:o,type:r,data:n},a),o}}je.DEFAULT_CANVAS_SIZE=400;je.NO_QR_CODE_FOUND="No QR code found";je._disableBarcodeDetector=!1;je._workerMessageId=0;function Mc({info:e,rowId:t,code:r,route:n,location:a,latitude:o,longitude:i,qrCode:l,no:c,markerColor:d,onUpdateRow:p,editMode:u=!1,allRows:m=[],iconType:f="info"}){const[b,x]=h.useState(!1),[g,v]=h.useState(!1),[y,w]=h.useState(""),[j,k]=h.useState(!1),[R,S]=h.useState(!1),[I,T]=h.useState(!1),[F,$]=h.useState("google"),[G,de]=h.useState(!1),[B,Y]=h.useState(""),[_,O]=h.useState(!1),[Z,q]=h.useState(!1),[L,V]=h.useState(!1),[C,he]=h.useState({info:"",qrCode:"",latitude:"",longitude:"",markerColor:""}),[z,oe]=h.useState({info:"",qrCode:"",latitude:"",longitude:"",markerColor:""});h.useEffect(()=>{if(b){const X={info:e||"",qrCode:l||"",latitude:o||"",longitude:i||"",markerColor:d||"#3388ff"};he(X),oe(X)}},[b,e,l,o,i,d]);const Ne=()=>z.info!==C.info||z.qrCode!==C.qrCode||z.latitude!==C.latitude||z.longitude!==C.longitude||z.markerColor!==C.markerColor,Se=X=>X?(parseInt(X.replace(/\D/g,""),10)||0).toString().padStart(4,"0"):"0000",ue=()=>{S(!0)},Ce=()=>{const ie=`https://fmvending.web.app/refill-service/M${Se(r)}`;window.open(ie,"_blank"),S(!1)},ge=()=>{$("google"),T(!0)},ce=()=>{if(o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))){const X=`https://www.google.com/maps/dir/?api=1&destination=${o},${i}`;window.open(X,"_blank")}T(!1)},U=()=>{$("waze"),T(!0)},ae=()=>{if(o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))){const X=`https://waze.com/ul?ll=${o},${i}&navigate=yes`;window.open(X,"_blank")}T(!1)},Te=async()=>{if(l){k(!0);try{let X=l;if(l.startsWith("http")){const we=`/api/proxy-image?url=${encodeURIComponent(l)}`,Ie=await fetch(we);if(!Ie.ok)throw new Error(`Failed to load image: ${Ie.statusText}`);X=await Ie.blob()}const ie=await je.scanImage(X,{returnDetailedScanResult:!0});w(ie.data),v(!0)}catch(X){console.error("QR scanning error:",X),alert("Could not read QR code from the image. Please check if the image contains a valid QR code.")}finally{k(!1)}}},$e=()=>{if(y){let X=y;y.match(/^https?:\/\//)||(y.includes(".")&&!y.includes(" ")?X=`https://${y}`:X=`https://www.google.com/search?q=${encodeURIComponent(y)}`),window.open(X,"_blank")}v(!1),w("")},qe=()=>{v(!1),w("")},rt=X=>{let ie=X.trim();!ie.startsWith("http://")&&!ie.startsWith("https://")&&(ie="https://"+ie),Y(ie),de(!0)},it=()=>{B&&window.open(B,"_blank"),de(!1),Y("")},lt=()=>{Ne()&&O(!0)},Dt=async()=>{O(!1),q(!0);try{if(Ne()&&p){const X={};z.info!==C.info&&(X.info=z.info),z.qrCode!==C.qrCode&&(X.qrCode=z.qrCode||null),z.latitude!==C.latitude&&(X.latitude=z.latitude?parseFloat(z.latitude):null),z.longitude!==C.longitude&&(X.longitude=z.longitude?parseFloat(z.longitude):null),z.markerColor!==C.markerColor&&(X.markerColor=z.markerColor),await p(X),he(z),V(!0),setTimeout(()=>{V(!1)},3e3)}}finally{q(!1)}};return s.jsxs(Ue,{open:b,onOpenChange:x,children:[s.jsx(Wi,{asChild:!0,children:s.jsx(A,{variant:"ghost",size:"sm",className:"h-auto p-1 bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-400 hover:text-blue-500 dark:text-blue-300 dark:hover:text-blue-400","data-testid":`button-info-${t}`,children:u?s.jsx(Lb,{className:"w-4 h-4"}):s.jsx(Ib,{className:"w-4 h-4"})})}),s.jsxs(_e,{className:"max-w-lg overflow-hidden flex flex-col bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl transition-smooth data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-95 duration-300 ease-out",style:{maxHeight:"min(90vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Fe,{className:"pb-6 border-b border-blue-900 dark:border-cyan-400/50 flex-shrink-0",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(ze,{className:"font-semibold text-center text-slate-900 dark:text-slate-400",style:{fontSize:"10px"},children:a||"Location"}),s.jsx("div",{className:"text-center text-muted-foreground pt-2",style:{fontSize:"10px"},children:r||""})]}),s.jsxs("div",{className:"py-6 space-y-6 overflow-y-auto flex-1",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:[o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 dark:bg-green-300 rounded-full animate-pulse"}),s.jsx("h4",{className:"font-semibold text-green-500 dark:text-green-300",style:{fontSize:"10px"},children:" Location Map"})]}),s.jsx(pN,{locations:(()=>{const X={latitude:parseFloat(o),longitude:parseFloat(i),label:a||"Location",code:n||r,isCurrent:!0,markerColor:z.markerColor||d},ie=m.filter(we=>we.latitude&&we.longitude&&!isNaN(parseFloat(String(we.latitude)))&&!isNaN(parseFloat(String(we.longitude)))).map(we=>({latitude:parseFloat(String(we.latitude)),longitude:parseFloat(String(we.longitude)),label:we.location||"Location",code:we.route||we.code,isCurrent:we.id===t,markerColor:we.markerColor}));return ie.length>1?ie:[X]})(),height:"160px",showFullscreenButton:!0}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200/50 dark:border-white/10",children:s.jsx(Lc,{value:(()=>{const X=z.info||"";return X?X.includes("|||DESCRIPTION|||")?X.split("|||DESCRIPTION|||")[0]||"":X:""})(),onSave:X=>{const ie=z.info||"";let we=X;if(ie.includes("|||DESCRIPTION|||")){const Ie=ie.split("|||DESCRIPTION|||")[1]||"";Ie.trim()&&(we=`${X}|||DESCRIPTION|||${Ie}`)}oe(Ie=>({...Ie,info:we}))},isEditable:u})})]}),s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 dark:bg-purple-400 rounded-full"}),s.jsx("h4",{className:"font-semibold text-purple-600 dark:text-purple-400",style:{fontSize:"10px"},children:" Description"})]}),s.jsx(hN,{value:(()=>{const X=z.info||"";if(!X)return"";if(X.includes("|||DESCRIPTION|||")){const ie=X.split("|||DESCRIPTION|||")[1]||"";return ie.includes("|||URL|||")?ie.split("|||URL|||")[0]||"":ie}return""})(),onSave:X=>{const ie=z.info||"";let we="",Ie="";if(ie.includes("|||DESCRIPTION|||")){we=ie.split("|||DESCRIPTION|||")[0]||"";const He=ie.split("|||DESCRIPTION|||")[1]||"";He.includes("|||URL|||")&&(Ie=He.split("|||URL|||")[1]||"")}else ie.includes("|||URL|||")?(we=ie.split("|||URL|||")[0]||"",Ie=ie.split("|||URL|||")[1]||""):we=ie;let ut=we.trim();X.trim()&&(ut+=`|||DESCRIPTION|||${X.trim()}`),Ie.trim()&&(X.trim()?ut+=`|||URL|||${Ie.trim()}`:ut+=`|||DESCRIPTION||||||URL|||${Ie.trim()}`),oe(He=>({...He,info:ut}))},isEditable:u})]}),u&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-cyan-500 dark:bg-cyan-400 rounded-full"}),s.jsx("h4",{className:"font-semibold text-cyan-600 dark:text-cyan-400",style:{fontSize:"10px"},children:" Website URL"})]}),s.jsx(Lc,{value:(()=>{const X=z.info||"";return X&&X.includes("|||URL|||")&&X.split("|||URL|||").pop()||""})(),onSave:X=>{const ie=z.info||"";let we="",Ie="";if(ie.includes("|||DESCRIPTION|||")){we=ie.split("|||DESCRIPTION|||")[0]||"";const He=ie.split("|||DESCRIPTION|||")[1]||"";He.includes("|||URL|||")?Ie=He.split("|||URL|||")[0]||"":Ie=He}else we=ie;let ut=we;(Ie.trim()||X.trim())&&(ut+=`|||DESCRIPTION|||${Ie}`,X.trim()&&(ut+=`|||URL|||${X}`)),oe(He=>({...He,info:ut}))},isEditable:u})]}),u&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 dark:bg-purple-400 rounded-full"}),s.jsxs("h4",{className:"font-semibold text-purple-600 dark:text-purple-400",style:{fontSize:"10px"},children:[s.jsx(Gl,{className:"w-4 h-4 inline mr-1"}),"QR Code URL"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{value:z.qrCode,onChange:X=>oe(ie=>({...ie,qrCode:X.target.value})),placeholder:"Enter QR code image URL...",style:{fontSize:"10px"},"data-testid":"input-qr-code"}),s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"URL to the QR code image"})]})]}),u&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 dark:bg-green-400 rounded-full"}),s.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400",style:{fontSize:"10px"},children:" Coordinates"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"latitude",style:{fontSize:"10px"},children:"Latitude"}),s.jsx(De,{id:"latitude",type:"number",step:"any",value:z.latitude,onChange:X=>oe(ie=>({...ie,latitude:X.target.value})),placeholder:"e.g., 3.1390",style:{fontSize:"10px"},"data-testid":"input-latitude"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"longitude",style:{fontSize:"10px"},children:"Longitude"}),s.jsx(De,{id:"longitude",type:"number",step:"any",value:z.longitude,onChange:X=>oe(ie=>({...ie,longitude:X.target.value})),placeholder:"e.g., 101.6869",style:{fontSize:"10px"},"data-testid":"input-longitude"})]})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"GPS coordinates for map location"}),s.jsxs("div",{className:"space-y-2 pt-3",children:[s.jsx(be,{htmlFor:"markerColor",style:{fontSize:"10px"},children:" Marker Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(De,{id:"markerColor",type:"color",value:z.markerColor,onChange:X=>oe(ie=>({...ie,markerColor:X.target.value})),className:"w-20 h-10 cursor-pointer","data-testid":"input-marker-color"}),s.jsx(De,{type:"text",value:z.markerColor,onChange:X=>oe(ie=>({...ie,markerColor:X.target.value})),placeholder:"#3b82f6",className:"flex-1",style:{fontSize:"10px"},pattern:"^#[0-9A-Fa-f]{6}$"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"Custom color for map marker pin"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-blue-200 dark:border-blue-800/50",children:[s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>{oe(C),x(!1)},className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-red-600 hover:text-red-700",style:{fontSize:"10px"},"data-testid":"button-cancel-info",children:[s.jsx(yt,{className:"w-4 h-4 mr-1"}),"Cancel"]}),s.jsx(A,{size:"sm",onClick:lt,disabled:Z||!Ne(),className:Ne()?"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-green-600 hover:text-green-700":"bg-transparent border-transparent text-gray-400 cursor-not-allowed",style:{fontSize:"10px"},"data-testid":"button-save-info",children:Z?s.jsxs(s.Fragment,{children:[s.jsx(Do,{className:"w-4 h-4 mr-1 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Va,{className:"w-4 h-4 mr-1"}),"Save"]})})]})]})]}),s.jsx(Ye,{className:"pt-6 mt-2 border-t border-blue-900 dark:border-cyan-400/50 bg-blue-50/50 dark:bg-black/30 backdrop-blur-sm rounded-b-2xl -mx-6 -mb-6 px-6",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:s.jsx("div",{className:"flex flex-col gap-4 w-full",children:s.jsx("div",{className:"flex justify-between items-center w-full",children:s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a!=="QL Kitchen"&&s.jsx(A,{variant:"ghost",size:"sm",onClick:ue,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-edit-${t}`,children:s.jsx(_n,{className:"w-4 h-4 text-green-600"})}),l&&s.jsxs(A,{variant:"ghost",size:"sm",onClick:Te,disabled:j,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-qrcode-${t}`,children:[s.jsx(Gl,{className:"w-4 h-4 text-purple-600"}),j&&s.jsx("span",{className:"ml-1 text-xs",children:"Scanning..."})]}),(()=>{const X=e&&e.includes("|||URL|||")&&e.split("|||URL|||").pop()||"";return X.trim()?s.jsx(A,{variant:"ghost",size:"sm",onClick:()=>rt(X),className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-open-url-${t}`,children:s.jsx(ar,{className:"w-4 h-4 text-cyan-600"})}):null})(),o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))&&s.jsxs(s.Fragment,{children:[s.jsx(A,{variant:"ghost",size:"sm",onClick:ge,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-direction-${t}`,children:s.jsx(lo,{className:"w-4 h-4 text-red-500"})}),s.jsx(A,{variant:"ghost",size:"sm",onClick:U,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-waze-${t}`,children:s.jsx(co,{className:"w-4 h-4 text-blue-500"})})]})]})})})})]}),s.jsx(Ue,{open:g,onOpenChange:qe,children:s.jsxs(_e,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Ba,{className:"w-5 h-5"}),"QR Code Detected"]}),s.jsx(Qe,{children:"A QR code was scanned and contains a link."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Detected content:"}),s.jsx("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm font-mono break-all",children:y})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to navigate to this link? It will open in a new tab."})]}),s.jsxs(Ye,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(A,{variant:"outline",onClick:qe,"data-testid":"button-cancel-qr-navigation",children:"Cancel"}),s.jsxs(A,{onClick:$e,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-qr-navigation",children:[s.jsx(ar,{className:"w-4 h-4 mr-2"}),"Open Link"]})]})]})}),s.jsx(Ue,{open:R,onOpenChange:S,children:s.jsxs(_e,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(_n,{className:"w-5 h-5"}),"Open Checklist"]}),s.jsx(Qe,{children:"Access the refill service checklist for this location."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"External Link:"}),s.jsxs("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm font-mono break-all",children:["https://fmvending.web.app/refill-service/M",Se(r)]})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to open the refill service checklist? It will open in a new tab."})]}),s.jsxs(Ye,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>S(!1),"data-testid":"button-cancel-checklist",children:"Cancel"}),s.jsxs(A,{onClick:Ce,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-checklist",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Open Checklist"]})]})]})}),s.jsx(Ue,{open:I,onOpenChange:T,children:s.jsxs(_e,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[F==="google"?s.jsx(lo,{className:"w-5 h-5"}):s.jsx(co,{className:"w-5 h-5"}),"Open Navigation"]}),s.jsxs(Qe,{children:["Navigate to this location using ",F==="google"?"Google Maps":"Waze","."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Navigation to:"}),s.jsxs("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm",children:[a||"Location"," (",o,", ",i,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Using ",F==="google"?"Google Maps":"Waze"]})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to open navigation to this location? It will open in a new tab."})]}),s.jsxs(Ye,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>T(!1),"data-testid":"button-cancel-navigation",children:"Cancel"}),s.jsxs(A,{onClick:F==="google"?ce:ae,className:F==="google"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-navigation",children:[F==="google"?s.jsx(lo,{className:"w-4 h-4 mr-2"}):s.jsx(co,{className:"w-4 h-4 mr-2"}),"Open ",F==="google"?"Google Maps":"Waze"]})]})]})}),s.jsx(Ue,{open:G,onOpenChange:de,children:s.jsxs(_e,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(ar,{className:"w-5 h-5"}),"Open External Link"]}),s.jsx(Qe,{children:"This will open a website in a new tab."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Website URL:"}),s.jsx("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm font-mono break-all",children:B})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to open this external link? It will open in a new tab and may use your data."})]}),s.jsxs(Ye,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>de(!1),"data-testid":"button-cancel-url",children:"Cancel"}),s.jsxs(A,{onClick:it,className:"bg-cyan-600 hover:bg-cyan-700","data-testid":"button-confirm-url",children:[s.jsx(ar,{className:"w-4 h-4 mr-2"}),"Open Link"]})]})]})}),s.jsx(Ue,{open:_,onOpenChange:O,children:s.jsxs(_e,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-green-500/20 dark:border-green-400/20",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(Va,{className:"w-5 h-5"}),"Save Changes"]}),s.jsx(Qe,{children:"Are you sure you want to save these changes to the location information?"})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"bg-green-50/50 dark:bg-green-950/30 p-4 rounded-lg border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ba,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-2",children:"Changes to be saved:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[z.info!==C.info&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Location details updated"}),z.qrCode!==C.qrCode&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" QR code URL updated"}),z.latitude!==C.latitude&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Latitude updated"}),z.longitude!==C.longitude&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Longitude updated"}),z.markerColor!==C.markerColor&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Marker color updated"})]})]})]})})}),s.jsxs(Ye,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>O(!1),"data-testid":"button-cancel-save",children:"Cancel"}),s.jsxs(A,{onClick:Dt,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-save",children:[s.jsx(Va,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),L&&s.jsx("div",{className:"fixed top-4 right-4 z-[100] animate-in slide-in-from-top-2 duration-300",children:s.jsxs(vp,{className:"bg-green-600 text-white border-green-700 shadow-lg",children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsxs(yp,{className:"ml-2",children:[s.jsx("strong",{children:"Success!"})," Information saved successfully."]})]})})]})}function Yi({message:e="Loading...",type:t="pulse"}){const[r,n]=h.useState(0),[a,o]=h.useState(0),[i,l]=h.useState("Initializing"),c=[" Add images to your rows for visual reference"," Share your table with custom links"," Customize marker colors on the map"," Drag and drop rows to reorder"," View delivery routes with Google Maps"," Upload images from gallery or URL"," Toggle between delivery alternates"," Calculate distances automatically"," Save your table layout preferences"," Filter routes by delivery schedule"];return h.useEffect(()=>{const d=setInterval(()=>{n(Math.floor(Math.random()*c.length))},800),p=setInterval(()=>{o(m=>m>=100?100:m+2)},100),u=setInterval(()=>{o(m=>(m<20?l("Initializing"):m<40?l("Loading data"):m<60?l("Processing"):m<80?l("Almost there"):m<95?l("Finalizing"):l("Complete"),m))},100);return()=>{clearInterval(d),clearInterval(p),clearInterval(u)}},[]),s.jsx("div",{className:"table-loading-overlay","data-testid":"loading-overlay",children:s.jsxs("div",{className:"flex flex-col items-center gap-8 zoom-in",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 flex items-center justify-center",children:s.jsx("img",{src:"/assets/FamilyMart.png",alt:"FamilyMart Logo",className:"w-20 h-20 object-contain animate-pulse",style:{animationDuration:"2s"}})}),s.jsx("div",{className:"absolute inset-0 -m-2 rounded-3xl border-4 border-blue-400/20 animate-spin",style:{animationDuration:"3s"}}),s.jsx("div",{className:"absolute inset-0 -m-4 rounded-3xl bg-blue-500/10 animate-ping",style:{animationDuration:"2s"}})]}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-sm text-blue-200/90 font-medium transition-all duration-300",children:c[r]})}),s.jsxs("div",{className:"w-72 space-y-2",children:[s.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 rounded-full shadow-lg shadow-blue-500/50 transition-all duration-100 ease-linear",style:{width:`${a}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-200/70",children:[s.jsx("span",{children:i}),s.jsxs("span",{className:"font-mono font-bold",children:[a,"%"]})]})]})]})})}function Up({size:e="sm",type:t="spinner"}){return t==="triple"?s.jsxs("div",{className:"loading-triple-bounce","data-testid":"inline-loading",children:[s.jsx("div",{className:"bounce"}),s.jsx("div",{className:"bounce"}),s.jsx("div",{className:"bounce"})]}):t==="particles"?s.jsx("div",{className:"loading-particles","data-testid":"inline-loading"}):s.jsx("div",{className:`${e==="lg"?"loading-spinner-lg":"loading-spinner"}`,"data-testid":"inline-loading"})}function fN({content:e,children:t,showBelow:r=!1}){const[n,a]=h.useState(!1),[o,i]=h.useState(!1);h.useEffect(()=>{const p=()=>{i("ontouchstart"in window||navigator.maxTouchPoints>0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const l=()=>{o&&(a(!n),setTimeout(()=>a(!1),3e3))},c=()=>{o||a(!0)},d=()=>{o||a(!1)};return s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{onClick:l,onMouseEnter:c,onMouseLeave:d,className:`${o?"cursor-pointer":"cursor-help"}`,children:t}),n&&s.jsxs("div",{className:`absolute left-1/2 transform -translate-x-1/2 z-50 ${r?"top-full mt-1":"bottom-full mb-1"}`,children:[s.jsx("div",{className:"px-2 py-1 text-xs bg-gray-900 text-white rounded shadow-lg whitespace-nowrap",children:e}),s.jsx("div",{className:`absolute left-1/2 transform -translate-x-1/2 border-4 border-transparent ${r?"bottom-full border-b-gray-900":"top-full border-t-gray-900"}`})]})]})}function Xi({rows:e,columns:t,editMode:r,isSharedView:n=!1,hideShareButton:a=!1,disablePagination:o=!1,onUpdateRow:i,onDeleteRow:l,onReorderRows:c,onReorderColumns:d,onDeleteColumn:p,onSelectRowForImage:u,onShowCustomization:m,onOptimizeRoute:f,onShareTable:b,onSavedLinks:x,isAuthenticated:g=!1,isLoading:v=!1,isFiltered:y=!1,searchTerm:w="",onSearchTermChange:j,filterValue:k=[],onFilterValueChange:R,deliveryFilterValue:S=[],onDeliveryFilterValueChange:I,routeOptions:T=[],deliveryOptions:F=[],onClearAllFilters:$,filteredRowsCount:G=0,totalRowsCount:de=0}){const[B,Y]=h.useState(1),[_,O]=h.useState(16),[Z,q]=h.useState(!1),[L,V]=h.useState(null),[C,he]=h.useState(null);Rt();const z=r?t:t.filter(P=>P.dataKey!=="info");h.useEffect(()=>{B>1&&Y(1)},[e.length]);const oe=P=>{const E=new Date().getDay(),K=[1,3,5,0],W=[2,4,6];return P.active===!1||P.deliveryAlt==="inactive"?"inactive":P.deliveryAlt==="alt1"&&!K.includes(E)||P.deliveryAlt==="alt2"&&!W.includes(E)||n&&P.delivery==="Weekday"&&(E===5||E===6)?"off-schedule":"on-schedule"},Ne=C?(()=>{const P=[...e].sort((K,W)=>{if(n||r){const ee=oe(K),se=oe(W),Ge={"on-schedule":0,"off-schedule":1,inactive:2};if(Ge[ee]!==Ge[se])return Ge[ee]-Ge[se]}else{const ee=K.active!==!1,se=W.active!==!1;if(ee!==se)return ee?-1:1}const re=C.direction==="asc"?1:-1;switch(C.column){case"code":{const ee=K.code||"",se=W.code||"",Ge=parseInt(ee)||0,ne=parseInt(se)||0;return(Ge-ne)*re}case"route":{const ee=K.route||"",se=W.route||"";return ee.localeCompare(se)*re}case"location":{const ee=K.location||"",se=W.location||"";return ee.localeCompare(se)*re}case"delivery":{const ee=K.delivery||"",se=W.delivery||"";return ee.localeCompare(se)*re}case"kilometer":{const ee=parseFloat(K.kilometer)||0,se=parseFloat(W.kilometer)||0;return(ee-se)*re}case"order":{const ee=K.no||0,se=W.no||0;return(ee-se)*re}default:return 0}}),E=P.findIndex(K=>K.location==="QL Kitchen"&&K.active!==!1);if(E>0){const K=P.splice(E,1)[0];P.unshift(K)}return P})():(()=>{if(n||r){const P=e.filter(W=>oe(W)==="on-schedule"),E=e.filter(W=>oe(W)==="off-schedule"),K=e.filter(W=>oe(W)==="inactive");return[...P,...E,...K]}else{const P=e.filter(K=>K.active!==!1),E=e.filter(K=>K.active===!1);return[...P,...E]}})(),Se=Ne.length,ue=o?1:Math.ceil(Se/_),Ce=o?0:(B-1)*_,ge=o?Se:Ce+_,ce=o?Ne:Ne.slice(Ce,ge),U=P=>{O(Number(P)),Y(1)},ae=P=>{P!==B&&Y(Math.max(1,Math.min(P,ue)))},Te=P=>{if(!P.destination)return;const{source:E,destination:K,type:W}=P;if(W==="column"){const re=Array.from(t),[ee]=re.splice(E.index,1);re.splice(K.index,0,ee);const se=re.map(Ge=>Ge.id);d.mutate(se)}else if(W==="row"){const re=Array.from(e),[ee]=re.splice(E.index,1);re.splice(K.index,0,ee);const se=re.map(Ge=>Ge.id);c.mutate(se)}},$e=P=>{const E=typeof P=="string"?parseFloat(P):P;return new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",currencyDisplay:"symbol"}).format(E||0).replace("MYR","RM")},qe=(P,E,K)=>{var W;switch(E.dataKey){case"id":return P.id.slice(0,8).toUpperCase();case"no":return P.location==="QL Kitchen"?"":K!==void 0?((W=ce[0])==null?void 0:W.location)==="QL Kitchen"?K:K+1:P.no||0;case"route":return P.route||"";case"code":return P.code||"";case"location":return P.location||"";case"delivery":return P.delivery||"";case"alt1":return P.alt1||"";case"alt2":return P.alt2||"";case"info":return P.info||"";case"tngSite":return P.tngSite||"";case"tngRoute":if(E.type==="currency"){const se=parseFloat(P.tngRoute||"0")||0;return $e(se)}return P.tngRoute||"";case"destination":if(E.type==="currency"){const se=parseFloat(P.destination||"0")||0;return $e(se)}return P.destination||"";case"images":return(P.images||[]).map(se=>typeof se=="string"?{url:se,caption:""}:se);case"kilometer":const ee=P.kilometer;return ee===""||ee===void 0||ee===null?"":typeof ee=="number"?ee===0?"0.00 km":`${ee.toFixed(2)} km`:"";default:return P[E.dataKey]||""}},rt=(P,E)=>{if(P==="no")return e.reduce((K,W)=>K+(W.no||0),0);if(P==="kilometer"){const K=e.filter($t=>$t.location!=="QL Kitchen"&&$t.latitude&&$t.longitude&&Number.isFinite(parseFloat($t.latitude))&&Number.isFinite(parseFloat($t.longitude)));if(K.length===0)return 0;const W=K[K.length-1],re=W.kilometer;if(typeof re!="number"||!Number.isFinite(re))return 0;const se=[...e].find($t=>$t.location==="QL Kitchen");if(!se||!se.latitude||!se.longitude)return re;const Ge=parseFloat(se.latitude),ne=parseFloat(se.longitude);if(!Number.isFinite(Ge)||!Number.isFinite(ne))return re;const Je=parseFloat(W.latitude||"0"),Pt=parseFloat(W.longitude||"0"),Or=6371,ur=(Ge-Je)*(Math.PI/180),mr=(ne-Pt)*(Math.PI/180),ts=Math.sin(ur/2)*Math.sin(ur/2)+Math.cos(Je*(Math.PI/180))*Math.cos(Ge*(Math.PI/180))*Math.sin(mr/2)*Math.sin(mr/2),zt=2*Math.atan2(Math.sqrt(ts),Math.sqrt(1-ts)),Ee=Or*zt;return re+Ee}return E==="currency"&&P==="tngRoute"?e.reduce((K,W)=>{const re=parseFloat(W.tngRoute||"0")||0;return K+re},0):E==="currency"&&P==="destination"?e.reduce((K,W)=>{const re=parseFloat(W.destination||"0")||0;return K+re},0):E==="currency"&&P==="tollPrice"?e.reduce((K,W)=>{const re=parseFloat(W.tollPrice||"0")||0;return K+re},0):0},it=P=>{const K=[...e].sort((W,re)=>{const ee=W.code||"",se=re.code||"",Ge=parseInt(ee)||0,ne=parseInt(se)||0;return!isNaN(Ge)&&!isNaN(ne)?P==="asc"?Ge-ne:ne-Ge:P==="asc"?ee.localeCompare(se):se.localeCompare(ee)}).map(W=>W.id);c.mutate(K)},lt=P=>{const K=[...e].sort((W,re)=>{const ee=W.no||0,se=re.no||0;return P==="asc"?ee-se:se-ee}).map(W=>W.id);c.mutate(K)},Dt=P=>{const K=[...e].sort((W,re)=>{const ee=W.delivery||"",se=re.delivery||"";return P==="asc"?ee.localeCompare(se):se.localeCompare(ee)}).map(W=>W.id);c.mutate(K)},X=P=>{const K=[...e].sort((W,re)=>{const ee=W.location||"",se=re.location||"";return P==="asc"?ee.localeCompare(se):se.localeCompare(ee)}).map(W=>W.id);c.mutate(K)},ie=P=>{const K=[...e].sort((W,re)=>{const ee=W.route||"",se=re.route||"";return P==="asc"?ee.localeCompare(se):se.localeCompare(ee)}).map(W=>W.id);c.mutate(K)},we=P=>{const K=[...e].sort((W,re)=>{const ee=parseFloat(W.kilometer)||0,se=parseFloat(re.kilometer)||0;return P==="asc"?ee-se:se-ee}).map(W=>W.id);c.mutate(K)},Ie=P=>{let E=null;if(!C||C.column!==P?E="asc":C.direction==="asc"?E="desc":E=null,E===null){he(null);return}switch(he({column:P,direction:E}),P){case"route":ie(E);break;case"code":it(E);break;case"delivery":Dt(E);break;case"location":X(E);break;case"kilometer":we(E);break;case"order":lt(E);break}},ut=P=>{V(P),q(!0)},He=()=>{L&&(l.mutate(L),q(!1),V(null))},es=()=>{q(!1),V(null)},dr=P=>{if(!R)return;const E=k.includes(P)?k.filter(K=>K!==P):[...k,P];R(E)},Kt=P=>{if(!I)return;const E=S.includes(P)?S.filter(K=>K!==P):[...S,P];I(E)};return s.jsxs("div",{className:"glass-table rounded-xl border-none shadow-2xl table-container my-10","data-testid":"data-table",children:[s.jsx("div",{className:"px-6 py-3 border-b border-border/20 bg-gradient-to-r from-blue-500/5 via-transparent to-blue-500/5 dark:from-blue-500/5 dark:via-transparent dark:to-blue-500/5 backdrop-blur-sm text-[10px]",style:{fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif"},children:s.jsxs("div",{className:"flex flex-row gap-3 items-center justify-between",children:[!o&&s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("span",{className:"text-sm text-muted-foreground pagination-10px",children:"Show"}),s.jsxs(Ds,{value:_.toString(),onValueChange:U,children:[s.jsx(Xr,{className:"h-6 px-2 pagination-button text-xs font-semibold [&>svg]:hidden w-auto min-w-[3rem]",children:s.jsx(Ps,{})}),s.jsxs(Jr,{className:"bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-700",children:[s.jsx(vt,{value:"16",className:"font-semibold",children:"16"}),s.jsx(vt,{value:"30",className:"font-semibold",children:"30"}),s.jsx(vt,{value:"50",className:"font-semibold",children:"50"}),s.jsx(vt,{value:"100",className:"font-semibold",children:"100"})]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground pagination-10px",children:["of ",Se," entries"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A,{onClick:m,variant:"outline",size:"sm",className:"w-8 h-8 p-0 pagination-button","data-testid":"button-show",title:"Customize columns",children:s.jsx(Tu,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),s.jsx(A,{onClick:f,variant:"outline",size:"sm",className:"w-8 h-8 p-0 pagination-button","data-testid":"button-optimize-route",title:"Optimize delivery route with AI",children:s.jsx(Vn,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),!a&&s.jsx(A,{onClick:b,variant:"outline",size:"sm",className:"w-8 h-8 p-0 pagination-button","data-testid":"button-share-table",title:"Share current table view",children:s.jsx(xi,{className:"w-3 h-3 text-green-500 dark:text-green-400"})})]})]})}),s.jsxs("div",{className:"flex justify-between items-center px-6 py-3 border-b border-border/20 bg-background/30",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs(qo,{children:[s.jsx(Wo,{asChild:!0,children:s.jsxs(A,{variant:"outline",className:"h-6 px-2 pagination-button text-xs justify-start","data-testid":"sort-trigger",children:[C&&s.jsxs(s.Fragment,{children:[C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3 mr-1"}):s.jsx(Mr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{className:"hidden sm:inline",children:[C.column==="route"&&"Route",C.column==="code"&&"Code",C.column==="location"&&"Location",C.column==="delivery"&&"Delivery",C.column==="kilometer"&&"Km",C.column==="order"&&"No"]}),s.jsx("span",{className:"sm:hidden",children:"Sort"})]}),!C&&s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"w-3 h-3 mr-1 opacity-50"}),s.jsx("span",{children:"Sort"})]})]})}),s.jsx(ra,{className:"w-52 p-0",align:"start",children:s.jsxs("div",{className:"p-3 btn-glass",children:[s.jsxs("h4",{className:"font-medium text-sm mb-3 pb-2 border-b border-border/20 flex items-center gap-2",children:[s.jsx(hr,{className:"w-3.5 h-3.5 text-blue-500 dark:text-blue-400"}),"Sort By"]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs(A,{variant:(C==null?void 0:C.column)==="route"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(C==null?void 0:C.column)==="route"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>Ie("route"),"data-testid":"button-sort-route",children:[s.jsx("span",{children:"Route"}),(C==null?void 0:C.column)==="route"&&(C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"})),(C==null?void 0:C.column)!=="route"&&s.jsx(hr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(A,{variant:(C==null?void 0:C.column)==="code"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(C==null?void 0:C.column)==="code"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>Ie("code"),"data-testid":"button-sort-code",children:[s.jsx("span",{children:"Code"}),(C==null?void 0:C.column)==="code"&&(C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"})),(C==null?void 0:C.column)!=="code"&&s.jsx(hr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(A,{variant:(C==null?void 0:C.column)==="location"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(C==null?void 0:C.column)==="location"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>Ie("location"),"data-testid":"button-sort-location",children:[s.jsx("span",{children:"Location"}),(C==null?void 0:C.column)==="location"&&(C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"})),(C==null?void 0:C.column)!=="location"&&s.jsx(hr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(A,{variant:(C==null?void 0:C.column)==="delivery"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(C==null?void 0:C.column)==="delivery"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>Ie("delivery"),"data-testid":"button-sort-delivery",children:[s.jsx("span",{children:"Delivery"}),(C==null?void 0:C.column)==="delivery"&&(C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"})),(C==null?void 0:C.column)!=="delivery"&&s.jsx(hr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(A,{variant:(C==null?void 0:C.column)==="kilometer"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(C==null?void 0:C.column)==="kilometer"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>Ie("kilometer"),"data-testid":"button-sort-kilometer",children:[s.jsx("span",{children:"Kilometer"}),(C==null?void 0:C.column)==="kilometer"&&(C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"})),(C==null?void 0:C.column)!=="kilometer"&&s.jsx(hr,{className:"w-3 h-3 opacity-30"})]}),y&&s.jsxs(A,{variant:(C==null?void 0:C.column)==="order"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(C==null?void 0:C.column)==="order"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>Ie("order"),"data-testid":"button-sort-order",children:[s.jsx("span",{children:"No"}),(C==null?void 0:C.column)==="order"&&(C.direction==="asc"?s.jsx(_r,{className:"w-3 h-3"}):s.jsx(Mr,{className:"w-3 h-3"})),(C==null?void 0:C.column)!=="order"&&s.jsx(hr,{className:"w-3 h-3 opacity-30"})]})]})]})})]}),s.jsx("div",{className:"w-auto",children:s.jsxs(qo,{children:[s.jsx(Wo,{asChild:!0,children:s.jsxs(A,{variant:"outline",className:"h-6 px-2 pagination-button text-xs justify-start","data-testid":"combined-filter-trigger",children:[s.jsx("span",{className:"hidden sm:inline",children:n?S.length===0?" Hide Deliveries":` ${S.length} hidden`:k.length===0&&S.length===0?" Filters":` ${k.length}   ${S.length}`}),s.jsx("span",{className:"sm:hidden",children:n?S.length===0?"":`${S.length}`:k.length===0&&S.length===0?"":`${k.length} ${S.length}`})]})}),s.jsx(ra,{className:"w-64 p-0",align:"start",children:s.jsxs("div",{className:"space-y-4 p-4 text-sm btn-glass",children:[!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[s.jsx(Bb,{className:"w-3 h-3 text-accent"}),"Routes (",k.length," selected)"]}),k.length>0&&s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>R==null?void 0:R([]),className:"h-auto p-1 text-xs",children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),"Clear"]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded p-2 bg-background/50",children:T.filter(P=>P!=="WH").map(P=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hr,{id:`route-${P}`,checked:k.includes(P),onCheckedChange:()=>dr(P)}),s.jsxs(be,{htmlFor:`route-${P}`,className:"text-xs cursor-pointer",children:[" ",P]})]},P))})]}),s.jsx("div",{className:"border-t border-border/20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[s.jsx(Mn,{className:"w-3 h-3 text-orange-500"}),"Hide Deliveries (",S.length," hidden)"]}),S.length>0&&s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>I==null?void 0:I([]),className:"h-auto p-1 text-xs",children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),"Clear"]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded p-2 bg-background/50",children:F.map(P=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hr,{id:`delivery-${P}`,checked:S.includes(P),onCheckedChange:()=>Kt(P)}),s.jsxs(be,{htmlFor:`delivery-${P}`,className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-xs cursor-pointer font-medium",children:[" ",P]})]},P))})]})]})})]})}),(w||k.length>0||S.length>0)&&s.jsxs(A,{onClick:$,variant:"outline",size:"sm",className:"h-6 px-2 pagination-button text-xs border-destructive/30 hover:bg-destructive/10 hover:border-destructive/50","data-testid":"clear-all-filters",children:[s.jsx("span",{className:"hidden sm:inline bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400 bg-clip-text text-transparent",children:"Clear"}),s.jsx("span",{className:"sm:hidden bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400 bg-clip-text text-transparent",children:"Clear"})]})]}),s.jsx("div",{className:"flex-1 max-w-[30%] lg:max-w-md ml-auto flex items-center gap-2",children:s.jsxs("div",{className:"relative group flex-1",children:[s.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-4 text-muted-foreground group-hover:text-primary transition-colors"}),s.jsx(De,{placeholder:"Search...",value:w,onChange:P=>j==null?void 0:j(P.target.value),className:"pl-7 pr-7 h-8 bg-transparent text-foreground placeholder:text-muted-foreground border-2 border-primary/20 hover:border-primary/30 hover:bg-primary/5 rounded-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:border-primary/40 focus-visible:bg-primary/5 disabled:cursor-not-allowed disabled:opacity-50 transition-colors text-sm","data-testid":"search-input"}),w&&s.jsx("button",{onClick:()=>j==null?void 0:j(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-0.5 w-5 h-5 rounded-full hover:bg-muted/50 transition-colors flex items-center justify-center","data-testid":"clear-search","aria-label":"Clear search",children:s.jsx(yt,{className:"w-2.5 h-2.5 text-muted-foreground hover:text-foreground"})})]})})]}),(w||k.length>0||S.length>0)&&s.jsx("div",{className:"px-6 py-2 border-b border-border/20 bg-gradient-to-r from-blue-500/5 via-transparent to-blue-500/5 dark:from-blue-500/5 dark:via-transparent dark:to-blue-500/5",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[s.jsx("span",{className:"text-muted-foreground font-medium text-xs",children:"Active:"}),w&&s.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-primary/10 border border-primary/20 rounded-full text-primary text-xs",children:[s.jsx(Vl,{className:"w-2.5 h-2.5"}),s.jsxs("span",{children:['"',w,'"']}),s.jsx("button",{onClick:()=>j==null?void 0:j(""),className:"ml-0.5 p-0.5 hover:text-primary/70 flex items-center justify-center rounded-full hover:bg-primary/10","aria-label":"Remove text filter",children:s.jsx(yt,{className:"w-2.5 h-2.5"})})]}),k.map(P=>s.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-transparent border border-transparent rounded-full text-gray-400 text-xs",children:[s.jsx(Mn,{className:"w-2.5 h-2.5"}),s.jsx("span",{children:P}),s.jsx("button",{onClick:()=>dr(P),className:"ml-0.5 p-0.5 hover:text-red-600 flex items-center justify-center rounded-full hover:bg-red-500/10","aria-label":`Remove route filter: ${P}`,children:s.jsx(yt,{className:"w-2.5 h-2.5 text-red-500"})})]},P)),S.map(P=>s.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-transparent border border-transparent rounded-full text-gray-400 text-xs",children:[s.jsx(Mn,{className:"w-2.5 h-2.5"}),s.jsx("span",{children:P}),s.jsx("button",{onClick:()=>Kt(P),className:"ml-0.5 p-0.5 hover:text-red-600 flex items-center justify-center rounded-full hover:bg-red-500/10","aria-label":`Remove delivery filter: ${P}`,children:s.jsx(yt,{className:"w-2.5 h-2.5 text-red-500"})})]},P)),s.jsxs("div",{className:"ml-auto text-muted-foreground text-xs",children:[G," of ",de," results"]})]})}),s.jsx("div",{className:"overflow-x-auto w-full",children:s.jsxs(np,{onDragEnd:Te,children:[s.jsxs(pp,{className:"min-w-full",children:[s.jsx(hp,{className:"table-header-glass sticky top-0 z-20 bg-white dark:bg-slate-900 border-b-2 border-yellow-400/30",children:s.jsx(Go,{droppableId:"columns",direction:"horizontal",type:"column",children:P=>s.jsxs(zn,{ref:P.innerRef,...P.droppableProps,children:[z.map((E,K)=>s.jsx(Bo,{draggableId:E.id,index:K,children:W=>s.jsx(Vo,{ref:W.innerRef,...W.draggableProps,className:"px-4 py-3 text-center table-header-footer-12px font-medium text-blue-700 dark:text-blue-300 tracking-wide border-b border-border sticky top-0 bg-white dark:bg-slate-900 shadow-sm whitespace-nowrap",style:{textAlign:"center",textDecoration:"normal",fontSize:"10px",...E.dataKey==="location"&&{minWidth:"135px"}},colSpan:E.dataKey==="location"?3:1,"data-testid":`column-header-${E.dataKey}`,children:s.jsx(Sk,{column:E,dragHandleProps:W.dragHandleProps,onDelete:()=>p.mutate(E.id),isAuthenticated:g,editMode:r})})},E.id)),s.jsx(Vo,{className:"px-4 py-3 text-center table-header-footer-12px font-semibold tracking-wide border-b border-border sticky top-0 bg-white dark:bg-slate-900 shadow-sm whitespace-nowrap",style:{textAlign:"center",textDecoration:"normal",fontSize:"10px"},children:s.jsx("span",{className:"bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400 bg-clip-text text-transparent",children:"Actions"})}),P.placeholder]})})}),s.jsx(Go,{droppableId:"rows",type:"row",children:P=>h.createElement(fp,{ref:P.innerRef,...P.droppableProps,className:"pt-2 motion-layer zoom-in",key:`page-${B}`},v?Array.from({length:Math.min(_,5)}).map((E,K)=>s.jsxs("tr",{className:"skeleton-row fade-in-stagger odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20 backdrop-blur-sm hover:bg-muted/60 table-cell-unique-transition",children:[s.jsx("td",{className:"p-3 w-16",children:s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-gray-500/20 to-slate-500/20 animate-pulse"}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-blue-500/20 to-purple-500/20 animate-pulse",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-green-500/20 to-blue-500/20 animate-pulse",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-yellow-500/20 to-green-500/20 animate-pulse",style:{animationDelay:"0.3s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-red-500/20 to-yellow-500/20 animate-pulse",style:{animationDelay:"0.4s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-green-500/20 to-emerald-500/20 animate-pulse",style:{animationDelay:"0.5s"}})]})}),z.map(W=>s.jsx("td",{className:"p-3",colSpan:W.dataKey==="location"?3:1,children:W.dataKey==="images"?s.jsx("div",{className:"skeleton w-12 h-8 rounded mx-auto bg-gradient-to-r from-blue-400/20 to-purple-400/20 animate-pulse"}):W.dataKey==="delivery"?s.jsx("div",{className:"skeleton w-16 h-6 rounded-full mx-auto bg-gradient-to-r from-green-400/20 to-blue-400/20 animate-pulse"}):W.dataKey==="location"?s.jsx("div",{className:"skeleton w-32 h-4 mx-auto bg-gradient-to-r from-yellow-400/20 to-green-400/20 animate-pulse"}):s.jsx("div",{className:"skeleton w-20 h-4 mx-auto bg-gradient-to-r from-cyan-400/20 to-blue-400/20 animate-pulse"})},W.id))]},`skeleton-${K}`)):ce.map((E,K)=>s.jsx(Bo,{draggableId:E.id,index:K,children:(W,re)=>{var ee,se,Ge;return s.jsxs(zn,{ref:W.innerRef,...W.draggableProps,className:`table-row-glass group ${(()=>{if(n||r){const ne=oe(E);return ne==="inactive"?"bg-gray-100/60 dark:bg-gray-800/40 opacity-50":ne==="off-schedule"?E.location==="QL Kitchen"?"bg-gradient-to-r from-gray-100/80 to-slate-100/80 dark:from-gray-800/60 dark:to-slate-800/60 opacity-60":"odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20 opacity-60":E.location==="QL Kitchen"?"bg-gradient-to-r from-gray-100/80 to-slate-100/80 dark:from-gray-800/60 dark:to-slate-800/60":"odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20"}else return E.active===!1?"bg-gray-100/60 dark:bg-gray-800/40 opacity-50":E.location==="QL Kitchen"?"bg-gradient-to-r from-gray-100/80 to-slate-100/80 dark:from-gray-800/60 dark:to-slate-800/60":"odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20"})()} hover:bg-blue-100/60 dark:hover:bg-blue-800/30 table-cell-unique-transition ${re.isDragging?"drag-elevate":""}`,"data-testid":`table-row-${E.id}`,children:[z.map(ne=>s.jsx(Xs,{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0 px-3 py-3 table-cell-10px text-center text-[12px] bg-transparent text-foreground whitespace-nowrap font-normal table-zoom-in",style:{minWidth:"100px",...ne.dataKey==="location"&&{minWidth:"135px",fontSize:"10px"},...ne.dataKey==="delivery"&&{minWidth:"110px",fontSize:"10px",fontWeight:"normal"},...ne.dataKey==="id"&&{minWidth:"120px"},...ne.dataKey==="code"&&{minWidth:"100px"},...ne.dataKey==="route"&&{minWidth:"90px"},...ne.dataKey==="no"&&{minWidth:"70px"},...ne.dataKey==="kilometer"&&{minWidth:"80px"},...ne.dataKey==="tollPrice"&&{minWidth:"90px"},...ne.dataKey==="tngRoute"&&{minWidth:"90px"},...ne.dataKey==="images"&&{minWidth:"120px"},...ne.type==="currency"&&!ne.dataKey.match(/tollPrice|tngRoute/)&&{minWidth:"100px"}},colSpan:ne.dataKey==="location"?3:1,"data-testid":`cell-${E.id}-${ne.dataKey}`,children:s.jsx("div",{className:"w-[98%] mx-auto text-center",children:ne.dataKey==="images"?s.jsx(Ak,{images:E.images,rowId:E.id,onAddImage:()=>u(E.id),editMode:r,onAccessDenied:()=>u("access-denied")}):ne.dataKey==="info"?E.info&&E.info.trim()?s.jsx(Mc,{info:E.info,rowId:E.id,code:E.code,route:E.route,location:E.location,latitude:E.latitude?String(E.latitude):void 0,longitude:E.longitude?String(E.longitude):void 0,qrCode:E.qrCode||void 0,no:E.no,markerColor:E.markerColor||void 0,onUpdateRow:Je=>i.mutate({id:E.id,updates:Je}),editMode:!1,allRows:e,iconType:"info"}):s.jsx("span",{className:"text-muted-foreground",children:""}):ne.dataKey==="delivery"?r&&ne.isEditable==="true"?s.jsx(io,{value:qe(E,ne,K),type:"select",options:F,dataKey:ne.dataKey,onSave:Je=>i.mutate({id:E.id,updates:{[ne.dataKey]:Je}})}):s.jsx("span",{className:"text-[9px] text-gray-500 dark:text-gray-400 font-medium",children:qe(E,ne,K)||""}):ne.dataKey==="id"?s.jsx("span",{className:"font-mono text-slate-600 dark:text-slate-300",style:{fontSize:"10px"},children:qe(E,ne,K)}):ne.dataKey==="no"&&r&&E.location!=="QL Kitchen"?s.jsx(io,{value:String(E.no||0),type:"number",dataKey:ne.dataKey,onSave:Je=>i.mutate({id:E.id,updates:{no:parseInt(Je)||0}})}):r&&ne.isEditable==="true"?s.jsx(io,{value:qe(E,ne,K),type:ne.type,options:ne.options||void 0,dataKey:ne.dataKey,onSave:Je=>i.mutate({id:E.id,updates:{[ne.dataKey]:Je}})}):s.jsx("span",{className:"text-[9px] text-gray-500 dark:text-gray-400 font-medium",children:ne.dataKey==="kilometer"?s.jsx(fN,{content:(()=>{const Je=E.segmentDistance;return Je&&typeof Je=="number"&&Je>0?`${Je.toFixed(2)} km`:"Starting point"})(),showBelow:K===0&&K!==ce.length-1,children:s.jsx("span",{className:"cursor-help",children:qe(E,ne,K)})}):qe(E,ne,K)})})},ne.id)),s.jsx(Xs,{className:"px-4 py-2 text-sm text-center text-foreground",style:{textAlign:"center"},children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{...W.dragHandleProps,className:`p-2 rounded ${re.isDragging?"cursor-grabbing":r?"cursor-grab":"cursor-default"} text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-all`,title:r?"Drag to reorder":"","data-testid":`drag-handle-${E.id}`,children:s.jsx(Ou,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center gap-3 opacity-60 group-hover:opacity-100 transition-opacity",children:[r&&s.jsxs(s.Fragment,{children:[s.jsx(A,{size:"sm",variant:"ghost",className:`bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-400 dark:text-blue-300 hover:text-blue-500 dark:hover:text-blue-400 ${i.isPending&&((ee=i.variables)==null?void 0:ee.id)===E.id?"opacity-50":""}`,onClick:()=>{u(r?E.id:"access-denied")},disabled:i.isPending&&((se=i.variables)==null?void 0:se.id)===E.id,"data-testid":`button-add-image-${E.id}`,title:"Add image",children:s.jsx(Nb,{className:"w-4 h-4"})}),s.jsx(A,{size:"sm",variant:"ghost",className:`bg-transparent border-transparent hover:bg-transparent hover:border-transparent ${g?"text-blue-400 dark:text-blue-300 hover:text-blue-500 dark:hover:text-blue-400":"opacity-50 cursor-not-allowed"} ${l.isPending&&l.variables===E.id?"mutation-loading":""}`,onClick:()=>g&&ut(E.id),disabled:!g||l.isPending&&l.variables===E.id,"data-testid":`button-delete-row-${E.id}`,title:g?"Delete row":"Authentication required to delete rows",children:l.isPending&&l.variables===E.id?s.jsx(Up,{type:"particles"}):s.jsx(Po,{className:"w-4 h-4"})})]}),s.jsx(Mc,{info:E.info||"",rowId:E.id,code:E.code,route:E.route,location:E.location,latitude:E.latitude?String(E.latitude):void 0,longitude:E.longitude?String(E.longitude):void 0,qrCode:E.qrCode||void 0,no:E.no,markerColor:E.markerColor||void 0,onUpdateRow:ne=>i.mutate({id:E.id,updates:ne}),editMode:r,allRows:e,iconType:r?"filetext":"info"}),r?s.jsxs(Ds,{value:E.deliveryAlt||"normal",onValueChange:ne=>{const Je=ne!=="inactive";i.mutate({id:E.id,updates:{deliveryAlt:ne,active:Je}})},disabled:i.isPending&&((Ge=i.variables)==null?void 0:Ge.id)===E.id,children:[s.jsx(Xr,{className:`h-8 w-16 text-xs border-transparent bg-transparent ${(()=>{if(n||r){const ne=oe(E);return ne==="inactive"?"text-red-500 dark:text-red-400":ne==="off-schedule"?"opacity-60 text-yellow-500 dark:text-yellow-400":"text-green-500 dark:text-green-400"}else return E.deliveryAlt==="inactive"?"text-red-500 dark:text-red-400":E.deliveryAlt==="alt1"||E.deliveryAlt==="alt2"?"text-yellow-500 dark:text-yellow-400":"text-green-500 dark:text-green-400"})()}`,"data-testid":`select-delivery-alt-${E.id}`,children:s.jsx(Ps,{})}),s.jsxs(Jr,{children:[s.jsx(vt,{value:"normal",children:s.jsx("span",{className:"text-green-600 dark:text-green-400",children:""})}),s.jsx(vt,{value:"alt1",children:s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:""})}),s.jsx(vt,{value:"alt2",children:s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:""})}),s.jsx(vt,{value:"inactive",children:s.jsx("span",{className:"text-red-500 dark:text-red-400",children:""})})]})]}):s.jsx(A,{size:"sm",variant:"ghost",className:`border-transparent bg-transparent hover:bg-transparent cursor-not-allowed ${(()=>{if(n||r){const ne=oe(E);return ne==="inactive"?"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300":ne==="off-schedule"?"opacity-40 text-yellow-500 dark:text-yellow-400 hover:text-yellow-600 dark:hover:text-yellow-500":"opacity-60 text-green-500 dark:text-green-400 hover:text-green-600 dark:hover:text-green-500"}else return E.deliveryAlt==="inactive"?"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300":E.deliveryAlt==="alt1"||E.deliveryAlt==="alt2"?"opacity-60 text-yellow-500 dark:text-yellow-400 hover:text-yellow-600 dark:hover:text-yellow-500":"opacity-60 text-green-500 dark:text-green-400 hover:text-green-600 dark:hover:text-green-500"})()}`,disabled:!0,"data-testid":`button-toggle-active-${E.id}`,title:E.deliveryAlt==="alt1"?"Delivery Alt 1 (Mon, Wed, Fri, Sun)":E.deliveryAlt==="alt2"?"Delivery Alt 2 (Tue, Thu, Sat)":E.deliveryAlt==="inactive"?"Inactive":"Normal Delivery (Every Day)",children:s.jsx(Yb,{className:"w-4 h-4"})})]})]})})})]})}},E.id)),P.placeholder)}),s.jsx("tfoot",{children:s.jsxs(zn,{children:[z.map((P,E)=>s.jsx(Xs,{className:"px-3 py-3 text-center table-header-footer-12px font-semibold tracking-wide border-t border-border sticky bottom-0 bg-white dark:bg-slate-900 shadow-sm whitespace-nowrap",style:{textAlign:"center",fontSize:"10px"},colSpan:P.dataKey==="location"?3:1,children:E===0?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",style:{fontSize:"11px"},children:"Totals"}):P.dataKey==="no"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:""}):P.dataKey==="kilometer"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:(()=>{const K=rt("kilometer",P.type);return K>0?`${K.toFixed(2)} km`:""})()}):P.dataKey==="tngRoute"&&P.type==="currency"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:$e(rt("tngRoute",P.type))}):P.dataKey==="tollPrice"&&P.type==="currency"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:$e(rt("tollPrice",P.type))}):s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:""})},P.id)),s.jsx(Xs,{className:"px-3 py-3 text-center table-header-footer-12px font-semibold tracking-wide border-t border-border sticky bottom-0 bg-white dark:bg-slate-900 shadow-sm text-foreground whitespace-nowrap",style:{textAlign:"center",fontSize:"10px"},children:s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:""})})]})})]}),!o&&s.jsxs("div",{className:"flex flex-col items-center gap-2 px-4 py-2 border-t border-blue-200 dark:border-blue-500/20 transition-smooth-fast",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[B>3&&s.jsx(A,{variant:"outline",size:"xs",onClick:()=>ae(1),className:"pagination-button","data-testid":"button-first-page",children:s.jsx(wb,{className:"h-3 w-3"})}),s.jsx("div",{className:"flex items-center gap-1",children:(()=>{if(ue<=6){const re=[];for(let ee=1;ee<=ue;ee++)re.push(ee);return re.map(ee=>{const se=ee===B;return s.jsx(A,{variant:"outline",size:"xs",onClick:()=>ae(ee),className:`pagination-button page-number ${se?"active":""}`,"data-testid":`button-page-${ee}`,children:ee},ee)})}let E=Math.max(1,B-3),K=Math.min(ue,E+6-1);K-E<5&&(E=Math.max(1,K-6+1));const W=[];for(let re=E;re<=K;re++)W.push(re);return W.map(re=>{const ee=re===B;return s.jsx(A,{variant:"outline",size:"xs",onClick:()=>ae(re),className:`pagination-button page-number ${ee?"active":""}`,"data-testid":`button-page-${re}`,children:re},re)})})()}),ue-B>=3&&s.jsx(A,{variant:"outline",size:"xs",onClick:()=>ae(ue),className:"pagination-button","data-testid":"button-last-page",children:s.jsx(jb,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-[10px] font-medium text-muted-foreground whitespace-nowrap",children:[B," of ",ue]})]})]})}),s.jsx(Ue,{open:Z,onOpenChange:q,children:s.jsxs(_e,{className:"sm:max-w-[425px] transition-smooth-fast",children:[s.jsxs(Fe,{children:[s.jsx(ze,{children:"Confirm Deletion"}),s.jsx(Qe,{children:"Are you sure you want to delete this row? This action cannot be undone."})]}),s.jsxs(Ye,{children:[s.jsx(A,{variant:"outline",onClick:es,"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(A,{variant:"destructive",onClick:He,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}const Sa=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Sa.displayName="Card";const Gp=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));Gp.displayName="CardHeader";const Vp=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));Vp.displayName="CardTitle";const gN=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));gN.displayName="CardDescription";const Ea=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));Ea.displayName="CardContent";const bN=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));bN.displayName="CardFooter";const sa=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));sa.displayName="Textarea";var Ji="Radio",[xN,qp]=er(Ji),[vN,yN]=xN(Ji),Wp=h.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...p}=e,[u,m]=h.useState(null),f=ot(t,g=>m(g)),b=h.useRef(!1),x=u?d||!!u.closest("form"):!0;return s.jsxs(vN,{scope:r,checked:a,disabled:i,children:[s.jsx(Ve.button,{type:"button",role:"radio","aria-checked":a,"data-state":Qp(a),"data-disabled":i?"":void 0,disabled:i,value:l,...p,ref:f,onClick:ke(e.onClick,g=>{a||c==null||c(),x&&(b.current=g.isPropagationStopped(),b.current||g.stopPropagation())})}),x&&s.jsx(wN,{control:u,bubbles:!b.current,name:n,value:l,checked:a,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});Wp.displayName=Ji;var Hp="RadioIndicator",Kp=h.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,o=yN(Hp,r);return s.jsx(Ht,{present:n||o.checked,children:s.jsx(Ve.span,{"data-state":Qp(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});Kp.displayName=Hp;var wN=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=h.useRef(null),i=si(r),l=ni(t);return h.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&u){const m=new Event("click",{bubbles:n});u.call(c,r),c.dispatchEvent(m)}},[i,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Qp(e){return e?"checked":"unchecked"}var jN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zi="RadioGroup",[kN,SC]=er(Zi,[la,qp]),Yp=la(),Xp=qp(),[NN,CN]=kN(Zi),Jp=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:p=!0,onValueChange:u,...m}=e,f=Yp(r),b=ai(d),[x,g]=Os({prop:o,defaultProp:a,onChange:u});return s.jsx(NN,{scope:r,name:n,required:i,disabled:l,value:x,onValueChange:g,children:s.jsx(xd,{asChild:!0,...f,orientation:c,dir:b,loop:p,children:s.jsx(Ve.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...m,ref:t})})})});Jp.displayName=Zi;var Zp="RadioGroupItem",eh=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,o=CN(Zp,r),i=o.disabled||n,l=Yp(r),c=Xp(r),d=h.useRef(null),p=ot(t,d),u=o.value===a.value,m=h.useRef(!1);return h.useEffect(()=>{const f=x=>{jN.includes(x.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",b)}},[]),s.jsx(vd,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(Wp,{disabled:i,required:o.required,checked:u,...c,...a,name:o.name,ref:p,onCheck:()=>o.onValueChange(a.value),onKeyDown:ke(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ke(a.onFocus,()=>{var f;m.current&&((f=d.current)==null||f.click())})})})});eh.displayName=Zp;var SN="RadioGroupIndicator",th=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=Xp(r);return s.jsx(Kp,{...a,...n,ref:t})});th.displayName=SN;var rh=Jp,sh=eh,EN=th;const cs=h.forwardRef(({className:e,...t},r)=>s.jsx(rh,{className:J("grid gap-2",e),...t,ref:r}));cs.displayName=rh.displayName;const Lt=h.forwardRef(({className:e,...t},r)=>s.jsx(sh,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(EN,{className:"flex items-center justify-center",children:s.jsx(Au,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Lt.displayName=sh.displayName;var el="Tabs",[RN,EC]=er(el,[la]),nh=la(),[DN,tl]=RN(el),ah=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,p=ai(l),[u,m]=Os({prop:n,onChange:a,defaultProp:o});return s.jsx(DN,{scope:r,baseId:bd(),value:u,onValueChange:m,orientation:i,dir:p,activationMode:c,children:s.jsx(Ve.div,{dir:p,"data-orientation":i,...d,ref:t})})});ah.displayName=el;var oh="TabsList",ih=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=tl(oh,r),i=nh(r);return s.jsx(xd,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(Ve.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});ih.displayName=oh;var lh="TabsTrigger",ch=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=tl(lh,r),l=nh(r),c=mh(i.baseId,n),d=ph(i.baseId,n),p=n===i.value;return s.jsx(vd,{asChild:!0,...l,focusable:!a,active:p,children:s.jsx(Ve.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ke(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?i.onValueChange(n):u.preventDefault()}),onKeyDown:ke(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(n)}),onFocus:ke(e.onFocus,()=>{const u=i.activationMode!=="manual";!p&&!a&&u&&i.onValueChange(n)})})})});ch.displayName=lh;var dh="TabsContent",uh=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,l=tl(dh,r),c=mh(l.baseId,n),d=ph(l.baseId,n),p=n===l.value,u=h.useRef(p);return h.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Ht,{present:a||p,children:({present:m})=>s.jsx(Ve.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&o})})});uh.displayName=dh;function mh(e,t){return`${e}-trigger-${t}`}function ph(e,t){return`${e}-content-${t}`}var PN=ah,hh=ih,fh=ch,gh=uh;const AN=PN,bh=h.forwardRef(({className:e,...t},r)=>s.jsx(hh,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bh.displayName=hh.displayName;const Ho=h.forwardRef(({className:e,...t},r)=>s.jsx(fh,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ho.displayName=fh.displayName;const Ko=h.forwardRef(({className:e,...t},r)=>s.jsx(gh,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ko.displayName=gh.displayName;function xh({open:e,onOpenChange:t,onSave:r,onSaveMultiple:n}){const[a,o]=h.useState("single"),[i,l]=h.useState("image"),[c,d]=h.useState("url"),[p,u]=h.useState(""),[m,f]=h.useState(""),[b,x]=h.useState(""),[g,v]=h.useState([]),[y,w]=h.useState(""),[j,k]=h.useState(!1),R=h.useRef(null),{toast:S}=Rt(),I=O=>O.includes("youtube.com")||O.includes("youtu.be")?"youtube":O.includes("vimeo.com")?"vimeo":O.includes(".mp4")||O.includes(".webm")||O.includes(".ogg")?"direct":"unknown",T=O=>new Promise((Z,q)=>{const L=new FileReader;L.onload=()=>Z(L.result),L.onerror=q,L.readAsDataURL(O)}),F=async O=>{const Z=O.target.files;if(!(!Z||Z.length===0)){k(!0);try{if(a==="single"){const q=Z[0],L=await T(q),V=L.includes("data:")?L.replace(/^data:([^;]+)/,`data:${q.type}`):L;u(V),q.type.startsWith("video/")?l("video"):l("image"),S({title:"File Loaded",description:`${q.name} (${(q.size/1024/1024).toFixed(2)} MB)`})}else{const q=[];for(const L of Array.from(Z)){const V=await T(L),C=L.type.startsWith("video/")?"video":"image",he=V.includes("data:")?V.replace(/^data:([^;]+)/,`data:${L.type}`):V;q.push({url:he,caption:L.name,type:C,mimeType:L.type})}v([...g,...q]),S({title:"Files Loaded",description:`${Z.length} file(s) added to album`})}}catch{S({title:"Error",description:"Failed to load file(s)",variant:"destructive"})}finally{k(!1),R.current&&(R.current.value="")}}},$=()=>{if(a==="single"){if(!p.trim())return;const O=q=>{if(q.startsWith("data:")){const L=q.match(/^data:([^;]+)/);return L?L[1]:void 0}},Z={url:p.trim(),caption:m.trim(),type:i,...i==="video"&&b.trim()&&{thumbnail:b.trim()},...O(p)&&{mimeType:O(p)}};r(Z)}else{if(g.length===0)return;n==null||n(g)}Y()},G=()=>{if(!p.trim())return;const O={url:p.trim(),caption:m.trim(),type:i,...i==="video"&&b.trim()&&{thumbnail:b.trim()}};v([...g,O]),u(""),f(""),x("")},de=O=>{v(g.filter((Z,q)=>q!==O))},B=()=>{const Z=y.split(`
`).filter(q=>q.trim()).map(q=>({url:q.trim(),caption:"",type:i}));v([...g,...Z]),w("")},Y=()=>{u(""),f(""),x(""),l("image"),v([]),w(""),o("single"),d("url"),k(!1),t(!1)},_=()=>{Y()};return s.jsx(Ue,{open:e,onOpenChange:t,children:s.jsxs(_e,{className:"max-w-3m max-h-[90vh] flex flex-col bg-white/95 dark:bg-black/95 backdrop-blur-xl border border-gray-200 dark:border-white/10 shadow-2xl rounded-xl",children:[s.jsxs(Fe,{className:"flex-shrink-0 text-center",children:[s.jsxs(ze,{className:"flex items-center justify-center gap-2 text-center text-sm font-semibold",children:[a==="single"?s.jsx(ql,{className:"w-5 h-5"}):s.jsx(Ga,{className:"w-5 h-5"}),a==="single"?"Add Media":"Add Album"]}),s.jsx(Qe,{className:"text-center text-muted-foreground text-sm mt-2",children:a==="single"?"Upload an image or video to the gallery":"Create an album with multiple media items"})]}),s.jsx("div",{className:"mt-6 space-y-6 overflow-y-auto flex-1 pr-2 px-2",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-black/50 backdrop-blur-sm border border-gray-200 dark:border-white/15 rounded-lg p-4",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90 mb-3 block",children:" Upload Mode"}),s.jsxs(AN,{value:a,onValueChange:O=>o(O),className:"w-full",children:[s.jsxs(bh,{className:"grid w-full grid-cols-2 bg-gray-100 dark:bg-white/5",children:[s.jsxs(Ho,{value:"single",className:"flex items-center gap-2",children:[s.jsx(Ab,{className:"w-4 h-4"}),"Single"]}),s.jsxs(Ho,{value:"album",className:"flex items-center gap-2",children:[s.jsx(Ga,{className:"w-4 h-4"}),"Album"]})]}),s.jsx(Ko,{value:"single",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90",children:" Upload Method"}),s.jsxs(cs,{value:c,onValueChange:O=>{d(O),u("")},className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"url",id:"method-url"}),s.jsx(be,{htmlFor:"method-url",className:"flex items-center gap-2 cursor-pointer",children:" URL"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"file",id:"method-file"}),s.jsxs(be,{htmlFor:"method-file",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Ua,{className:"w-4 h-4 text-green-400"}),"Upload from Gallery"]})]})]})]}),c==="url"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90",children:" Media Type"}),s.jsxs(cs,{value:i,onValueChange:O=>l(O),className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"image",id:"image"}),s.jsxs(be,{htmlFor:"image",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(as,{className:"w-4 h-4 text-blue-400"}),"Image"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"video",id:"video"}),s.jsxs(be,{htmlFor:"video",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Ao,{className:"w-4 h-4 text-purple-400"}),"Video"]})]})]})]}),c==="file"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90",children:" Select File"}),s.jsx("input",{ref:R,type:"file",accept:"image/*,video/*",onChange:F,className:"hidden"}),s.jsxs(A,{type:"button",onClick:()=>{var O;return(O=R.current)==null?void 0:O.click()},disabled:j,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),j?"Processing...":"Choose from Gallery"]}),p&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-500/30 rounded-lg",children:s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:' File loaded successfully! Add caption below and click "Add" to save.'})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"url",className:"text-sm font-medium text-foreground/90",children:[" ",i==="video"?"Video URL":"Image URL"]}),s.jsx(De,{id:"url",type:"url",placeholder:i==="video"?"YouTube, Vimeo, or direct video URL...":"https://example.com/image.jpg",value:p,onChange:O=>u(O.target.value),className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"}),i==="video"&&p&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Detected: ",I(p)," video"]})]}),i==="video"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"thumbnail",className:"text-sm font-medium text-foreground/90",children:" Thumbnail URL (optional)"}),s.jsx(De,{id:"thumbnail",type:"url",placeholder:"https://example.com/thumbnail.jpg",value:b,onChange:O=>x(O.target.value),className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"caption",className:"text-sm font-medium text-foreground/90",children:" Caption (optional)"}),s.jsx(sa,{id:"caption",placeholder:"Enter a caption or description...",value:m,onChange:O=>f(O.target.value),rows:2,className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"})]})]})}),s.jsx(Ko,{value:"album",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-black/20 backdrop-blur-sm border border-green-200 dark:border-white/10 rounded-lg p-3",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90 mb-2 block",children:" Upload from Gallery"}),s.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:F,className:"hidden",id:"album-file-input"}),s.jsxs(A,{type:"button",onClick:()=>{var O;return(O=document.getElementById("album-file-input"))==null?void 0:O.click()},disabled:j,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),j?"Processing...":"Select Multiple Files"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90",children:" Media Type for URL Input"}),s.jsxs(cs,{value:i,onValueChange:O=>l(O),className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"image",id:"album-image"}),s.jsxs(be,{htmlFor:"album-image",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(as,{className:"w-4 h-4 text-blue-400"}),"Images"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"video",id:"album-video"}),s.jsxs(be,{htmlFor:"album-video",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Ao,{className:"w-4 h-4 text-purple-400"}),"Videos"]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-black/20 backdrop-blur-sm border border-blue-200 dark:border-white/10 rounded-lg p-3",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90 mb-2 block",children:"Add URL Item to Album"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{type:"url",placeholder:i==="video"?"Video URL...":"Image URL...",value:p,onChange:O=>u(O.target.value),className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{placeholder:"Caption (optional)",value:m,onChange:O=>f(O.target.value),className:"flex-1 bg-white dark:bg-black/40 border-gray-300 dark:border-white/15 backdrop-blur-sm"}),s.jsx(A,{type:"button",onClick:G,disabled:!p.trim(),className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white",children:s.jsx(Ar,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-black/20 backdrop-blur-sm border border-purple-200 dark:border-white/10 rounded-lg p-3",children:[s.jsx(be,{className:"text-sm font-medium text-foreground/90 mb-2 block",children:"Bulk Add URLs"}),s.jsx(sa,{placeholder:"Paste multiple URLs (one per line)...",value:y,onChange:O=>w(O.target.value),rows:3,className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"}),s.jsxs(A,{type:"button",onClick:B,disabled:!y.trim(),className:"mt-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",size:"sm",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Add All"]})]}),g.length>0&&s.jsxs("div",{className:"bg-purple-50 dark:bg-black/20 backdrop-blur-sm border border-purple-200 dark:border-white/10 rounded-lg p-3",children:[s.jsxs(be,{className:"text-sm font-medium text-foreground/90 mb-3 block",children:[" Album Preview (",g.length," items)"]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:g.map((O,Z)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-white/5 rounded border border-purple-200 dark:border-white/10",children:[O.type==="video"?s.jsx(kb,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}):s.jsx(as,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-foreground/70 truncate flex-1",children:O.caption||O.url}),s.jsx(A,{type:"button",variant:"ghost",size:"sm",onClick:()=>de(Z),className:"h-6 w-6 p-0 hover:bg-red-500/20",children:s.jsx(yt,{className:"w-3 h-3"})})]},Z))})]})]})})]})]})}),s.jsxs(Ye,{className:"space-x-3 flex-shrink-0 mt-6 border-t border-gray-200 dark:border-white/15 pt-4 bg-gray-50 dark:bg-black/50 backdrop-blur-sm rounded-b-xl -mx-6 -mb-6 px-6 py-4",children:[s.jsxs(A,{variant:"outline",onClick:_,className:"border-red-600 text-red-600 hover:bg-red-50 dark:border-red-500 dark:text-red-500 dark:hover:bg-red-950/30 backdrop-blur-sm",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(A,{onClick:$,disabled:a==="single"?!p.trim():g.length===0,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white border-0 shadow-lg shadow-blue-500/30",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),a==="single"?`Add ${i==="video"?"Video":"Image"}`:`Add Album (${g.length} items)`]})]})]})})}function IN({rowId:e,location:t,onClose:r,onAddImage:n}){const[a,o]=h.useState(!1),{toast:i}=Rt(),l=async d=>{try{await n.mutateAsync({rowId:e,imageUrl:d.url,caption:d.caption}),i({title:"Media Added",description:"Media has been added successfully."}),o(!1),r()}catch{i({title:"Error",description:"Failed to add media.",variant:"destructive"})}},c=async d=>{try{for(const p of d)await n.mutateAsync({rowId:e,imageUrl:p.url,caption:p.caption});i({title:"Album Added",description:`${d.length} media items have been added successfully.`}),o(!1),r()}catch{i({title:"Error",description:"Failed to add some media items.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsx(Sa,{className:"bg-card/90 backdrop-blur-xl border-2 border-border shadow-2xl rounded-xl mb-6","data-testid":"add-image-section",children:s.jsxs(Ea,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold mb-6 flex items-center text-foreground text-center justify-center text-sm",children:[s.jsx(as,{className:"w-4 h-4 mr-2 text-primary"})," Add Media to ",t||"Row"]}),s.jsxs("div",{className:"flex flex-col gap-6 items-center text-center",children:[s.jsxs("div",{className:"bg-muted/50 backdrop-blur-sm border border-border rounded-lg p-6",children:[s.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:" Add images or videos to this location"}),s.jsxs(A,{onClick:()=>o(!0),className:"bg-green-500 hover:bg-green-600 text-white","data-testid":"button-open-media-upload",children:[s.jsx(Ar,{className:"w-4 h-4 mr-2"}),"Add Media"]})]}),s.jsx("div",{className:"flex gap-3",children:s.jsx(A,{variant:"outline",onClick:r,"data-testid":"button-cancel",children:"Cancel"})})]})]})}),s.jsx(xh,{open:a,onOpenChange:o,onSave:l,onSaveMultiple:c})]})}function TN({rowId:e,images:t,location:r,onClose:n,onAddImage:a,onUpdateImage:o,onDeleteImage:i}){const[l,c]=h.useState("add"),[d,p]=h.useState(0),[u,m]=h.useState(""),[f,b]=h.useState(""),[x,g]=h.useState(!1),[v,y]=h.useState("single"),[w,j]=h.useState(!1),{toast:k}=Rt(),R=_=>/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(_)||_.includes("unsplash.com")||_.includes("images.unsplash.com"),S=async _=>{try{await a.mutateAsync({rowId:e,imageUrl:_.url,caption:_.caption}),k({title:"Media Added",description:"Media has been added successfully."}),j(!1)}catch{k({title:"Error",description:"Failed to add media.",variant:"destructive"})}},I=async _=>{try{for(const O of _)await a.mutateAsync({rowId:e,imageUrl:O.url,caption:O.caption});k({title:"Album Added",description:`${_.length} media items have been added successfully.`}),j(!1)}catch{k({title:"Error",description:"Failed to add some media items.",variant:"destructive"})}},T=_=>{var O,Z,q;if(_==="add"){j(!0);return}c(_),_==="edit"&&t.length>0?(b(((O=t[d])==null?void 0:O.caption)||""),m("")):_==="replace"&&t.length>0?(m(((Z=t[d])==null?void 0:Z.url)||""),b(((q=t[d])==null?void 0:q.caption)||"")):(m(""),b(""))},F=_=>{var Z,q,L;const O=parseInt(_);p(O),l==="edit"?(b(((Z=t[O])==null?void 0:Z.caption)||""),m("")):l==="replace"&&(m(((q=t[O])==null?void 0:q.url)||""),b(((L=t[O])==null?void 0:L.caption)||""))},$=async()=>{if(l==="add"){if(!u.trim()){k({title:"Error",description:"Please enter an image URL.",variant:"destructive"});return}if(!R(u)){k({title:"Error",description:"Please enter a valid image URL.",variant:"destructive"});return}try{await a.mutateAsync({rowId:e,imageUrl:u,caption:f.trim()}),k({title:"Image Added",description:"Image has been added successfully."}),m(""),b("")}catch{k({title:"Error",description:"Failed to add image.",variant:"destructive"})}}else if(l==="edit")try{await o.mutateAsync({rowId:e,imageIndex:d,caption:f.trim()}),k({title:"Caption Updated",description:"Image caption has been updated successfully."})}catch{k({title:"Error",description:"Failed to update caption.",variant:"destructive"})}else if(l==="replace"){if(!u.trim()){k({title:"Error",description:"Please enter an image URL.",variant:"destructive"});return}if(!R(u)){k({title:"Error",description:"Please enter a valid image URL.",variant:"destructive"});return}try{await o.mutateAsync({rowId:e,imageIndex:d,imageUrl:u,caption:f.trim()}),k({title:"Image Replaced",description:"Image has been replaced successfully."})}catch{k({title:"Error",description:"Failed to replace image.",variant:"destructive"})}}},G=_=>{y(_),g(!0)},de=async()=>{try{v==="all"?(await i.mutateAsync({rowId:e}),k({title:"All Images Deleted",description:"All images have been deleted successfully."}),n()):(await i.mutateAsync({rowId:e,imageIndex:d}),k({title:"Image Deleted",description:"Image has been deleted successfully."}),t.length<=1&&n()),g(!1)}catch{k({title:"Error",description:"Failed to delete image(s).",variant:"destructive"})}},B=a.isPending||o.isPending||i.isPending,Y=(()=>{var _,O;if(l==="add")return u.trim().length>0;if(l==="edit"){const Z=((_=t[d])==null?void 0:_.caption)||"";return f!==Z}else if(l==="replace"){const Z=((O=t[d])==null?void 0:O.url)||"";return u!==Z}return!1})();return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{open:!0,onOpenChange:_=>!_&&n(),children:s.jsxs(_e,{className:"w-[90vw] max-w-[600px] max-h-[90vh] overflow-y-auto animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 duration-300 transition-all bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsx(Fe,{className:"relative z-10",children:s.jsxs(ze,{className:"text-xs font-semibold flex items-center justify-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-blue-400"})," Manage Media for ",r||"Row"]})}),s.jsxs("div",{className:"relative z-10 flex flex-col gap-4 py-4",children:[s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:" Action:"}),s.jsxs(Ds,{value:l,onValueChange:T,children:[s.jsx(Xr,{className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 text-xs",children:s.jsx(Ps,{})}),s.jsxs(Jr,{children:[s.jsx(vt,{value:"add",children:" Add New Media"}),t.length>0&&s.jsx(vt,{value:"edit",children:" Edit Caption"}),t.length>0&&s.jsx(vt,{value:"replace",children:" Replace Media"})]})]})]}),(l==="edit"||l==="replace")&&t.length>1&&s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:" Select Media:"}),s.jsxs(Ds,{value:d.toString(),onValueChange:F,children:[s.jsx(Xr,{className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 text-xs",children:s.jsx(Ps,{})}),s.jsx(Jr,{children:t.map((_,O)=>s.jsxs(vt,{value:O.toString(),children:[_.type==="video"?"":""," Item ",O+1," ",_.caption?`- ${_.caption}`:""]},O))})]})]}),(l==="edit"||l==="replace")&&t[d]&&s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsxs("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:[" Current ",t[d].type==="video"?"Video":"Image",":"]}),t[d].type==="video"?s.jsxs("div",{className:"relative",children:[s.jsx("video",{src:t[d].url,className:"w-32 h-24 object-cover border border-white/20 rounded-lg",controls:!1,poster:t[d].thumbnail}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 rounded-lg",children:s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-white border-y-[4px] border-y-transparent ml-1"})})})]}):s.jsx("img",{src:t[d].url,alt:t[d].caption||"Current image",className:"w-32 h-24 object-cover border border-white/20 rounded-lg"})]}),(l==="add"||l==="replace")&&s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsxs("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:[" ",l==="add"?"Media URL:":"New Media URL:"]}),s.jsx(De,{type:"url",placeholder:"Image, video, YouTube, or Vimeo URL...",value:u,onChange:_=>m(_.target.value),className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 w-full text-xs","data-testid":"input-image-url"}),u&&!R(u)&&s.jsx("p",{className:"text-amber-400 text-xs mt-2",children:" This looks like a video URL. For best compatibility, use direct image formats: jpg, png, gif, webp"})]}),s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:" Caption:"}),s.jsx(De,{type:"text",placeholder:"Add caption (optional)...",value:f,onChange:_=>b(_.target.value),className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 w-full text-xs","data-testid":"input-image-caption"})]}),t.length>0&&s.jsxs("div",{className:"bg-red-900/20 backdrop-blur-sm border border-red-500/30 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-red-400 mb-2 block",children:" Delete Options:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(A,{variant:"destructive",onClick:()=>G("single"),disabled:B,className:"flex-1 bg-transparent hover:bg-red-600/20 backdrop-blur-sm border-transparent text-red-400 hover:text-red-300 text-xs","data-testid":"button-delete-single",children:[s.jsx(Po,{className:"w-3 h-3 mr-1"}),"Delete This Item"]}),s.jsxs(A,{variant:"destructive",onClick:()=>G("all"),disabled:B,className:"flex-1 bg-transparent hover:bg-red-600/20 backdrop-blur-sm border-transparent text-red-400 hover:text-red-300 text-xs","data-testid":"button-delete-all",children:[s.jsx(Po,{className:"w-3 h-3 mr-1"}),"Delete All Items"]})]})]})]}),s.jsxs(Ye,{className:"relative z-10 flex gap-2",children:[s.jsxs(A,{variant:"outline",onClick:n,className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10 backdrop-blur-sm text-xs","data-testid":"button-cancel",disabled:B,children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),"Cancel"]}),s.jsx(A,{onClick:$,disabled:B,className:`flex-1 bg-transparent backdrop-blur-sm border-transparent text-xs transition-all ${Y?"text-green-400 hover:text-green-300 hover:bg-green-600/20":"text-gray-400 dark:text-gray-500 hover:bg-gray-500/10"}`,"data-testid":"button-submit",children:B?s.jsx(Up,{type:"triple"}):s.jsxs(s.Fragment,{children:[l==="add"&&s.jsx(Ar,{className:"w-3 h-3 mr-1"}),l==="edit"&&s.jsx(ga,{className:"w-3 h-3 mr-1"}),l==="replace"&&s.jsx(Lu,{className:"w-3 h-3 mr-1"}),l==="add"?"Add Media":l==="edit"?"Update Caption":"Replace Media"]})})]})]})}),s.jsx(Ue,{open:x,onOpenChange:g,children:s.jsxs(_e,{className:"sm:max-w-[425px] bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsxs(Fe,{className:"relative z-10",children:[s.jsx(ze,{className:"text-xs font-semibold",children:"Confirm Deletion"}),s.jsx(Qe,{className:"text-xs",children:v==="all"?"Are you sure you want to delete ALL images? This action cannot be undone.":"Are you sure you want to delete this image? This action cannot be undone."})]}),s.jsxs(Ye,{className:"relative z-10",children:[s.jsx(A,{variant:"outline",onClick:()=>g(!1),"data-testid":"button-cancel-delete",disabled:B,className:"bg-transparent border-transparent hover:bg-gray-500/10 backdrop-blur-sm text-xs",children:"Cancel"}),s.jsx(A,{variant:"destructive",onClick:de,"data-testid":"button-confirm-delete",disabled:B,className:"bg-transparent hover:bg-red-600/20 backdrop-blur-sm border-transparent text-red-400 hover:text-red-300 text-xs",children:"Delete"})]})]})}),s.jsx(xh,{open:w,onOpenChange:j,onSave:S,onSaveMultiple:I})]})}var rl="Switch",[ON,RC]=er(rl),[LN,MN]=ON(rl),vh=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:p,...u}=e,[m,f]=h.useState(null),b=ot(t,w=>f(w)),x=h.useRef(!1),g=m?p||!!m.closest("form"):!0,[v=!1,y]=Os({prop:a,defaultProp:o,onChange:d});return s.jsxs(LN,{scope:r,checked:v,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":jh(v),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:b,onClick:ke(e.onClick,w=>{y(j=>!j),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&s.jsx(_N,{control:m,bubbles:!x.current,name:n,value:c,checked:v,required:i,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});vh.displayName=rl;var yh="SwitchThumb",wh=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=MN(yh,r);return s.jsx(Ve.span,{"data-state":jh(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});wh.displayName=yh;var _N=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=h.useRef(null),i=si(r),l=ni(t);return h.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&u){const m=new Event("click",{bubbles:n});u.call(c,r),c.dispatchEvent(m)}},[i,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jh(e){return e?"checked":"unchecked"}var kh=vh,FN=wh;const sl=h.forwardRef(({className:e,...t},r)=>s.jsx(kh,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(FN,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sl.displayName=kh.displayName;function zN({open:e,onOpenChange:t,columns:r,visibleColumns:n,onApplyChanges:a,editMode:o=!1}){const[i,l]=h.useState([]),[c,d]=h.useState([]),p=["ID","No","Route","Code","Location","Delivery","Destination"];h.useEffect(()=>{if(r.length>0){const v=o?["longitude","latitude","tollPrice"]:["longitude","latitude","info","tollPrice"],y=r.filter(w=>!v.includes(w.dataKey)).sort((w,j)=>w.sortOrder-j.sortOrder).map(w=>({id:w.id,name:w.name,dataKey:w.dataKey,visible:n.includes(w.id),isCore:p.includes(w.name)}));l(y),d(y)}},[r,n,o]);const u=v=>{l(y=>y.map(w=>w.id===v?{...w,visible:!w.visible}:w))},m=v=>{if(!v.destination)return;const y=Array.from(i),[w]=y.splice(v.source.index,1);y.splice(v.destination.index,0,w),l(y)},f=()=>{const v=i.filter(w=>w.visible).map(w=>w.id),y=i.map(w=>w.id);a(v,y),t(!1)},b=()=>{const v=o?["longitude","latitude","tollPrice"]:["longitude","latitude","info","tollPrice"],y=r.filter(w=>!v.includes(w.dataKey)).sort((w,j)=>w.sortOrder-j.sortOrder).map(w=>({id:w.id,name:w.name,dataKey:w.dataKey,visible:!0,isCore:p.includes(w.name)}));l(y)},x=i.filter(v=>v.visible).length,g=()=>{if(i.length!==c.length)return!0;if(c.length===0)return!1;for(const w of i){const j=c.find(k=>k.id===w.id);if(!j||j.visible!==w.visible)return!0}const v=c.map(w=>w.id),y=i.map(w=>w.id);if(v.length!==y.length)return!0;for(let w=0;w<v.length;w++)if(v[w]!==y[w])return!0;return!1};return s.jsx(Ue,{open:e,onOpenChange:t,children:s.jsxs(_e,{className:"max-w-md bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl transition-smooth",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsxs(Fe,{children:[s.jsxs(ze,{className:"text-lg font-semibold flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Sb,{className:"w-6 h-6"}),"Customize Columns",s.jsxs("span",{className:"text-sm text-muted-foreground font-normal",children:["(",x," of ",i.length," visible)"]})]}),s.jsx(Qe,{className:"text-base",children:"Toggle column visibility and drag to reorder them in your table."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(np,{onDragEnd:m,children:s.jsx(Go,{droppableId:"column-customization",children:v=>s.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2 max-h-80 overflow-y-auto",children:[i.map((y,w)=>s.jsx(Bo,{draggableId:y.id,index:w,children:(j,k)=>s.jsxs("div",{ref:j.innerRef,...j.draggableProps,className:`flex items-center justify-between p-3 rounded-lg border bg-muted/30 hover:bg-muted/50 transition-colors ${k.isDragging?"shadow-lg border-blue-500 dark:border-blue-400":"border-border"} ${y.visible?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{...j.dragHandleProps,className:"cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground",children:s.jsx(Ou,{className:"w-4 h-4"})}),s.jsx(be,{htmlFor:`column-${y.id}`,className:"text-sm font-medium cursor-pointer",children:y.name})]}),s.jsx(sl,{id:`column-${y.id}`,checked:y.visible,onCheckedChange:()=>u(y.id),disabled:y.isCore&&y.visible&&x<=1,"data-testid":`switch-column-${y.dataKey}`})]})},y.id)),v.placeholder]})})}),s.jsxs("div",{className:"text-sm bg-blue-50/50 dark:bg-blue-950/30 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("strong",{className:"text-blue-900 dark:text-blue-100",children:"Tip:"})," At least one column must remain visible. Core columns are recommended to stay visible for the best experience."]})]}),s.jsx(Ye,{className:"flex justify-center",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:"outline",onClick:b,size:"sm",className:"w-8 h-8 p-0","data-testid":"button-reset-columns",title:"Reset columns",children:s.jsx(Lu,{className:"w-4 h-4"})}),s.jsx(A,{variant:"outline",onClick:()=>t(!1),size:"sm",className:"w-8 h-8 p-0","data-testid":"button-cancel-customize",title:"Cancel",children:s.jsx(yt,{className:"w-4 h-4"})}),s.jsx(A,{onClick:f,size:"sm",className:`w-8 h-8 p-0 transition-all duration-200 ${g()?"bg-transparent border border-border/50 text-green-500 hover:text-green-400 hover:bg-green-500/10":"bg-transparent border border-border/50 text-muted-foreground hover:text-foreground hover:bg-background/50"}`,"data-testid":"button-apply-customize",title:"Apply changes",children:s.jsx(yb,{className:"w-4 h-4"})})]})})]})})}function Nh({open:e,onOpenChange:t,onSuccess:r,title:n,description:a}){const[o,i]=h.useState(""),[l,c]=h.useState(!1),{toast:d}=Rt(),p="Acun97",u=f=>{f.preventDefault(),o===p?(r(),t(!1),i(""),d({title:"Access Granted",description:"You now have access to restricted features."})):(d({title:"Access Denied",description:"Incorrect password. Please try again.",variant:"destructive"}),i(""))},m=()=>{i(""),t(!1)};return s.jsx(Ue,{open:e,onOpenChange:t,children:s.jsxs(_e,{className:"w-[80vw] max-w-[80vw] animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 duration-300 transition-all bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsxs(Fe,{className:"relative z-10",children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx($b,{className:"w-5 h-5 text-primary"}),n]}),s.jsx(Qe,{className:"text-sm text-muted-foreground",children:a})]}),s.jsx("div",{className:"space-y-4 relative z-10",children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(De,{type:l?"text":"password",placeholder:"Enter password...",value:o,onChange:f=>i(f.target.value),className:"pr-10 bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent","data-testid":"password-input",autoFocus:!0}),s.jsx(A,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!l),"data-testid":"toggle-password-visibility",children:l?s.jsx(Pb,{className:"h-4 w-4"}):s.jsx(Tu,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(A,{type:"button",variant:"outline",onClick:m,className:"bg-transparent backdrop-blur-sm border-transparent text-red-500 hover:bg-red-500/10","data-testid":"cancel-password",children:"Cancel"}),s.jsx(A,{type:"submit",disabled:!o.trim(),className:"transition-all duration-200 backdrop-blur-sm border-transparent bg-transparent text-green-500 hover:bg-green-500/10 disabled:text-muted-foreground disabled:hover:bg-transparent","data-testid":"submit-password",children:"Unlock"})]})]})})]})})}function $N({onCreateColumn:e,disabled:t}){const[r,n]=h.useState(!1),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState("text"),[p,u]=h.useState(""),[m,f]=h.useState(!1),{toast:b}=Rt(),x=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"currency",label:"Currency (MYR)"},{value:"select",label:"Select Options"},{value:"images",label:"Images"}],g=async w=>{if(w.preventDefault(),!a.trim()){b({title:"Error",description:"Column name is required.",variant:"destructive"});return}if(!i.trim()){b({title:"Error",description:"Data key is required.",variant:"destructive"});return}f(!0);try{const j={name:a.trim(),dataKey:i.trim(),type:c};c==="select"&&p.trim()&&(j.options=p.split(`
`).map(k=>k.trim()).filter(k=>k.length>0)),await e(j),o(""),l(""),d("text"),u(""),n(!1),b({title:"Success",description:"Column created successfully!"})}catch(j){console.error("Error creating column:",j),b({title:"Error",description:"Failed to create column. Please try again.",variant:"destructive"})}finally{f(!1)}},v=w=>w.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_{2,}/g,"_").replace(/^_|_$/g,""),y=w=>{o(w),w&&!i&&l(v(w))};return s.jsxs(Ue,{open:r,onOpenChange:n,children:[s.jsx(Wi,{asChild:!0,children:s.jsx(A,{variant:"outline",size:"sm",className:"btn-glass w-8 h-8 p-0 pagination-button md:w-20 md:h-9 md:px-3",disabled:t,"data-testid":"button-add-column",title:"Add new field",children:s.jsx(Ul,{className:"w-4 h-4"})})}),s.jsxs(_e,{className:"max-w-md",children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"w-5 h-5"}),"Add New Field"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"column-name",children:"Field Name"}),s.jsx(De,{id:"column-name",placeholder:"Enter column name...",value:a,onChange:w=>y(w.target.value),"data-testid":"input-column-name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"data-key",children:"Data Key"}),s.jsx(De,{id:"data-key",placeholder:"data_key",value:i,onChange:w=>l(w.target.value),"data-testid":"input-data-key",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier for this column (auto-generated from name)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"column-type",children:"Column Type"}),s.jsxs(Ds,{value:c,onValueChange:d,children:[s.jsx(Xr,{"data-testid":"select-column-type",children:s.jsx(Ps,{placeholder:"Select column type"})}),s.jsx(Jr,{children:x.map(w=>s.jsx(vt,{value:w.value,children:w.label},w.value))})]})]}),c==="select"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"options",children:"Select Options"}),s.jsx(sa,{id:"options",placeholder:`Enter options (one per line)
Option 1
Option 2
Option 3`,value:p,onChange:w=>u(w.target.value),"data-testid":"textarea-options",rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each option on a new line"})]}),c==="currency"&&s.jsx("div",{className:"p-3 bg-muted rounded-md",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" Currency columns will display values in Malaysian Ringgit (MYR) format"})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(A,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:m,"data-testid":"button-cancel-column",children:"Cancel"}),s.jsx(A,{type:"submit",disabled:m,"data-testid":"button-create-column",children:m?"Creating...":"Create Column"})]})]})]})]})}const Ch=Eg,Sh=Rg,BN=jd,UN=Dg,Eh=h.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(yd,{ref:a,className:J("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(Gn,{className:"ml-auto"})]}));Eh.displayName=yd.displayName;const Rh=h.forwardRef(({className:e,...t},r)=>s.jsx(wd,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Rh.displayName=wd.displayName;const nl=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(jd,{children:s.jsx(kd,{ref:n,sideOffset:t,className:J("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));nl.displayName=kd.displayName;const xt=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Nd,{ref:n,className:J("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));xt.displayName=Nd.displayName;const GN=h.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Cd,{ref:a,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Sd,{children:s.jsx(Pr,{className:"h-4 w-4"})})}),t]}));GN.displayName=Cd.displayName;const VN=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ed,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Sd,{children:s.jsx(Au,{className:"h-2 w-2 fill-current"})})}),t]}));VN.displayName=Ed.displayName;const qN=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Rd,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));qN.displayName=Rd.displayName;const $n=h.forwardRef(({className:e,...t},r)=>s.jsx(Dd,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));$n.displayName=Dd.displayName;function WN({editMode:e,onEditModeRequest:t,onShowCustomization:r,onAddRow:n,onSaveData:a,onGenerateTng:o,onAddColumn:i,onOptimizeRoute:l,onCalculateTolls:c,onSaveLayout:d,onSavedLinks:p,onShowTutorial:u,isAuthenticated:m,theme:f,onToggleTheme:b}){const[x,g]=h.useState(new Date),[,v]=li();return h.useEffect(()=>{const y=setInterval(()=>{g(new Date)},1e3);return()=>clearInterval(y)},[]),s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col gap-0 leading-tight",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 leading-none",style:{fontSize:"12px"},children:e?"Edit Mode":"Route Management"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 leading-none my-0.5",style:{fontSize:"9px"},children:"All in one data informations"})]})]})}),s.jsxs(Ch,{children:[s.jsx(Sh,{asChild:!0,children:s.jsxs(A,{variant:"outline",size:"sm",className:"btn-glass w-8 h-8 md:w-auto md:h-9 p-0 md:px-3 pagination-button group transition-all duration-300 ease-out hover:shadow-lg hover:shadow-blue-500/20 data-[state=open]:shadow-lg data-[state=open]:shadow-blue-500/30","data-testid":"button-main-menu",title:"Menu",children:[s.jsx(_b,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 transition-all duration-300"}),s.jsx("span",{className:"hidden md:inline ml-2 text-xs transition-all duration-300",children:"Menu"})]})}),s.jsxs(nl,{align:"end",className:"w-56 bg-white/70 dark:bg-black/70 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-2xl",children:[s.jsxs(UN,{children:[s.jsxs(Eh,{className:"cursor-pointer","data-testid":"menu-edit-page",children:[s.jsx(Hb,{className:"w-4 h-4 mr-2 text-indigo-500 dark:text-indigo-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"Vm Route"})]}),s.jsx(BN,{children:s.jsxs(Rh,{className:"w-56 bg-white/70 dark:bg-black/70 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-2xl telegram-submenu",sideOffset:4,collisionPadding:8,children:[s.jsxs(xt,{onClick:()=>v("/share/tzqe9a"),className:"cursor-pointer","data-testid":"submenu-share-example",children:[s.jsx(zb,{className:"w-4 h-4 mr-2 text-blue-500 dark:text-blue-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"Share Link Page (Example)"})]}),s.jsxs(xt,{onClick:()=>v("/custom/8m2v27"),className:"cursor-pointer","data-testid":"submenu-custom-example",children:[s.jsx(Mu,{className:"w-4 h-4 mr-2 text-green-500 dark:text-green-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"Custom Page (Example)"})]}),s.jsx($n,{className:"bg-gray-200/50 dark:bg-gray-700/50"}),s.jsxs(xt,{onClick:()=>v("/custom-tables"),className:"cursor-pointer","data-testid":"submenu-custom-list",children:[s.jsx(_n,{className:"w-4 h-4 mr-2 text-purple-500 dark:text-purple-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"All Custom Tables"})]}),s.jsxs(xt,{onClick:p,className:"cursor-pointer","data-testid":"submenu-saved-links",children:[s.jsx(Ru,{className:"w-4 h-4 mr-2 text-amber-500 dark:text-amber-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"All Saved Links"})]})]})})]}),s.jsx(xt,{onClick:b,className:"cursor-pointer","data-testid":"menu-toggle-theme",children:f==="dark"?s.jsxs(s.Fragment,{children:[s.jsx(Zb,{className:"w-4 h-4 mr-2 text-yellow-500"}),s.jsx("span",{style:{fontSize:"10px"},children:"Light Mode"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Vb,{className:"w-4 h-4 mr-2 text-blue-500"}),s.jsx("span",{style:{fontSize:"10px"},children:"Dark Mode"})]})}),s.jsxs(xt,{onClick:()=>v("/help"),className:"cursor-pointer","data-testid":"menu-help-guide",children:[s.jsx(Eu,{className:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"User Guide"})]}),s.jsx($n,{className:"bg-gray-200/50 dark:bg-gray-700/50"}),e?s.jsxs(s.Fragment,{children:[s.jsxs(xt,{onClick:n,className:"cursor-pointer","data-testid":"menu-add-row",children:[s.jsx(Xb,{className:"w-4 h-4 mr-2"}),s.jsx("span",{style:{fontSize:"10px"},children:"Add Row"})]}),i&&s.jsxs(xt,{onClick:()=>{const y=document.querySelector('[data-testid="button-add-column"]');y&&y.click()},className:"cursor-pointer","data-testid":"menu-add-column",children:[s.jsx(Ar,{className:"w-4 h-4 mr-2"}),s.jsx("span",{style:{fontSize:"10px"},children:"Add Column"})]}),s.jsx($n,{className:"bg-gray-200/50 dark:bg-gray-700/50"}),s.jsxs(xt,{onClick:t,className:"cursor-pointer text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400","data-testid":"menu-exit-edit",children:[s.jsx(Eb,{className:"w-4 h-4 mr-2"}),s.jsx("span",{style:{fontSize:"10px"},children:"Exit Edit Mode"})]})]}):s.jsxs(xt,{onClick:t,className:"cursor-pointer","data-testid":"menu-enter-edit",children:[s.jsx(Jb,{className:"w-4 h-4 mr-2 text-red-900 dark:text-red-400"}),s.jsx("span",{style:{fontSize:"10px"},children:"Edit Mode"})]})]})]}),e&&i&&s.jsx("div",{className:"hidden",children:s.jsx($N,{onCreateColumn:i,disabled:!m})})]})})})}function HN({open:e,onOpenChange:t,rows:r,selectedRowIds:n}){const[a,o]=h.useState("nearest_neighbor"),[i,l]=h.useState(!1),[c,d]=h.useState(null),{toast:p}=Rt(),u=_s(),m=Ae({mutationFn:async()=>{const j={...n&&n.length>0?{rowIds:n}:{},algorithm:a,prioritizeDelivery:i,vehicleSpecs:{type:"lorry refrigerator 1 ton",fuelType:"diesel",tollClass:1}};return await(await Be("POST","/api/optimize-route",j)).json()},onSuccess:j=>{if(!j||!Array.isArray(j.optimizedOrder)||j.optimizedOrder.length===0){p({title:"Invalid Response",description:"The optimization response was invalid. Please try again.",variant:"destructive"});return}d(j)},onError:j=>{p({title:"Optimization Failed",description:j.message||"Failed to optimize route. Please try again.",variant:"destructive"})}}),f=Ae({mutationFn:async()=>{if(!c)return;const j=new Set(c.optimizedOrder),k=r.filter(I=>!j.has(I.id)).sort((I,T)=>I.sortOrder-T.sortOrder).map(I=>I.id),R=[...c.optimizedOrder,...k];return await(await Be("POST","/api/table-rows/reorder",{rowIds:R})).json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/table-rows"]}),p({title:"Route Applied",description:"The optimized route has been applied successfully!"}),g()},onError:j=>{p({title:"Failed to Apply Route",description:j.message||"Failed to apply the optimized route. Please try again.",variant:"destructive"})}}),b=()=>{d(null),m.mutate()},x=()=>{f.mutate()},g=()=>{d(null),t(!1)},v=j=>{switch(j){case"nearest_neighbor":return"Fast and efficient. Best for most routes. Finds nearby stops first.";case"genetic":return"AI-powered evolution. Best for complex routes with many stops.";case"simulated_annealing":return"Balanced approach. Good for medium-sized routes with obstacles.";default:return""}},w=(n&&n.length>0?r.filter(j=>n.includes(j.id)&&j.sortOrder!==-1):r.filter(j=>j.sortOrder!==-1)).filter(j=>j.latitude&&j.longitude&&parseFloat(j.latitude)!==0&&parseFloat(j.longitude)!==0);return s.jsx(Ue,{open:e,onOpenChange:t,children:s.jsxs(_e,{className:"max-w-2m max-h-[90vh] overflow-hidden flex flex-col bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20 transition-smooth","data-testid":"modal-route-optimization",children:[s.jsxs(Fe,{className:"flex-shrink-0",children:[s.jsxs(ze,{className:"text-1m font-semibold flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Vn,{className:"w-6 h-6"}),"AI Route Optimization"]}),s.jsx(Qe,{className:"text-base",children:"Optimize your delivery route to save time, fuel, and distance using advanced AI algorithms."})]}),s.jsx("div",{className:"overflow-y-auto flex-1 -mx-6 px-6",children:c?s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-950/30 dark:to-blue-950/30 p-6 rounded-lg border-2 border-green-500/30 dark:border-green-400/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ro,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),s.jsx("h3",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:"Optimization Complete!"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-distance-saved",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ex,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Distance"})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["-",c.distanceSaved.toFixed(1)," km"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.optimizationFactors.distanceReduction.toFixed(1),"% reduction"]})]}),s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-time-saved",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cb,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Time"})]}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[c.timeSaved.toFixed(0)," min"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"saved per trip"})]}),s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-fuel-saved",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Rb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Fuel"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[c.fuelSaved.toFixed(2)," L"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"less consumption"})]}),s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-optimized-distance",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"New Total"})]}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[c.optimizedDistance.toFixed(1)," km"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["from ",c.originalDistance.toFixed(1)," km"]})]})]})]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(qa,{className:"w-4 h-4"}),"Algorithm Used"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.algorithm==="nearest_neighbor"&&"Nearest Neighbor with 2-Opt optimization",c.algorithm==="genetic"&&"Genetic Algorithm with population-based evolution",c.algorithm==="simulated_annealing"&&"Simulated Annealing with probabilistic search"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(A,{onClick:x,disabled:f.isPending,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg","data-testid":"button-apply-optimization",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Do,{className:"w-4 h-4 mr-2 animate-spin"}),"Applying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Apply Optimized Route"]})}),s.jsx(A,{variant:"outline",onClick:g,disabled:f.isPending,"data-testid":"button-close",children:"Close"})]})]}):s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qa,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:[w.length," stops ready to optimize"]}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n&&n.length>0?`Optimizing ${w.length} selected locations with valid coordinates`:`Optimizing all ${w.length} locations with valid coordinates`})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-base font-semibold mb-3 block",children:"Choose Algorithm"}),s.jsxs(cs,{value:a,onValueChange:j=>o(j),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors","data-testid":"radio-algorithm-nearest-neighbor",children:[s.jsx(Lt,{value:"nearest_neighbor",id:"nearest_neighbor"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{htmlFor:"nearest_neighbor",className:"font-medium cursor-pointer",children:"Nearest Neighbor (Recommended)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v("nearest_neighbor")})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors","data-testid":"radio-algorithm-genetic",children:[s.jsx(Lt,{value:"genetic",id:"genetic"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{htmlFor:"genetic",className:"font-medium cursor-pointer",children:"Genetic Algorithm (Advanced)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v("genetic")})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors","data-testid":"radio-algorithm-simulated-annealing",children:[s.jsx(Lt,{value:"simulated_annealing",id:"simulated_annealing"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{htmlFor:"simulated_annealing",className:"font-medium cursor-pointer",children:"Simulated Annealing"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v("simulated_annealing")})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{htmlFor:"prioritize-delivery",className:"font-medium cursor-pointer",children:"Prioritize Delivery Grouping"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Group locations with the same delivery type together"})]}),s.jsx(sl,{id:"prioritize-delivery",checked:i,onCheckedChange:l,"data-testid":"switch-prioritize-delivery"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(A,{onClick:b,disabled:m.isPending||w.length<2,variant:"outline",className:"flex-1",size:"lg","data-testid":"button-optimize",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Do,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(qa,{className:"w-4 h-4 mr-2"}),"Optimize Route"]})}),s.jsx(A,{variant:"outline",onClick:g,disabled:m.isPending,className:"border-red-600 text-red-600 hover:bg-red-50 dark:border-red-500 dark:text-red-500 dark:hover:bg-red-950/30","data-testid":"button-cancel",children:"Cancel"})]})]})})]})})}function KN({open:e,onOpenChange:t,tableState:r}){const[n,a]=h.useState(""),[o,i]=h.useState(""),[l,c]=h.useState(!1),[d,p]=h.useState(!1),[u,m]=h.useState(!1),[f,b]=h.useState(!1),[x,g]=h.useState(""),{toast:v}=Rt(),y=_s(),w=async()=>{p(!0);try{const S=Math.random().toString(36).substring(2,8);if(!(await Be("POST","/api/share-table",{shareId:S,tableState:r,remark:""})).ok)throw new Error("Failed to create share link");const T=`${window.location.origin}/share/${S}`;a(T),i(S),v({title:"Share link created",description:"Your table view has been saved and can now be shared."})}catch(S){console.error("Error generating share link:",S),v({title:"Error",description:"Failed to create share link. Please try again.",variant:"destructive"})}finally{p(!1)}},j=async()=>{b(!0);try{if(!(await Be("PUT",`/api/share-table/${o}/remark`,{remark:x.trim()})).ok)throw new Error("Failed to update share link remark");if(!(await Be("POST","/api/saved-share-links",{shareId:o,url:n,remark:x.trim()})).ok)throw new Error("Failed to save share link");m(!0),y.invalidateQueries({queryKey:["/api/saved-share-links"]}),v({title:"Link saved!",description:"Share link has been added to your saved links."})}catch(S){console.error("Error saving share link:",S),v({title:"Error",description:"Failed to save share link. Please try again.",variant:"destructive"})}finally{b(!1)}},k=async()=>{try{await navigator.clipboard.writeText(n),c(!0),v({title:"Copied!",description:"Share link copied to clipboard."}),setTimeout(()=>c(!1),2e3)}catch(S){console.error("Error copying to clipboard:",S),v({title:"Error",description:"Failed to copy to clipboard.",variant:"destructive"})}},R=S=>{S||(a(""),i(""),c(!1),m(!1),g("")),t(S)};return s.jsx(Ue,{open:e,onOpenChange:R,children:s.jsxs(_e,{className:"w-[90vw] max-w-md sm:max-w-lg animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 duration-300 transition-all bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",style:{maxHeight:"min(80vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Fe,{className:"relative z-10",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(ze,{className:"text-sm font-semibold",children:"Share Table View"}),s.jsx(Qe,{className:"text-sm",children:"Create a shareable link for the current table state including filters, sorting, and visible columns."})]}),s.jsx("div",{className:"space-y-4 py-4 relative z-10",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:n?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(De,{value:n,readOnly:!0,className:"flex-1 bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent text-sm","data-testid":"input-share-url"}),s.jsx(A,{onClick:k,size:"sm",variant:"outline",className:"shrink-0 bg-transparent border-transparent hover:bg-blue-500/10 backdrop-blur-sm","data-testid":"button-copy-share-link",title:"Copy to clipboard",children:l?s.jsx(Pr,{className:"h-4 w-4 text-green-500"}):s.jsx(Iu,{className:"h-4 w-4"})}),s.jsx(A,{onClick:j,size:"sm",variant:u?"default":"outline",className:"shrink-0 bg-transparent border-transparent hover:bg-blue-500/10 backdrop-blur-sm",disabled:f||u,"data-testid":"button-save-share-link",title:u?"Link saved":"Save link",children:u?s.jsx(Pr,{className:"h-4 w-4 text-green-500"}):s.jsx(Ru,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block text-gray-700 dark:text-gray-300",children:"Remark (optional)"}),s.jsx(De,{value:x,onChange:S=>g(S.target.value),placeholder:"e.g., Weekend delivery route, KL 3 only...",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent text-sm","data-testid":"input-share-remark"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Anyone with this link can view your table with the current filters and settings."})]}):s.jsx(A,{onClick:w,disabled:d,className:"w-full bg-transparent text-blue-500 hover:bg-blue-500/10 border-transparent backdrop-blur-sm text-sm","data-testid":"button-generate-share-link",children:d?"Generating...":"Generate Share Link"})}),s.jsx(Ye,{className:"relative z-10 sm:justify-center",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:s.jsx(A,{variant:"outline",onClick:()=>R(!1),className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10 backdrop-blur-sm text-sm w-full sm:w-auto","data-testid":"button-cancel-share",children:"Cancel"})})]})})}var Dh="AlertDialog",[QN,DC]=er(Dh,[Pd]),cr=Pd(),Ph=e=>{const{__scopeAlertDialog:t,...r}=e,n=cr(t);return s.jsx(hd,{...n,...r,modal:!0})};Ph.displayName=Dh;var YN="AlertDialogTrigger",XN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=cr(r);return s.jsx(fd,{...a,...n,ref:t})});XN.displayName=YN;var JN="AlertDialogPortal",Ah=e=>{const{__scopeAlertDialog:t,...r}=e,n=cr(t);return s.jsx(gd,{...n,...r})};Ah.displayName=JN;var ZN="AlertDialogOverlay",Ih=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=cr(r);return s.jsx(Jo,{...a,...n,ref:t})});Ih.displayName=ZN;var ds="AlertDialogContent",[e2,t2]=QN(ds),r2=od("AlertDialogContent"),Th=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=cr(r),i=h.useRef(null),l=ot(t,i),c=h.useRef(null);return s.jsx(Pg,{contentName:ds,titleName:Oh,docsSlug:"alert-dialog",children:s.jsx(e2,{scope:r,cancelRef:c,children:s.jsxs(Zo,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ke(a.onOpenAutoFocus,d=>{var p;d.preventDefault(),(p=c.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(r2,{children:n}),s.jsx(n2,{contentRef:i})]})})})});Th.displayName=ds;var Oh="AlertDialogTitle",Lh=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=cr(r);return s.jsx(ei,{...a,...n,ref:t})});Lh.displayName=Oh;var Mh="AlertDialogDescription",_h=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=cr(r);return s.jsx(ti,{...a,...n,ref:t})});_h.displayName=Mh;var s2="AlertDialogAction",Fh=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=cr(r);return s.jsx(ri,{...a,...n,ref:t})});Fh.displayName=s2;var zh="AlertDialogCancel",$h=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=t2(zh,r),o=cr(r),i=ot(t,a);return s.jsx(ri,{...o,...n,ref:i})});$h.displayName=zh;var n2=({contentRef:e})=>{const t=`\`${ds}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ds}\` by passing a \`${Mh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ds}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},a2=Ph,o2=Ah,Bh=Ih,Uh=Th,Gh=Fh,Vh=$h,qh=Lh,Wh=_h;const i2=a2,l2=o2,Hh=h.forwardRef(({className:e,...t},r)=>s.jsx(Bh,{className:J("fixed inset-0 z-50 bg-black/60 dark:bg-black/85 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Hh.displayName=Bh.displayName;const Kh=h.forwardRef(({className:e,...t},r)=>s.jsxs(l2,{children:[s.jsx(Hh,{}),s.jsx(Uh,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Kh.displayName=Uh.displayName;const Qh=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});Qh.displayName="AlertDialogHeader";const Yh=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yh.displayName="AlertDialogFooter";const Xh=h.forwardRef(({className:e,...t},r)=>s.jsx(qh,{ref:r,className:J("text-lg font-semibold",e),...t}));Xh.displayName=qh.displayName;const Jh=h.forwardRef(({className:e,...t},r)=>s.jsx(Wh,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Jh.displayName=Wh.displayName;const Zh=h.forwardRef(({className:e,...t},r)=>s.jsx(Gh,{ref:r,className:J(qi(),e),...t}));Zh.displayName=Gh.displayName;const ef=h.forwardRef(({className:e,...t},r)=>s.jsx(Vh,{ref:r,className:J(qi({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ef.displayName=Vh.displayName;function c2({open:e,onOpenChange:t}){const[r,n]=h.useState(!1),[a,o]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState(""),{toast:p}=Rt(),{data:u=[],isLoading:m}=Wt({queryKey:["/api/saved-share-links"],enabled:e}),f=Ae({mutationFn:async k=>{const R=await Be("DELETE",`/api/saved-share-links/${k}`);if(!R.ok)throw new Error("Failed to delete saved link");return R.json()},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/saved-share-links"]}),n(!1),l(null),p({title:"Link deleted",description:"The saved link has been removed."})},onError:()=>{p({title:"Error",description:"Failed to delete saved link. Please try again.",variant:"destructive"})}}),b=Ae({mutationFn:async({id:k,remark:R})=>{const S=await Be("PATCH",`/api/saved-share-links/${k}/remark`,{remark:R});if(!S.ok)throw new Error("Failed to update remark");return S.json()},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/saved-share-links"]}),o(!1),l(null),d(""),p({title:"Remark updated",description:"The link remark has been updated."})},onError:()=>{p({title:"Error",description:"Failed to update remark. Please try again.",variant:"destructive"})}}),x=k=>{l(k),n(!0)},g=k=>{l(k),d(k.remark),o(!0)},v=()=>{i&&f.mutate(i.id)},y=()=>{i&&b.mutate({id:i.id,remark:c})},w=async k=>{try{await navigator.clipboard.writeText(k),p({title:"Copied!",description:"Link copied to clipboard."})}catch{p({title:"Error",description:"Failed to copy to clipboard.",variant:"destructive"})}},j=k=>(typeof k=="string"?new Date(k):k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{open:e,onOpenChange:t,children:s.jsxs(_e,{className:"sm:max-w-[600px] animate-in zoom-in-95 duration-300 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/70 via-white/50 to-white/60 dark:from-black/50 dark:via-black/30 dark:to-black/40 border-0 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)]",style:{backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/40 dark:via-white/20 to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-blue-500/5 via-transparent to-purple-500/5 dark:from-blue-400/10 dark:via-transparent dark:to-purple-400/10"})]}),s.jsxs(Fe,{children:[s.jsx(ze,{children:"Saved Share Links"}),s.jsx(Qe,{children:"Manage your saved share links. Add remarks to organize them better."})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-2",children:m?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading saved links..."})}):u.length===0?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No saved links yet"})}):s.jsx("div",{className:"space-y-3",children:u.map(k=>s.jsxs("div",{className:"p-4 rounded-2xl border border-white/20 dark:border-white/10 bg-white/20 dark:bg-black/20 backdrop-blur-xl hover:bg-white/30 dark:hover:bg-black/30 transition-all duration-300 hover:scale-[1.02] animate-in zoom-in-95","data-testid":`saved-link-${k.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:k.remark||"Untitled Link"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created: ",j(k.createdAt)]})]}),s.jsxs(Ch,{children:[s.jsx(Sh,{asChild:!0,children:s.jsx(A,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 shrink-0 transition-all duration-300 hover:scale-110 active:scale-95","data-testid":`button-actions-${k.id}`,title:"Actions",children:s.jsx(Db,{className:"h-4 w-4"})})}),s.jsxs(nl,{align:"end",className:"w-44",children:[s.jsxs(xt,{onClick:()=>w(k.url),className:"cursor-pointer transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-copy-${k.id}`,children:[s.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Copy Link"]}),s.jsxs(xt,{onClick:()=>window.open(k.url,"_blank"),className:"cursor-pointer transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-open-${k.id}`,children:[s.jsx(ar,{className:"h-4 w-4 mr-2"}),"Open Link"]}),s.jsxs(xt,{onClick:()=>g(k),className:"cursor-pointer transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-edit-${k.id}`,children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Edit Remark"]}),s.jsxs(xt,{onClick:()=>x(k),className:"cursor-pointer text-destructive focus:text-destructive transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-delete-${k.id}`,children:[s.jsx(os,{className:"h-4 w-4 mr-2"}),"Delete Link"]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(De,{value:k.url,readOnly:!0,className:"flex-1 h-8 text-xs","data-testid":`input-url-${k.id}`})})]},k.id))})})]})}),s.jsx(i2,{open:r,onOpenChange:n,children:s.jsxs(Kh,{className:"bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/70 via-white/50 to-white/60 dark:from-black/50 dark:via-black/30 dark:to-black/40 border-0 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)]",style:{backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/40 dark:via-white/20 to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-red-500/5 via-transparent to-orange-500/5 dark:from-red-400/10 dark:via-transparent dark:to-orange-400/10"})]}),s.jsxs(Qh,{children:[s.jsx(Xh,{children:"Delete Saved Link"}),s.jsx(Jh,{children:"Are you sure you want to delete this saved link? This action cannot be undone."})]}),s.jsxs(Yh,{children:[s.jsx(ef,{children:"Cancel"}),s.jsx(Zh,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:f.isPending,children:f.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(Ue,{open:a,onOpenChange:o,children:s.jsxs(_e,{className:"sm:max-w-[425px] bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/70 via-white/50 to-white/60 dark:from-black/50 dark:via-black/30 dark:to-black/40 border-0 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)]",style:{backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/40 dark:via-white/20 to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-green-500/5 via-transparent to-blue-500/5 dark:from-green-400/10 dark:via-transparent dark:to-blue-400/10"})]}),s.jsxs(Fe,{children:[s.jsx(ze,{children:"Edit Link Remark"}),s.jsx(Qe,{children:"Add a note to help you remember what this link is for."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(be,{htmlFor:"remark",children:"Remark"}),s.jsx(De,{id:"remark",value:c,onChange:k=>d(k.target.value),placeholder:"e.g., Weekly sales report - Jan 2024",className:"mt-2","data-testid":"input-remark"})]}),s.jsxs(Ye,{children:[s.jsx(A,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(A,{onClick:y,disabled:b.isPending,"data-testid":"button-save-remark",children:b.isPending?"Saving...":"Save"})]})]})})]})}const d2=[{id:"welcome",title:" Welcome to Route Manager",description:"This interactive guide will show you how to manage your delivery routes efficiently. Navigate using Next/Previous buttons, or skip anytime. You can restart this tutorial from the help button in the corner.",position:"center",mode:"both"},{id:"theme",title:" Theme Toggle",description:"Switch between light and dark modes for comfortable viewing. The dark mode features a premium deep black design with optimized contrast.",targetSelector:'[data-testid="button-toggle-theme"]',position:"bottom",mode:"both"},{id:"view-search",title:" Smart Search & Filtering",description:"Search across all locations and use filters to find specific routes, deliveries, or destinations instantly. Combine filters for precise results.",targetSelector:'[data-testid="search-input"]',position:"top",mode:"view"},{id:"view-customize",title:" Customize Table View",description:"Click to show/hide columns and drag to reorder them. Your custom layout is automatically saved when you exit edit mode and persists across sessions.",targetSelector:'[data-testid="button-show"]',position:"top",mode:"view"},{id:"view-share",title:" Share Table State",description:"Generate a shareable URL that includes your current filters, search terms, and column settings. Perfect for team collaboration.",targetSelector:'[data-testid="button-share-table"]',position:"bottom",mode:"view"},{id:"view-links",title:" Saved Links",description:"Access your previously saved share links from the navigation bar. View, manage, and quickly access all your saved table states.",targetSelector:'[data-testid="button-saved-links"]',position:"bottom",mode:"view"},{id:"view-map",title:" View Map",description:"Click on any row's map button to see the location on an interactive map with route visualization and fullscreen support.",targetSelector:".table-container",position:"top",mode:"view"},{id:"view-edit-mode",title:" Switch to Edit Mode",description:"Enter edit mode to add locations, calculate toll prices, modify data, and manage your routes. All changes can be saved.",targetSelector:'[data-testid="button-edit-mode"]',position:"bottom",mode:"view"},{id:"edit-add-row",title:" Add New Location",description:"Add new route stops by clicking here. Fill in location details, coordinates, delivery info, and upload images if needed.",targetSelector:'[data-testid="button-add-row"]',position:"bottom",mode:"edit"},{id:"edit-add-column",title:" Add Custom Column",description:"Create custom columns to track additional data points specific to your operations and workflow needs.",targetSelector:'[data-testid="button-add-column"]',position:"bottom",mode:"edit"},{id:"edit-tolls",title:" Auto-Calculate Tolls",description:"Use Google Maps Routes API to automatically calculate toll prices and distances for lorry vehicles. Supports class 1 toll pricing with traffic-aware routing.",targetSelector:'[data-testid="button-calculate-tolls"]',position:"bottom",mode:"edit"},{id:"edit-optimize",title:" Route Optimization",description:"Use AI algorithms to optimize your delivery route for minimum distance, time, and fuel consumption. Choose from multiple optimization strategies.",targetSelector:'[data-testid="button-optimize-route"]',position:"bottom",mode:"edit"},{id:"edit-save",title:" Save All Changes",description:"Save your modifications to persist all edits. Changes include new rows, updated data, column modifications, and reordering.",targetSelector:'[data-testid="button-save-data"]',position:"bottom",mode:"edit"},{id:"edit-exit",title:" Return to View Mode",description:"Exit edit mode to return to the read-only view. Your column layout preferences are automatically saved when you exit. Remember to save data changes before exiting to avoid data loss.",targetSelector:'[data-testid="button-edit-mode"]',position:"bottom",mode:"edit"},{id:"complete",title:" Tutorial Complete!",description:"You're now ready to manage routes like a pro! Access this guide anytime via the help button. Happy routing!",position:"center",mode:"both"}];function u2({editMode:e=!1,onClose:t}){const[r,n]=h.useState(!0),[a,o]=h.useState(0);h.useState(!0);const i=d2.filter(y=>y.mode==="both"||y.mode===(e?"edit":"view"));h.useEffect(()=>{n(!0),o(0)},[]),h.useEffect(()=>{r&&a>0&&o(0)},[e]);const l=()=>{a<i.length-1?o(a+1):d()},c=()=>{a>0&&o(a-1)},d=()=>{localStorage.setItem("tutorial_completed","true"),n(!1),o(0),t==null||t()},p=()=>{localStorage.setItem("tutorial_completed","true"),n(!1),o(0),t==null||t()},u=i[a];if(h.useEffect(()=>{if(!r||!u.targetSelector)return;const y=document.querySelector(u.targetSelector);if(y)y.scrollIntoView({behavior:"smooth",block:"center"});else{const w=setTimeout(()=>{a<i.length-1&&o(a+1)},1e3);return()=>clearTimeout(w)}},[a,r,u.targetSelector]),!r)return null;if(u.position==="center")return s.jsx(Ue,{open:!0,onOpenChange:()=>{},children:s.jsxs(_e,{className:"max-w-lg bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/30 dark:border-blue-400/30","aria-describedby":"tutorial-description",children:[s.jsxs(Fe,{children:[s.jsx(ze,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:u.title}),s.jsx(Qe,{id:"tutorial-description",className:"text-base pt-3 leading-relaxed",children:u.description})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Step ",a+1," of ",i.length]}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:i.length}).map((y,w)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all ${w===a?"w-6 bg-gradient-to-r from-blue-600 to-purple-600":"w-1.5 bg-muted"}`},w))})]}),s.jsxs("div",{className:"flex gap-2",children:[a>0&&s.jsxs(A,{variant:"outline",size:"sm",onClick:c,"data-testid":"button-tutorial-previous",className:"gap-1",children:[s.jsx(Bl,{className:"w-4 h-4"}),"Previous"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:p,"data-testid":"button-tutorial-skip",className:"text-muted-foreground hover:text-foreground",children:"Skip"}),s.jsx(A,{size:"sm",onClick:l,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white gap-1","data-testid":"button-tutorial-next",children:a===i.length-1?s.jsxs(s.Fragment,{children:["Finish",s.jsx(Ro,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(Gn,{className:"w-4 h-4"})]})})]})]})]})});const m=u.targetSelector?document.querySelector(u.targetSelector):null,f=m==null?void 0:m.getBoundingClientRect();if(!f)return null;const b={position:"fixed",zIndex:60},x=window.innerHeight-f.bottom,g=f.top,v=320;switch(u.position){case"bottom":x<250&&g>250?b.bottom=`${window.innerHeight-f.top+12}px`:b.top=`${f.bottom+12}px`;let y=f.left+f.width/2-v/2;y+v>window.innerWidth-20&&(y=window.innerWidth-v-20),y<20&&(y=20),b.left=`${y}px`,b.transform="none";break;case"top":b.bottom=`${window.innerHeight-f.top+12}px`;let j=f.left+f.width/2-v/2;j+v>window.innerWidth-20&&(j=window.innerWidth-v-20),j<20&&(j=20),b.left=`${j}px`,b.transform="none";break;case"left":b.top=`${f.top+f.height/2}px`,b.right=`${window.innerWidth-f.left+12}px`,b.transform="translateY(-50%)";break;case"right":b.top=`${f.top+f.height/2}px`,b.left=`${f.right+12}px`,b.transform="translateY(-50%)";break}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed z-[9999] pointer-events-none rounded-lg ring-4 ring-blue-500/60 dark:ring-blue-400/60 animate-pulse",style:{top:f.top-6,left:f.left-6,width:f.width+12,height:f.height+12,boxShadow:"0 0 20px rgba(59, 130, 246, 0.5)"}}),s.jsxs("div",{style:b,className:"fixed z-[10000] bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/30 dark:border-blue-400/30 rounded-xl p-4 shadow-2xl w-[320px] backdrop-blur-xl animate-in fade-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent pr-2",children:u.title}),s.jsx(A,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:p,"data-testid":"button-tutorial-close",children:s.jsx(yt,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:u.description}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:[a+1,"/",i.length]}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(i.length,8)}).map((y,w)=>s.jsx("div",{className:`h-1 rounded-full transition-all ${w===a?"w-4 bg-gradient-to-r from-blue-600 to-purple-600":"w-1 bg-muted"}`},w))})]}),s.jsxs("div",{className:"flex gap-2",children:[a>0&&s.jsx(A,{variant:"outline",size:"sm",onClick:c,"data-testid":"button-tutorial-previous",className:"h-8 px-3",children:s.jsx(Bl,{className:"w-4 h-4"})}),s.jsxs(A,{size:"sm",onClick:l,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-8 px-3 gap-1","data-testid":"button-tutorial-next",children:[a===i.length-1?"Finish":"Next",a!==i.length-1&&s.jsx(Gn,{className:"w-4 h-4"})]})]})]})]})]})}function kn({editMode:e=!1}){new Date().getFullYear();const[t,r]=h.useState(!1),[n,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[d,p]=h.useState("App v1.0.0"),[u,m]=h.useState(""),{toast:f}=Rt(),{data:b}=Wt({queryKey:["/api/global-settings","footerCompanyName"],queryFn:async()=>{const j=await fetch("/api/global-settings/footerCompanyName");if(!j.ok&&j.status!==404)throw new Error("Failed to fetch company name");return j.json()}}),{data:x}=Wt({queryKey:["/api/global-settings","footerCompanyUrl"],queryFn:async()=>{const j=await fetch("/api/global-settings/footerCompanyUrl");if(!j.ok&&j.status!==404)throw new Error("Failed to fetch company URL");return j.json()}}),g=Ae({mutationFn:async j=>await(await Be("POST","/api/global-settings",{key:"footerCompanyName",value:j})).json()}),v=Ae({mutationFn:async j=>await(await Be("POST","/api/global-settings",{key:"footerCompanyUrl",value:j})).json()});h.useEffect(()=>{b!=null&&b.value&&p(b.value)},[b]),h.useEffect(()=>{x!=null&&x.value&&m(x.value)},[x]),h.useEffect(()=>{const j=setTimeout(()=>r(!0),100),k=setTimeout(()=>a(!0),300);return()=>{clearTimeout(j),clearTimeout(k)}},[]);const y=async()=>{try{await g.mutateAsync(d),await v.mutateAsync(u),ir.invalidateQueries({queryKey:["/api/global-settings","footerCompanyName"]}),ir.invalidateQueries({queryKey:["/api/global-settings","footerCompanyUrl"]}),i(!1),f({title:"Success",description:"Footer updated successfully!"})}catch(j){f({title:"Error",description:j instanceof Error?j.message:"Failed to update footer",variant:"destructive"})}},w=()=>{u&&(window.open(u,"_blank","noopener,noreferrer"),c(!1))};return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:`z-40 w-full border-t-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20 transition-all duration-500 ease-out ${t?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:`flex items-center justify-center gap-2 transition-all duration-700 ease-out text-[11px] py-3 ${n?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[s.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Delivering Convenience"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500/60 dark:bg-blue-400/60 rounded-full"}),s.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"One Route at a Time"})]})})}),s.jsx(Ue,{open:l,onOpenChange:c,children:s.jsxs(_e,{className:"sm:max-w-md",children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Visit Website"]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"You are about to visit:"}),s.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Dn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 break-all",children:[s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Website URL:"}),s.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:u})]})]})}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This will open in a new browser tab."})]}),s.jsxs(Ye,{className:"sm:justify-between",children:[s.jsx(A,{variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-navigate",children:"Cancel"}),s.jsxs(A,{onClick:w,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-navigate",children:[s.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})]})}),s.jsx(Ue,{open:o,onOpenChange:i,children:s.jsxs(_e,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Edit Footer"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"company-name",children:"Company Name"}),s.jsx(De,{id:"company-name",value:d,onChange:j=>p(j.target.value),placeholder:"Enter company name","data-testid":"input-company-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"company-url",className:u?"text-blue-600 dark:text-blue-400":"",children:"Company Website URL (optional)"}),s.jsx(De,{id:"company-url",value:u,onChange:j=>m(j.target.value),placeholder:"https://example.com",className:u?"border-blue-500 dark:border-blue-400 focus:ring-blue-500":"","data-testid":"input-company-url"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3 text-slate-700 dark:text-slate-300",children:"Preview Changes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Pr,{className:"w-4 h-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rx,{className:"w-3.5 h-3.5 text-slate-500"}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Company Name:"})]}),s.jsx("div",{className:"ml-5 font-semibold text-slate-800 dark:text-slate-200",children:d||s.jsx("span",{className:"text-slate-400 italic",children:"Not set"})})]})]}),s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Pr,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${u?"text-blue-600 dark:text-blue-400":"text-slate-400"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:`w-3.5 h-3.5 ${u?"text-blue-600 dark:text-blue-400":"text-slate-500"}`}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Website URL:"})]}),s.jsx("div",{className:"ml-5",children:u?s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400 break-all",children:u}),s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" Company name will be clickable"})]}):s.jsx("span",{className:"text-slate-400 italic",children:"Not set - name will not be a link"})})]})]})]})]})]}),s.jsxs(Ye,{children:[s.jsx(A,{variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-footer",children:"Cancel"}),s.jsx(A,{onClick:y,disabled:g.isPending||v.isPending,"data-testid":"button-save-footer",children:g.isPending||v.isPending?"Saving...":"Save"})]})]})})]})}function m2(e){return Object.prototype.toString.call(e)==="[object Object]"}function _c(e){return m2(e)||Array.isArray(e)}function p2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function al(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==o?!1:r.every(i=>{const l=e[i],c=t[i];return typeof l=="function"?`${l}`==`${c}`:!_c(l)||!_c(c)?l===c:al(l,c)})}function Fc(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function h2(e,t){if(e.length!==t.length)return!1;const r=Fc(e),n=Fc(t);return r.every((a,o)=>{const i=n[o];return al(a,i)})}function ol(e){return typeof e=="number"}function Qo(e){return typeof e=="string"}function Ra(e){return typeof e=="boolean"}function zc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xe(e){return Math.abs(e)}function il(e){return Math.sign(e)}function rn(e,t){return Xe(e-t)}function f2(e,t){if(e===0||t===0||Xe(e)<=Xe(t))return 0;const r=rn(Xe(e),Xe(t));return Xe(r/e)}function g2(e){return Math.round(e*100)/100}function mn(e){return pn(e).map(Number)}function qt(e){return e[Nn(e)]}function Nn(e){return Math.max(0,e.length-1)}function ll(e,t){return t===Nn(e)}function $c(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function pn(e){return Object.keys(e)}function tf(e,t){return[e,t].reduce((r,n)=>(pn(n).forEach(a=>{const o=r[a],i=n[a],l=zc(o)&&zc(i);r[a]=l?tf(o,i):i}),r),{})}function Yo(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function b2(e,t){const r={start:n,center:a,end:o};function n(){return 0}function a(c){return o(c)/2}function o(c){return t-c}function i(c,d){return Qo(e)?r[e](c):e(t,c,d)}return{measure:i}}function hn(){let e=[];function t(a,o,i,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(o,i,l),c=()=>a.removeEventListener(o,i,l);else{const d=a;d.addListener(i),c=()=>d.removeListener(i)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function x2(e,t,r,n){const a=hn(),o=1e3/60;let i=null,l=0,c=0;function d(){a.add(e,"visibilitychange",()=>{e.hidden&&b()})}function p(){f(),a.clear()}function u(g){if(!c)return;i||(i=g,r(),r());const v=g-i;for(i=g,l+=v;l>=o;)r(),l-=o;const y=l/o;n(y),c&&(c=t.requestAnimationFrame(u))}function m(){c||(c=t.requestAnimationFrame(u))}function f(){t.cancelAnimationFrame(c),i=null,l=0,c=0}function b(){i=null,l=0}return{init:d,destroy:p,start:m,stop:f,update:r,render:n}}function v2(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",o=n?"x":"y",i=!n&&r?-1:1,l=p(),c=u();function d(b){const{height:x,width:g}=b;return n?x:g}function p(){return n?"top":r?"right":"left"}function u(){return n?"bottom":r?"left":"right"}function m(b){return b*i}return{scroll:a,cross:o,startEdge:l,endEdge:c,measureSize:d,direction:m}}function Zr(e=0,t=0){const r=Xe(e-t);function n(d){return d<e}function a(d){return d>t}function o(d){return n(d)||a(d)}function i(d){return o(d)?n(d)?e:t:d}function l(d){return r?d-r*Math.ceil((d-t)/r):d}return{length:r,max:t,min:e,constrain:i,reachedAny:o,reachedMax:a,reachedMin:n,removeOffset:l}}function rf(e,t,r){const{constrain:n}=Zr(0,e),a=e+1;let o=i(t);function i(m){return r?Xe((a+m)%a):n(m)}function l(){return o}function c(m){return o=i(m),u}function d(m){return p().set(l()+m)}function p(){return rf(e,l(),r)}const u={get:l,set:c,add:d,clone:p};return u}function y2(e,t,r,n,a,o,i,l,c,d,p,u,m,f,b,x,g,v,y){const{cross:w,direction:j}=e,k=["INPUT","SELECT","TEXTAREA"],R={passive:!1},S=hn(),I=hn(),T=Zr(50,225).constrain(f.measure(20)),F={mouse:300,touch:400},$={mouse:500,touch:600},G=b?43:25;let de=!1,B=0,Y=0,_=!1,O=!1,Z=!1,q=!1;function L(U){if(!y)return;function ae($e){(Ra(y)||y(U,$e))&&Ne($e)}const Te=t;S.add(Te,"dragstart",$e=>$e.preventDefault(),R).add(Te,"touchmove",()=>{},R).add(Te,"touchend",()=>{}).add(Te,"touchstart",ae).add(Te,"mousedown",ae).add(Te,"touchcancel",ue).add(Te,"contextmenu",ue).add(Te,"click",Ce,!0)}function V(){S.clear(),I.clear()}function C(){const U=q?r:t;I.add(U,"touchmove",Se,R).add(U,"touchend",ue).add(U,"mousemove",Se,R).add(U,"mouseup",ue)}function he(U){const ae=U.nodeName||"";return k.includes(ae)}function z(){return(b?$:F)[q?"mouse":"touch"]}function oe(U,ae){const Te=u.add(il(U)*-1),$e=p.byDistance(U,!b).distance;return b||Xe(U)<T?$e:g&&ae?$e*.5:p.byIndex(Te.get(),0).distance}function Ne(U){const ae=Yo(U,n);q=ae,Z=b&&ae&&!U.buttons&&de,de=rn(a.get(),i.get())>=2,!(ae&&U.button!==0)&&(he(U.target)||(_=!0,o.pointerDown(U),d.useFriction(0).useDuration(0),a.set(i),C(),B=o.readPoint(U),Y=o.readPoint(U,w),m.emit("pointerDown")))}function Se(U){if(!Yo(U,n)&&U.touches.length>=2)return ue(U);const Te=o.readPoint(U),$e=o.readPoint(U,w),qe=rn(Te,B),rt=rn($e,Y);if(!O&&!q&&(!U.cancelable||(O=qe>rt,!O)))return ue(U);const it=o.pointerMove(U);qe>x&&(Z=!0),d.useFriction(.3).useDuration(.75),l.start(),a.add(j(it)),U.preventDefault()}function ue(U){const Te=p.byDistance(0,!1).index!==u.get(),$e=o.pointerUp(U)*z(),qe=oe(j($e),Te),rt=f2($e,qe),it=G-10*rt,lt=v+rt/50;O=!1,_=!1,I.clear(),d.useDuration(it).useFriction(lt),c.distance(qe,!b),q=!1,m.emit("pointerUp")}function Ce(U){Z&&(U.stopPropagation(),U.preventDefault(),Z=!1)}function ge(){return _}return{init:L,destroy:V,pointerDown:ge}}function w2(e,t){let n,a;function o(u){return u.timeStamp}function i(u,m){const b=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(Yo(u,t)?u:u.touches[0])[b]}function l(u){return n=u,a=u,i(u)}function c(u){const m=i(u)-i(a),f=o(u)-o(n)>170;return a=u,f&&(n=u),m}function d(u){if(!n||!a)return 0;const m=i(a)-i(n),f=o(u)-o(n),b=o(u)-o(a)>170,x=m/f;return f&&!b&&Xe(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:i}}function j2(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:o,offsetHeight:i}=r;return{top:n,right:a+o,bottom:n+i,left:a,width:o,height:i}}return{measure:e}}function k2(e){function t(n){return e*(n/100)}return{measure:t}}function N2(e,t,r,n,a,o,i){const l=[e].concat(n);let c,d,p=[],u=!1;function m(g){return a.measureSize(i.measure(g))}function f(g){if(!o)return;d=m(e),p=n.map(m);function v(y){for(const w of y){if(u)return;const j=w.target===e,k=n.indexOf(w.target),R=j?d:p[k],S=m(j?e:n[k]);if(Xe(S-R)>=.5){g.reInit(),t.emit("resize");break}}}c=new ResizeObserver(y=>{(Ra(o)||o(g,y))&&v(y)}),r.requestAnimationFrame(()=>{l.forEach(y=>c.observe(y))})}function b(){u=!0,c&&c.disconnect()}return{init:f,destroy:b}}function C2(e,t,r,n,a,o){let i=0,l=0,c=a,d=o,p=e.get(),u=0;function m(){const R=n.get()-e.get(),S=!c;let I=0;return S?(i=0,r.set(n),e.set(n),I=R):(r.set(e),i+=R/c,i*=d,p+=i,e.add(i),I=p-u),l=il(I),u=p,k}function f(){const R=n.get()-t.get();return Xe(R)<.001}function b(){return c}function x(){return l}function g(){return i}function v(){return w(a)}function y(){return j(o)}function w(R){return c=R,k}function j(R){return d=R,k}const k={direction:x,duration:b,velocity:g,seek:m,settled:f,useBaseFriction:y,useBaseDuration:v,useFriction:j,useDuration:w};return k}function S2(e,t,r,n,a){const o=a.measure(10),i=a.measure(50),l=Zr(.1,.99);let c=!1;function d(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function p(f){if(!d())return;const b=e.reachedMin(t.get())?"min":"max",x=Xe(e[b]-t.get()),g=r.get()-t.get(),v=l.constrain(x/i);r.subtract(g*v),!f&&Xe(g)<o&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function u(f){c=!f}return{shouldConstrain:d,constrain:p,toggleActive:u}}function E2(e,t,r,n,a){const o=Zr(-t+e,0),i=u(),l=p(),c=m();function d(b,x){return rn(b,x)<=1}function p(){const b=i[0],x=qt(i),g=i.lastIndexOf(b),v=i.indexOf(x)+1;return Zr(g,v)}function u(){return r.map((b,x)=>{const{min:g,max:v}=o,y=o.constrain(b),w=!x,j=ll(r,x);return w?v:j||d(g,y)?g:d(v,y)?v:y}).map(b=>parseFloat(b.toFixed(3)))}function m(){if(t<=e+a)return[o.max];if(n==="keepSnaps")return i;const{min:b,max:x}=l;return i.slice(b,x)}return{snapsContained:c,scrollContainLimit:l}}function R2(e,t,r){const n=t[0],a=r?n-e:qt(t);return{limit:Zr(a,n)}}function D2(e,t,r,n){const o=t.min+.1,i=t.max+.1,{reachedMin:l,reachedMax:c}=Zr(o,i);function d(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function p(m){if(!d(m))return;const f=e*(m*-1);n.forEach(b=>b.add(f))}return{loop:p}}function P2(e){const{max:t,length:r}=e;function n(o){const i=o-t;return r?i/-r:0}return{get:n}}function A2(e,t,r,n,a){const{startEdge:o,endEdge:i}=e,{groupSlides:l}=a,c=u().map(t.measure),d=m(),p=f();function u(){return l(n).map(x=>qt(x)[i]-x[0][o]).map(Xe)}function m(){return n.map(x=>r[o]-x[o]).map(x=>-Xe(x))}function f(){return l(d).map(x=>x[0]).map((x,g)=>x+c[g])}return{snaps:d,snapsAligned:p}}function I2(e,t,r,n,a,o){const{groupSlides:i}=a,{min:l,max:c}=n,d=p();function p(){const m=i(o),f=!e||t==="keepSnaps";return r.length===1?[o]:f?m:m.slice(l,c).map((b,x,g)=>{const v=!x,y=ll(g,x);if(v){const w=qt(g[0])+1;return $c(w)}if(y){const w=Nn(o)-qt(g)[0]+1;return $c(w,qt(g)[0])}return b})}return{slideRegistry:d}}function T2(e,t,r,n,a){const{reachedAny:o,removeOffset:i,constrain:l}=n;function c(b){return b.concat().sort((x,g)=>Xe(x)-Xe(g))[0]}function d(b){const x=e?i(b):l(b),g=t.map((y,w)=>({diff:p(y-x,0),index:w})).sort((y,w)=>Xe(y.diff)-Xe(w.diff)),{index:v}=g[0];return{index:v,distance:x}}function p(b,x){const g=[b,b+r,b-r];if(!e)return b;if(!x)return c(g);const v=g.filter(y=>il(y)===x);return v.length?c(v):qt(g)-r}function u(b,x){const g=t[b]-a.get(),v=p(g,x);return{index:b,distance:v}}function m(b,x){const g=a.get()+b,{index:v,distance:y}=d(g),w=!e&&o(g);if(!x||w)return{index:v,distance:b};const j=t[v]-y,k=b+p(j,0);return{index:v,distance:k}}return{byDistance:m,byIndex:u,shortcut:p}}function O2(e,t,r,n,a,o,i){function l(u){const m=u.distance,f=u.index!==t.get();o.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),f&&(r.set(t.get()),t.set(u.index),i.emit("select"))}function c(u,m){const f=a.byDistance(u,m);l(f)}function d(u,m){const f=t.clone().set(u),b=a.byIndex(f.get(),m);l(b)}return{distance:c,index:d}}function L2(e,t,r,n,a,o,i,l){const c={passive:!0,capture:!0};let d=0;function p(f){if(!l)return;function b(x){if(new Date().getTime()-d>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const y=r.findIndex(w=>w.includes(x));ol(y)&&(a.useDuration(0),n.index(y,0),i.emit("slideFocus"))}o.add(document,"keydown",u,!1),t.forEach((x,g)=>{o.add(x,"focus",v=>{(Ra(l)||l(f,v))&&b(g)},c)})}function u(f){f.code==="Tab"&&(d=new Date().getTime())}return{init:p}}function Js(e){let t=e;function r(){return t}function n(c){t=i(c)}function a(c){t+=i(c)}function o(c){t-=i(c)}function i(c){return ol(c)?c:c.get()}return{get:r,set:n,add:a,subtract:o}}function sf(e,t){const r=e.scroll==="x"?i:l,n=t.style;let a=null,o=!1;function i(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(o)return;const f=g2(e.direction(m));f!==a&&(n.transform=r(f),a=f)}function d(m){o=!m}function p(){o||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:p,to:c,toggleActive:d}}function M2(e,t,r,n,a,o,i,l,c){const p=mn(a),u=mn(a).reverse(),m=v().concat(y());function f(S,I){return S.reduce((T,F)=>T-a[F],I)}function b(S,I){return S.reduce((T,F)=>f(T,I)>0?T.concat([F]):T,[])}function x(S){return o.map((I,T)=>({start:I-n[T]+.5+S,end:I+t-.5+S}))}function g(S,I,T){const F=x(I);return S.map($=>{const G=T?0:-r,de=T?r:0,B=T?"end":"start",Y=F[$][B];return{index:$,loopPoint:Y,slideLocation:Js(-1),translate:sf(e,c[$]),target:()=>l.get()>Y?G:de}})}function v(){const S=i[0],I=b(u,S);return g(I,r,!1)}function y(){const S=t-i[0]-1,I=b(p,S);return g(I,-r,!0)}function w(){return m.every(({index:S})=>{const I=p.filter(T=>T!==S);return f(I,t)<=.1})}function j(){m.forEach(S=>{const{target:I,translate:T,slideLocation:F}=S,$=I();$!==F.get()&&(T.to($),F.set($))})}function k(){m.forEach(S=>S.translate.clear())}return{canLoop:w,clear:k,loop:j,loopPoints:m}}function _2(e,t,r){let n,a=!1;function o(c){if(!r)return;function d(p){for(const u of p)if(u.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(p=>{a||(Ra(r)||r(c,p))&&d(p)}),n.observe(e,{childList:!0})}function i(){n&&n.disconnect(),a=!0}return{init:o,destroy:i}}function F2(e,t,r,n){const a={};let o=null,i=null,l,c=!1;function d(){l=new IntersectionObserver(b=>{c||(b.forEach(x=>{const g=t.indexOf(x.target);a[g]=x}),o=null,i=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(b=>l.observe(b))}function p(){l&&l.disconnect(),c=!0}function u(b){return pn(a).reduce((x,g)=>{const v=parseInt(g),{isIntersecting:y}=a[v];return(b&&y||!b&&!y)&&x.push(v),x},[])}function m(b=!0){if(b&&o)return o;if(!b&&i)return i;const x=u(b);return b&&(o=x),b||(i=x),x}return{init:d,destroy:p,get:m}}function z2(e,t,r,n,a,o){const{measureSize:i,startEdge:l,endEdge:c}=e,d=r[0]&&a,p=b(),u=x(),m=r.map(i),f=g();function b(){if(!d)return 0;const y=r[0];return Xe(t[l]-y[l])}function x(){if(!d)return 0;const y=o.getComputedStyle(qt(n));return parseFloat(y.getPropertyValue(`margin-${c}`))}function g(){return r.map((y,w,j)=>{const k=!w,R=ll(j,w);return k?m[w]+p:R?m[w]+u:j[w+1][l]-y[l]}).map(Xe)}return{slideSizes:m,slideSizesWithGaps:f,startGap:p,endGap:u}}function $2(e,t,r,n,a,o,i,l,c){const{startEdge:d,endEdge:p,direction:u}=e,m=ol(r);function f(v,y){return mn(v).filter(w=>w%y===0).map(w=>v.slice(w,w+y))}function b(v){return v.length?mn(v).reduce((y,w,j)=>{const k=qt(y)||0,R=k===0,S=w===Nn(v),I=a[d]-o[k][d],T=a[d]-o[w][p],F=!n&&R?u(i):0,$=!n&&S?u(l):0,G=Xe(T-$-(I+F));return j&&G>t+c&&y.push(w),S&&y.push(v.length),y},[]).map((y,w,j)=>{const k=Math.max(j[w-1]||0);return v.slice(k,y)}):[]}function x(v){return m?f(v,r):b(v)}return{groupSlides:x}}function B2(e,t,r,n,a,o,i){const{align:l,axis:c,direction:d,startIndex:p,loop:u,duration:m,dragFree:f,dragThreshold:b,inViewThreshold:x,slidesToScroll:g,skipSnaps:v,containScroll:y,watchResize:w,watchSlides:j,watchDrag:k,watchFocus:R}=o,S=2,I=j2(),T=I.measure(t),F=r.map(I.measure),$=v2(c,d),G=$.measureSize(T),de=k2(G),B=b2(l,G),Y=!u&&!!y,_=u||!!y,{slideSizes:O,slideSizesWithGaps:Z,startGap:q,endGap:L}=z2($,T,F,r,_,a),V=$2($,G,g,u,T,F,q,L,S),{snaps:C,snapsAligned:he}=A2($,B,T,F,V),z=-qt(C)+qt(Z),{snapsContained:oe,scrollContainLimit:Ne}=E2(G,z,he,y,S),Se=Y?oe:he,{limit:ue}=R2(z,Se,u),Ce=rf(Nn(Se),p,u),ge=Ce.clone(),ce=mn(r),U=({dragHandler:P,scrollBody:E,scrollBounds:K,options:{loop:W}})=>{W||K.constrain(P.pointerDown()),E.seek()},ae=({scrollBody:P,translate:E,location:K,offsetLocation:W,previousLocation:re,scrollLooper:ee,slideLooper:se,dragHandler:Ge,animation:ne,eventHandler:Je,scrollBounds:Pt,options:{loop:Or}},ur)=>{const mr=P.settled(),ts=!Pt.shouldConstrain(),zt=Or?mr:mr&&ts,Ee=zt&&!Ge.pointerDown();Ee&&ne.stop();const $t=K.get()*ur+re.get()*(1-ur);W.set($t),Or&&(ee.loop(P.direction()),se.loop()),E.to(W.get()),Ee&&Je.emit("settle"),zt||Je.emit("scroll")},Te=x2(n,a,()=>U(Kt),P=>ae(Kt,P)),$e=.68,qe=Se[Ce.get()],rt=Js(qe),it=Js(qe),lt=Js(qe),Dt=Js(qe),X=C2(rt,lt,it,Dt,m,$e),ie=T2(u,Se,z,ue,Dt),we=O2(Te,Ce,ge,X,ie,Dt,i),Ie=P2(ue),ut=hn(),He=F2(t,r,i,x),{slideRegistry:es}=I2(Y,y,Se,Ne,V,ce),dr=L2(e,r,es,we,X,ut,i,R),Kt={ownerDocument:n,ownerWindow:a,eventHandler:i,containerRect:T,slideRects:F,animation:Te,axis:$,dragHandler:y2($,e,n,a,Dt,w2($,a),rt,Te,we,X,ie,Ce,i,de,f,b,v,$e,k),eventStore:ut,percentOfView:de,index:Ce,indexPrevious:ge,limit:ue,location:rt,offsetLocation:lt,previousLocation:it,options:o,resizeHandler:N2(t,i,a,r,$,w,I),scrollBody:X,scrollBounds:S2(ue,lt,Dt,X,de),scrollLooper:D2(z,ue,lt,[rt,lt,it,Dt]),scrollProgress:Ie,scrollSnapList:Se.map(Ie.get),scrollSnaps:Se,scrollTarget:ie,scrollTo:we,slideLooper:M2($,G,z,O,Z,C,Se,lt,r),slideFocus:dr,slidesHandler:_2(t,i,j),slidesInView:He,slideIndexes:ce,slideRegistry:es,slidesToScroll:V,target:Dt,translate:sf($,t)};return Kt}function U2(){let e={},t;function r(d){t=d}function n(d){return e[d]||[]}function a(d){return n(d).forEach(p=>p(t,d)),c}function o(d,p){return e[d]=n(d).concat([p]),c}function i(d,p){return e[d]=n(d).filter(u=>u!==p),c}function l(){e={}}const c={init:r,emit:a,off:i,on:o,clear:l};return c}const G2={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function V2(e){function t(o,i){return tf(o,i||{})}function r(o){const i=o.breakpoints||{},l=pn(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,d)=>t(c,d),{});return t(o,l)}function n(o){return o.map(i=>pn(i.breakpoints||{})).reduce((i,l)=>i.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function q2(e){let t=[];function r(o,i){return t=i.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(o,e)),i.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(o=>o.destroy())}return{init:r,destroy:n}}function na(e,t,r){const n=e.ownerDocument,a=n.defaultView,o=V2(a),i=q2(o),l=hn(),c=U2(),{mergeOptions:d,optionsAtMedia:p,optionsMediaQueries:u}=o,{on:m,off:f,emit:b}=c,x=$;let g=!1,v,y=d(G2,na.globalOptions),w=d(y),j=[],k,R,S;function I(){const{container:ce,slides:U}=w;R=(Qo(ce)?e.querySelector(ce):ce)||e.children[0];const Te=Qo(U)?R.querySelectorAll(U):U;S=[].slice.call(Te||R.children)}function T(ce){const U=B2(e,R,S,n,a,ce,c);if(ce.loop&&!U.slideLooper.canLoop()){const ae=Object.assign({},ce,{loop:!1});return T(ae)}return U}function F(ce,U){g||(y=d(y,ce),w=p(y),j=U||j,I(),v=T(w),u([y,...j.map(({options:ae})=>ae)]).forEach(ae=>l.add(ae,"change",$)),w.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(ge),v.eventHandler.init(ge),v.resizeHandler.init(ge),v.slidesHandler.init(ge),v.options.loop&&v.slideLooper.loop(),R.offsetParent&&S.length&&v.dragHandler.init(ge),k=i.init(ge,j)))}function $(ce,U){const ae=V();G(),F(d({startIndex:ae},ce),U),c.emit("reInit")}function G(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),i.destroy(),l.clear()}function de(){g||(g=!0,l.clear(),G(),c.emit("destroy"),c.clear())}function B(ce,U,ae){!w.active||g||(v.scrollBody.useBaseFriction().useDuration(U===!0?0:w.duration),v.scrollTo.index(ce,ae||0))}function Y(ce){const U=v.index.add(1).get();B(U,ce,-1)}function _(ce){const U=v.index.add(-1).get();B(U,ce,1)}function O(){return v.index.add(1).get()!==V()}function Z(){return v.index.add(-1).get()!==V()}function q(){return v.scrollSnapList}function L(){return v.scrollProgress.get(v.offsetLocation.get())}function V(){return v.index.get()}function C(){return v.indexPrevious.get()}function he(){return v.slidesInView.get()}function z(){return v.slidesInView.get(!1)}function oe(){return k}function Ne(){return v}function Se(){return e}function ue(){return R}function Ce(){return S}const ge={canScrollNext:O,canScrollPrev:Z,containerNode:ue,internalEngine:Ne,destroy:de,off:f,on:m,emit:b,plugins:oe,previousScrollSnap:C,reInit:x,rootNode:Se,scrollNext:Y,scrollPrev:_,scrollProgress:L,scrollSnapList:q,scrollTo:B,selectedScrollSnap:V,slideNodes:Ce,slidesInView:he,slidesNotInView:z};return F(t,r),setTimeout(()=>c.emit("init"),0),ge}na.globalOptions=void 0;function cl(e={},t=[]){const r=h.useRef(e),n=h.useRef(t),[a,o]=h.useState(),[i,l]=h.useState(),c=h.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return h.useEffect(()=>{al(r.current,e)||(r.current=e,c())},[e,c]),h.useEffect(()=>{h2(n.current,t)||(n.current=t,c())},[t,c]),h.useEffect(()=>{if(p2()&&i){na.globalOptions=cl.globalOptions;const d=na(i,r.current,n.current);return o(d),()=>d.destroy()}else o(void 0)},[i,o]),[l,a]}cl.globalOptions=void 0;const nf=h.createContext(null);function Da(){const e=h.useContext(nf);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const af=h.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:o,...i},l)=>{const[c,d]=cl({...t,axis:e==="horizontal"?"x":"y"},n),[p,u]=h.useState(!1),[m,f]=h.useState(!1),b=h.useCallback(y=>{y&&(u(y.canScrollPrev()),f(y.canScrollNext()))},[]),x=h.useCallback(()=>{d==null||d.scrollPrev()},[d]),g=h.useCallback(()=>{d==null||d.scrollNext()},[d]),v=h.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),x()):y.key==="ArrowRight"&&(y.preventDefault(),g())},[x,g]);return h.useEffect(()=>{!d||!r||r(d)},[d,r]),h.useEffect(()=>{if(d)return b(d),d.on("reInit",b),d.on("select",b),()=>{d==null||d.off("select",b)}},[d,b]),s.jsx(nf.Provider,{value:{carouselRef:c,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:g,canScrollPrev:p,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:v,className:J("relative",a),role:"region","aria-roledescription":"carousel",...i,children:o})})});af.displayName="Carousel";const of=h.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Da();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:J("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});of.displayName="CarouselContent";const lf=h.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Da();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:J("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});lf.displayName="CarouselItem";const cf=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:o,scrollPrev:i,canScrollPrev:l}=Da();return s.jsxs(A,{ref:a,variant:t,size:r,className:J("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[s.jsx(Su,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});cf.displayName="CarouselPrevious";const df=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:o,scrollNext:i,canScrollNext:l}=Da();return s.jsxs(A,{ref:a,variant:t,size:r,className:J("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[s.jsx(vb,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});df.displayName="CarouselNext";const Bc=["TnG KL Central","TnG Petaling Jaya","TnG Shah Alam","TnG Subang Jaya","TnG Damansara","TnG Mont Kiara","TnG KLCC","TnG Bukit Bintang","TnG Cheras","TnG Ampang","TnG Kepong","TnG Wangsa Maju","TnG Setapak","TnG Sentul","TnG Brickfields"];function W2(){const e=Math.floor(Math.random()*Bc.length);return Bc[e]}function H2(){return(Math.random()*45+5).toFixed(2)}function Uc(){return{tngSite:W2(),tngRoute:H2()}}function Is(e,t,r,n){const o=(r-e)*(Math.PI/180),i=(n-t)*(Math.PI/180),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*(Math.PI/180))*Math.cos(r*(Math.PI/180))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function K2(){const[e,t]=h.useState(!1),[r,n]=h.useState(null),[a,o]=h.useState(""),[i,l]=h.useState([]),[c,d]=h.useState([]),[p,u]=h.useState(!1),[m,f]=h.useState([]),[b,x]=h.useState([]),[g,v]=h.useState(!1),[y,w]=h.useState(!1),[j,k]=h.useState(null),[R,S]=h.useState(!1),[I,T]=h.useState("end"),[F,$]=h.useState(1),[G,de]=h.useState(!1),[B,Y]=h.useState(!1),[_,O]=h.useState(!1),[Z,q]=h.useState(`- Interactive table with Drag & Drop , Calculations , and Image Gallery

- This Routes for Driver Vending Mechine , FamilyMart only`),[L,V]=h.useState("Content"),[C,he]=h.useState(!0),[z,oe]=h.useState(!1),[Ne,Se]=h.useState(!1),[ue,Ce]=h.useState(!1),[ge,ce]=h.useState(!1),[U,ae]=h.useState(0),[Te,$e]=h.useState(!1),[qe,rt]=h.useState(null),[it,lt]=h.useState(""),[Dt,X]=h.useState(""),[ie,we]=h.useState([]),[Ie,ut]=h.useState(!0),[He,es]=h.useState(),[dr,Kt]=h.useState(0),[P,E]=h.useState(null),[K,W]=h.useState(!1),[re,ee]=h.useState(null),[se,Ge]=h.useState(!1),[ne,Je]=h.useState(new Date),[Pt,Or]=h.useState(""),[ur,mr]=h.useState("#3b82f6"),ts=h.useRef(null),zt=h.useRef(null),{toast:Ee}=Rt(),{theme:$t,toggleTheme:Sf}=wi(),{rows:pt,columns:ct,isLoading:Ef,createRow:hl,updateRow:Ia,deleteRow:Rf,reorderRows:Df,reorderColumns:Pf,addImageToRow:fl,updateImageInRow:Af,deleteImageFromRow:If,createColumn:Tf,deleteColumn:Of}=ji(),Ta=Ae({mutationFn:async D=>{const M=await Be("PUT","/api/table-rows/bulk-update-color",D);if(!M.ok)throw new Error("Failed to update marker colors");return M.json()},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/table-rows"]}),Or(""),mr("#3b82f6"),Ee({title:"Marker colors updated!",description:"All locations in the selected route have been updated."})},onError:()=>{Ee({title:"Error",description:"Failed to update marker colors. Please try again.",variant:"destructive"})}}),Lf=()=>{if(!Pt){Ee({title:"Select a route",description:"Please select a route to update marker colors.",variant:"destructive"});return}Ta.mutate({route:Pt,color:ur})},{data:Lr=[],isLoading:gl}=Wt({queryKey:["/api/pages"]});h.useEffect(()=>{(async()=>{!gl&&Lr.length===0&&await Us.mutateAsync({title:L,description:Z,sortOrder:0})})()},[Lr.length,gl]);const Us=Ae({mutationFn:async D=>await(await Be("POST","/api/pages",D)).json(),onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/pages"]}),Ee({title:"Success",description:"Page created successfully!"})},onError:D=>{Ee({title:"Error",description:D instanceof Error?D.message:"Failed to create page",variant:"destructive"})}}),Cn=Ae({mutationFn:async({id:D,updates:M})=>await(await Be("PATCH",`/api/pages/${D}`,M)).json(),onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/pages"]}),Ee({title:"Success",description:"Page updated successfully!"})},onError:D=>{Ee({title:"Error",description:D instanceof Error?D.message:"Failed to update page",variant:"destructive"})}}),Gs=Ae({mutationFn:async D=>{await Be("DELETE",`/api/pages/${D}`)},onSuccess:()=>{ir.invalidateQueries({queryKey:["/api/pages"]}),Ee({title:"Success",description:"Page deleted successfully!"})},onError:D=>{Ee({title:"Error",description:D instanceof Error?D.message:"Failed to delete page",variant:"destructive"})}});h.useEffect(()=>{(async()=>{if(ct.length===0)return;try{const pe=Ha(),Ke=await fetch(`/api/layout?userId=${encodeURIComponent(pe)}`);if(Ke.ok){const Ze=await Ke.json(),tt=Object.keys(Ze.columnVisibility).filter(Qt=>Ze.columnVisibility[Qt]&&ct.some(rs=>rs.id===Qt)),Vs=Ze.columnOrder.filter(Qt=>ct.some(rs=>rs.id===Qt)),rr=ct.find(Qt=>Qt.dataKey==="kilometer");rr&&!tt.includes(rr.id)&&tt.push(rr.id),tt.length>0&&f(tt),Vs.length>0&&x(Vs);return}else Ke.status===404&&localStorage.removeItem("tableColumnPreferences")}catch{}const M=["No","Code","Location","Delivery"],fe=ct.filter(pe=>M.includes(pe.name)).map(pe=>pe.id),Me=ct.filter(pe=>pe.dataKey==="latitude"||pe.dataKey==="longitude").map(pe=>pe.id);f(fe.length>0?fe:ct.map(pe=>pe.id).filter(pe=>!Me.includes(pe))),x(ct.map(pe=>pe.id))})()},[ct]);const bl=(D,M)=>{const fe={visibleColumns:D,columnOrder:M};localStorage.setItem("tableColumnPreferences",JSON.stringify(fe))},Mf=D=>D.trim()?D.split(`
`).map(M=>M.trim()).filter(M=>M.length>0).map(M=>{if(M.includes(":")){const[fe,...Me]=M.split(":");return{term:fe.trim(),definition:Me.join(":").trim()}}return{term:"",definition:M}}):[],_f=D=>D.filter(M=>M.term.trim()||M.definition.trim()).map(M=>M.term.trim()?`${M.term.trim()} : ${M.definition.trim()}`:M.definition.trim()).join(`
`),Ff=()=>{rt(null),lt(""),X(""),we([]),$e(!0)},zf=D=>{rt(D),lt(D.title||""),X(D.description||""),we(Mf(D.description||"")),$e(!0)},$f=async()=>{if(!it.trim()){Ee({title:"Error",description:"Page title is required",variant:"destructive"});return}const D=_f(ie);try{qe?await Cn.mutateAsync({id:qe.id,updates:{title:it.trim(),description:D}}):await Us.mutateAsync({title:it.trim(),description:D,sortOrder:Lr.length}),$e(!1),rt(null),lt(""),X("")}catch(M){console.error("Error saving page:",M)}},Bf=D=>{if(Lr.length<=1){Ee({title:"Error",description:"Cannot delete the last page",variant:"destructive"});return}ee(D),W(!0)},Uf=async()=>{if(!re)return;const D=Lr.findIndex(M=>M.id===re.id);try{await Gs.mutateAsync(re.id),D!==-1&&U>=D&&U>0&&ae(M=>Math.max(0,M-1)),W(!1),ee(null)}catch(M){console.error("Error deleting page:",M)}},Gf=()=>{W(!1),ee(null)},At=h.useMemo(()=>[...Lr].sort((D,M)=>D.sortOrder-M.sortOrder),[Lr]);h.useEffect(()=>{At.length>0&&U>=At.length&&ae(Math.max(0,At.length-1))},[At.length,U]),At[U];const Vf=h.useMemo(()=>{if(b.length===0||m.length===0)return ct;let D=b.map(M=>ct.find(fe=>fe.id===M)).filter(M=>M!==void 0).filter(M=>m.includes(M.id));return e||(D=D.filter(M=>M.dataKey!=="latitude"&&M.dataKey!=="longitude"&&M.dataKey!=="tollPrice")),D},[ct,b,m,e]),xl=Array.from(new Set(pt.map(D=>D.route).filter(Boolean))).filter(D=>D!=="Warehouse").sort(),qf=Array.from(new Set(pt.map(D=>D.delivery).filter(Boolean))).filter(D=>D!=="Available").sort(),pr=(()=>{const D=i.length>0,M=pt.find(Me=>Me.location==="QL Kitchen"),fe=pt.filter(Me=>{const pe=a===""||Object.values(Me).some(tt=>String(tt).toLowerCase().includes(a.toLowerCase())),Ke=i.length===0||i.includes(Me.route),Ze=c.length===0||!c.includes(Me.delivery);return pe&&Ke&&Ze});if(D&&M){const Me=fe.filter(Ke=>Ke.location!=="QL Kitchen");return a===""||Object.values(M).some(Ke=>String(Ke).toLowerCase().includes(a.toLowerCase()))?[M,...Me]:Me}return fe})(),Wf=h.useMemo(()=>{const D=pt.find(pe=>pe.location==="QL Kitchen");if(!D)return pr.map(pe=>({...pe,kilometer:"",segmentDistance:0}));if(!D.latitude||!D.longitude)return pr.map(pe=>({...pe,kilometer:"",segmentDistance:0}));const M=parseFloat(D.latitude),fe=parseFloat(D.longitude);if(!Number.isFinite(M)||!Number.isFinite(fe))return pr.map(pe=>({...pe,kilometer:"",segmentDistance:0}));if(a!==""||i.length>0||c.length>0){let pe=0,Ke=M,Ze=fe;return pr.map((tt,Vs)=>{if(tt.location==="QL Kitchen")return pe=0,Ke=M,Ze=fe,{...tt,kilometer:0,segmentDistance:0};if(!tt.latitude||!tt.longitude)return{...tt,kilometer:"",segmentDistance:0};const rr=parseFloat(tt.latitude),Qt=parseFloat(tt.longitude);if(!Number.isFinite(rr)||!Number.isFinite(Qt))return{...tt,kilometer:"",segmentDistance:0};const rs=Is(Ke,Ze,rr,Qt);return pe+=rs,Ke=rr,Ze=Qt,{...tt,kilometer:pe,segmentDistance:rs}})}else return pr.map(pe=>{if(pe.location==="QL Kitchen")return{...pe,kilometer:0,segmentDistance:0};if(!pe.latitude||!pe.longitude)return{...pe,kilometer:"",segmentDistance:0};const Ke=parseFloat(pe.latitude),Ze=parseFloat(pe.longitude);if(!Number.isFinite(Ke)||!Number.isFinite(Ze))return{...pe,kilometer:"",segmentDistance:0};const tt=Is(M,fe,Ke,Ze);return{...pe,kilometer:tt,segmentDistance:tt}})},[pt,pr,a,i,c]),Hf=async()=>{o(""),l([]),d([]);const D=pt.map(M=>M.location!=="QL Kitchen"&&M.no!==M.sortOrder?Ia.mutateAsync({id:M.id,updates:{no:M.sortOrder}}):Promise.resolve());await Promise.all(D)},Kf=()=>{Se(!0)},Qf=()=>{Se(!1),Ee({title:"Data Saved",description:"Table data has been saved successfully."})},Yf=()=>{if(!e){Ee({title:"Access Denied",description:"Please enable Edit mode to add new rows.",variant:"destructive"});return}S(!0)},Xf=async()=>{try{const{tngSite:D,tngRoute:M}=Uc(),fe={no:0,route:"New Route",location:"New Location",delivery:"Pending",tngSite:D,tngRoute:M,images:[]};I==="end"?(await hl.mutateAsync(fe),Ee({title:"Row Added",description:"New row has been added to the end of the table."})):(await hl.mutateAsync(fe),Ee({title:"Row Added",description:`New row has been added at position ${F}.`})),S(!1)}catch{Ee({title:"Error",description:"Failed to add new row.",variant:"destructive"})}},Jf=async(D,M)=>{f(D),x(M),bl(D,M);try{const fe=M.filter(Ke=>ct.some(Ze=>Ze.id===Ke)),Me=ct.reduce((Ke,Ze)=>(Ke[Ze.id]=D.includes(Ze.id),Ke),{}),pe=Ha();await fetch("/api/layout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:pe,columnOrder:fe,columnVisibility:Me})})}catch(fe){console.error("Failed to save layout to database:",fe)}Ee({title:"Columns Updated",description:"Your column preferences have been saved."})},Zf=async()=>{e?de(!0):g?(O(!0),await new Promise(D=>setTimeout(D,1e3)),O(!1),t(!0),Ee({title:"Edit Mode Enabled",description:"You can now edit and modify table data."})):(k("edit"),w(!0))},eg=async()=>{de(!1),u(!1),S(!1),n(null),k(null),O(!0);try{const M={userId:Ha(),columnVisibility:Object.fromEntries(ct.map(fe=>[fe.id,m.includes(fe.id)])),columnOrder:b};await Be("POST","/api/layout",M)}catch(D){console.error("Failed to auto-save layout:",D)}await new Promise(D=>setTimeout(D,1e3)),t(!1),v(!1),O(!1),Ee({title:"Edit Mode Disabled",description:"Layout auto-saved. Edit mode has been turned off and password cleared."})},tg=()=>{de(!1)};h.useEffect(()=>{!e&&g&&v(!1)},[e,g]),h.useEffect(()=>{localStorage.getItem("hasSlideCarousel")==="true"&&ut(!1)},[]),h.useEffect(()=>{const D=setInterval(()=>{Je(new Date)},1e3);return()=>clearInterval(D)},[]);const rg=D=>{const M={weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return D.toLocaleString("en-US",M)};h.useEffect(()=>{He&&(He.scrollTo(0,!1),Kt(0))},[He]),h.useEffect(()=>{if(!He)return;const D=()=>{const M=He.selectedScrollSnap(),fe=dr;zt.current&&clearTimeout(zt.current),E(fe),Kt(M),Oa(),zt.current=setTimeout(()=>{E(null),zt.current=null},400)};return Kt(He.selectedScrollSnap()),He.on("select",D),()=>{He.off("select",D),zt.current&&clearTimeout(zt.current)}},[He,dr]);const Oa=()=>{ut(!1),localStorage.setItem("hasSlideCarousel","true")},sg=async()=>{v(!0),j==="edit"&&(O(!0),await new Promise(D=>setTimeout(D,1e3)),O(!1),t(!0),Ee({title:"Edit Mode Enabled",description:"You can now edit and modify table data."})),k(null)},ng=async()=>{if(!e){Ee({title:"Access Denied",description:"Please enable Edit mode to generate TnG values.",variant:"destructive"});return}try{const D=pr.filter(M=>!M.tngSite||M.tngSite===""||M.tngSite==="Site"||!M.tngRoute||M.tngRoute===""||M.tngRoute==="Route");if(D.length===0){Ee({title:"No Rows to Update",description:"All rows already have TnG values assigned."});return}for(const M of D){const{tngSite:fe,tngRoute:Me}=Uc();await Ia.mutateAsync({id:M.id,updates:{tngSite:fe,tngRoute:Me}})}Ee({title:"TnG Values Generated",description:`Generated TnG values for ${D.length} row${D.length!==1?"s":""}.`})}catch{Ee({title:"Error",description:"Failed to generate TnG values.",variant:"destructive"})}},ag=async()=>{if(!e){Ee({title:"Access Denied",description:"Please enable Edit mode to calculate tolls.",variant:"destructive"});return}try{if(Ee({title:"Calculating Tolls",description:"Computing toll prices using Google Maps"}),!(await fetch("/api/calculate-tolls",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error;Ee({title:"Tolls Calculated",description:"Toll prices have been updated."}),window.location.reload()}catch{Ee({title:"Error",description:"Failed to calculate tolls.",variant:"destructive"})}},[og,vl]=ye.useState(!1),[ig,yl]=ye.useState(!1);return ye.useEffect(()=>{if(sessionStorage.getItem("routevm_loaded")){yl(!1);const M=setTimeout(()=>{vl(!0)},1e3);return()=>clearTimeout(M)}else{yl(!0);const M=setTimeout(()=>{vl(!0),sessionStorage.setItem("routevm_loaded","true")},5e3);return()=>clearTimeout(M)}},[]),ye.useEffect(()=>{const D=()=>{sessionStorage.removeItem("routevm_loaded")},M=()=>{document.hidden&&sessionStorage.removeItem("routevm_loaded")};return window.addEventListener("beforeunload",D),document.addEventListener("visibilitychange",M),()=>{window.removeEventListener("beforeunload",D),document.removeEventListener("visibilitychange",M)}},[]),Ef||!og?s.jsx("div",{className:"min-h-screen relative",children:ig?s.jsx(Yi,{message:"Loading table data...",type:"wave"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})})}):s.jsxs(s.Fragment,{children:[_&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-50/95 to-slate-100/95 dark:from-slate-900/95 dark:to-slate-800/95 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})}),s.jsx("div",{className:"animate-in fade-in duration-500",children:s.jsx(WN,{editMode:e,onEditModeRequest:Zf,onShowCustomization:()=>u(!0),onAddRow:Yf,onSaveData:Kf,onGenerateTng:ng,onOptimizeRoute:()=>oe(!0),onCalculateTolls:ag,onSaveLayout:()=>{},onSavedLinks:()=>ce(!0),onShowTutorial:()=>Ge(!0),onAddColumn:async D=>{try{const M=await Tf.mutateAsync(D),fe=[...m,M.id],Me=[...b,M.id];f(fe),x(Me),bl(fe,Me),Ee({title:"Success",description:`Column "${D.name}" created successfully!`})}catch(M){throw console.error("Failed to create column:",M),M}},isAuthenticated:!0,theme:$t,onToggleTheme:Sf})}),s.jsx("main",{className:"pt-[72px] animate-in slide-in-from-bottom-4 fade-in duration-700 delay-150",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl","data-testid":"table-page",children:[s.jsx("div",{className:"mb-8 relative animate-in fade-in slide-in-from-top-2 duration-600 delay-300",children:At.length>0?s.jsxs(af,{className:"w-full pb-16",opts:{loop:At.length>1},setApi:es,children:[s.jsxs("div",{className:"overflow-hidden rounded-xl border border-blue-200 dark:border-blue-500/30 bg-gradient-to-r from-blue-50/80 to-white/80 dark:from-blue-950/40 dark:to-gray-900/40 backdrop-blur-sm shadow-lg transition-all duration-500",children:[s.jsx(of,{children:At.map((D,M)=>{const fe=M===dr,Me=M===P;return s.jsxs(lf,{className:fe&&P!==null?"carousel-zoom-in":Me&&P!==null?"carousel-zoom-out":"",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-3 cursor-pointer hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors duration-300 text-sm",onClick:()=>he(!C),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[At.length>1&&Ie&&s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("style",{children:`
                                @keyframes slideLeft {
                                  0%, 100% { opacity: 0.3; transform: translateX(0px); }
                                  50% { opacity: 1; transform: translateX(-4px); }
                                }
                                .arrow-left-1 { animation: slideLeft 1.5s ease-in-out infinite; animation-delay: 0s; }
                                .arrow-left-2 { animation: slideLeft 1.5s ease-in-out infinite; animation-delay: 0.2s; }
                                .arrow-left-3 { animation: slideLeft 1.5s ease-in-out infinite; animation-delay: 0.4s; }
                              `}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-left-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-left-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-left-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),s.jsx("h1",{className:"font-bold text-gray-500 dark:text-blue-300",style:{fontSize:"12px"},"data-testid":`page-title-${D.id}`,children:D.title||"Untitled"}),At.length>1&&Ie&&s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("style",{children:`
                                @keyframes slideRight {
                                  0%, 100% { opacity: 0.3; transform: translateX(0px); }
                                  50% { opacity: 1; transform: translateX(4px); }
                                }
                                .arrow-right-1 { animation: slideRight 1.5s ease-in-out infinite; animation-delay: 0s; }
                                .arrow-right-2 { animation: slideRight 1.5s ease-in-out infinite; animation-delay: 0.2s; }
                                .arrow-right-3 { animation: slideRight 1.5s ease-in-out infinite; animation-delay: 0.4s; }
                              `}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-right-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-right-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-right-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),e&&s.jsxs("div",{className:"flex items-center gap-2",onClick:pe=>pe.stopPropagation(),children:[s.jsx(A,{size:"sm",variant:"ghost",onClick:()=>zf(D),className:"h-6 w-6 p-0","data-testid":`button-edit-page-${D.id}`,children:s.jsx(Kb,{className:"h-3 w-3 text-blue-500 dark:text-blue-400"})}),At.length>1&&s.jsx(A,{size:"sm",variant:"ghost",onClick:()=>Bf(D),disabled:Gs.isPending,className:"h-6 w-6 p-0","data-testid":`button-delete-page-${D.id}`,children:s.jsx(os,{className:"h-3 w-3 text-red-500 dark:text-red-400"})})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"p-2 rounded-full hover:bg-blue-200/50 dark:hover:bg-blue-800/50 transition-all duration-300 group","data-testid":"button-toggle-header",children:C?s.jsx(Du,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300"}):s.jsx(fa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300"})})})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${C?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:s.jsxs("div",{className:"px-4 pb-3 border-t border-blue-200/50 dark:border-blue-500/20 pt-3 bg-gradient-to-b from-blue-50/30 to-transparent dark:from-blue-950/20 dark:to-transparent",children:[s.jsx("dl",{className:"space-y-1",style:{fontSize:"10px",lineHeight:"1.4"},"data-testid":`page-description-${D.id}`,children:(D.description||"").split(`
`).map((pe,Ke)=>{const Ze=pe.trim();if(!Ze)return null;if(Ze.includes(":")){const[tt,...Vs]=Ze.split(":"),rr=Vs.join(":").trim();return s.jsxs("div",{className:"flex items-start gap-3",style:{lineHeight:"1.4"},children:[s.jsx("dt",{className:"w-18 flex-shrink-0 font-semibold text-blue-600 dark:text-blue-400",style:{margin:0,padding:0},children:tt.trim()}),s.jsx("dd",{className:"flex-1 text-gray-700 dark:text-gray-300",style:{margin:0,padding:0},children:rr})]},Ke)}return s.jsx("p",{className:"text-gray-700 dark:text-gray-300",style:{margin:"2px 0",lineHeight:"1.4"},children:Ze},Ke)})}),s.jsx("div",{className:"mt-3 pt-2 border-t border-blue-200/30 dark:border-blue-500/10 flex justify-end",children:s.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-normal",children:rg(ne)})})]})})]},D.id)})}),e&&s.jsx("div",{className:"px-6 pb-4 border-t border-blue-200/50 dark:border-blue-500/20",children:s.jsxs(A,{onClick:Ff,className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700","data-testid":"button-add-page",children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Add Page"]})})]}),At.length>1&&e&&s.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[s.jsx(cf,{className:"relative left-0 top-0 translate-x-0 translate-y-0","data-testid":"button-prev-page",onClick:Oa}),s.jsx(df,{className:"relative right-0 top-0 translate-x-0 translate-y-0","data-testid":"button-next-page",onClick:Oa})]})]}):s.jsx("div",{className:"overflow-hidden rounded-xl border border-blue-200 dark:border-blue-500/30 bg-gradient-to-r from-blue-50/80 to-white/80 dark:from-blue-950/40 dark:to-gray-900/40 backdrop-blur-sm shadow-lg transition-all duration-500 px-6 py-4 text-center text-gray-500",children:s.jsx("p",{children:"No pages available"})})}),s.jsx(Ue,{open:Te,onOpenChange:$e,children:s.jsxs(_e,{"data-testid":"dialog-page-form",children:[s.jsxs(Fe,{children:[s.jsx(ze,{style:{fontSize:"10px"},children:qe?"Edit Page":"Add Page"}),s.jsx(Qe,{style:{fontSize:"10px"},children:qe?"Update the page details below.":"Create a new page with a title and description."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"page-title",style:{fontSize:"10px"},children:"Title"}),s.jsx(De,{id:"page-title",value:it,onChange:D=>lt(D.target.value),placeholder:"Enter page title...",style:{fontSize:"10px"},"data-testid":"input-page-title"})]}),s.jsxs("div",{children:[s.jsx(be,{style:{fontSize:"10px"},children:"Description"}),s.jsxs("div",{className:"space-y-3 border border-gray-200 dark:border-gray-700 rounded-md p-3",children:[ie.length>0?s.jsx("div",{className:"space-y-2",children:ie.map((D,M)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(De,{value:D.term,onChange:fe=>{const Me=[...ie];Me[M].term=fe.target.value,we(Me)},className:"w-24",style:{fontSize:"10px"},placeholder:"Term","data-testid":`input-page-item-term-${M}`}),s.jsx(De,{value:D.definition,onChange:fe=>{const Me=[...ie];Me[M].definition=fe.target.value,we(Me)},className:"flex-1",style:{fontSize:"10px"},placeholder:"Definition","data-testid":`input-page-item-definition-${M}`}),s.jsx(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-red-600 hover:text-red-700",onClick:()=>{const fe=ie.filter((Me,pe)=>pe!==M);we(fe)},"data-testid":`button-remove-page-item-${M}`,children:s.jsx(os,{className:"w-3 h-3"})})]},M))}):s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:'No items yet. Click "Add Item" to start.'}),s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>{we([...ie,{term:"",definition:""}])},className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-600 hover:text-blue-700",style:{fontSize:"10px"},"data-testid":"button-add-page-item",children:[s.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Add Item"]})]})]})]}),s.jsxs(Ye,{children:[s.jsx(A,{variant:"outline",onClick:()=>$e(!1),disabled:Us.isPending||Cn.isPending,style:{fontSize:"10px"},"data-testid":"button-cancel-page",children:"Cancel"}),s.jsx(A,{onClick:$f,disabled:Us.isPending||Cn.isPending||!it.trim(),style:{fontSize:"10px"},"data-testid":"button-save-page",children:Us.isPending||Cn.isPending?"Saving...":"Save"})]})]})}),s.jsx(Ue,{open:K,onOpenChange:W,children:s.jsxs(_e,{className:"sm:max-w-md animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 duration-300 bg-gradient-to-br from-red-50 to-white dark:from-red-950/40 dark:to-gray-900 border-red-200 dark:border-red-500/30 shadow-2xl",children:[s.jsxs(Fe,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center animate-in zoom-in-50 duration-500 delay-100",children:s.jsx(os,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),s.jsx(ze,{className:"text-center text-red-900 dark:text-red-100",style:{fontSize:"14px"},children:"Delete Page"}),s.jsxs(Qe,{className:"text-center text-gray-600 dark:text-gray-400",style:{fontSize:"11px"},children:['Are you sure you want to delete the page "',re==null?void 0:re.title,'"? This action cannot be undone.']})]}),s.jsxs(Ye,{className:"flex-row justify-center gap-3 sm:justify-center mt-4",children:[s.jsx(A,{variant:"outline",onClick:Gf,disabled:Gs.isPending,className:"min-w-[100px] border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",style:{fontSize:"11px"},"data-testid":"button-cancel-delete-page",children:"Cancel"}),s.jsx(A,{onClick:Uf,disabled:Gs.isPending,className:"min-w-[100px] bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white shadow-lg",style:{fontSize:"11px"},"data-testid":"button-confirm-delete-page",children:Gs.isPending?"Deleting...":"Delete Page"})]})]})}),r&&r!=="access-denied"&&!B&&(()=>{const D=pt.find(fe=>fe.id===r);return D?D.images&&D.images.length>0?s.jsx(TN,{rowId:r,images:D.images,location:D.location,onClose:()=>n(null),onAddImage:fl,onUpdateImage:Af,onDeleteImage:If}):s.jsx(IN,{rowId:r,location:D.location,onClose:()=>n(null),onAddImage:fl}):null})(),e&&s.jsx("div",{className:"animate-in fade-in duration-300 mb-6",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950/30 dark:to-pink-950/30 border-2 border-purple-300 dark:border-purple-700 shadow-xl rounded-2xl overflow-hidden",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-sm font-bold mb-3 bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400 bg-clip-text text-transparent flex items-center gap-2",children:" Bulk Edit Marker Color by Route"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-6",children:[s.jsx("label",{className:"text-xs font-semibold mb-1 block text-gray-800 dark:text-gray-200",children:"Select Route"}),s.jsxs("select",{value:Pt,onChange:D=>Or(D.target.value),className:"w-full px-3 py-2 text-sm bg-white dark:bg-black/40 border-transparent rounded-xl font-medium shadow-sm transition-colors",children:[s.jsx("option",{value:"",children:"-- Select Route --"}),xl.map(D=>s.jsx("option",{value:D,children:D},D))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"text-xs font-semibold mb-1 block text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[s.jsx("span",{children:"New Color"}),Pt&&(()=>{const D=pt.find(fe=>fe.route===Pt),M=(D==null?void 0:D.markerColor)||"#3b82f6";return s.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-normal text-gray-600 dark:text-gray-400",children:["(Current:",s.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-gray-400 dark:border-gray-500",style:{backgroundColor:M},title:M}),")"]})})()]}),s.jsx("input",{type:"color",value:ur,onChange:D=>mr(D.target.value),className:"h-[38px] w-full rounded-xl border-2 border-purple-300 dark:border-purple-700 cursor-pointer shadow-sm hover:scale-105 transition-transform"})]}),s.jsx("div",{className:"md:col-span-4",children:s.jsx(A,{onClick:Lf,disabled:!Pt||Ta.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold text-sm h-[38px] px-6 shadow-lg hover:shadow-xl transition-all",children:Ta.isPending?"Updating...":" Update Color"})})]}),s.jsx("div",{className:"mt-3 px-1 py-2 bg-purple-100/50 dark:bg-purple-900/20 rounded-lg",children:s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:Pt?` Will update marker colors for ALL locations in route "${Pt}"`:" Select a route above to bulk update marker colors for all locations in that route"})})]})})}),s.jsx("div",{ref:ts,className:"animate-in fade-in slide-in-from-bottom-3 duration-700 delay-500",children:s.jsx(Xi,{rows:Wf,columns:Vf,editMode:e,onUpdateRow:Ia,onDeleteRow:Rf,onReorderRows:Df,onReorderColumns:Pf,onDeleteColumn:Of,onSelectRowForImage:D=>{D==="access-denied"?Ee({title:"Access Denied",description:"Please enable Edit mode to add images.",variant:"destructive"}):n(D)},onShowCustomization:()=>u(!0),onOptimizeRoute:()=>oe(!0),onShareTable:()=>Ce(!0),onSavedLinks:()=>ce(!0),isAuthenticated:g,isLoading:B,isFiltered:a!==""||i.length>0||c.length>0,searchTerm:a,onSearchTermChange:o,filterValue:i,onFilterValueChange:l,deliveryFilterValue:c,onDeliveryFilterValueChange:d,routeOptions:xl,deliveryOptions:qf,onClearAllFilters:Hf,filteredRowsCount:pr.length,totalRowsCount:pt.length})}),s.jsx(zN,{open:p&&!B,onOpenChange:u,columns:ct,visibleColumns:m,onApplyChanges:Jf,editMode:e}),B&&s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-500/20 via-blue-600/30 to-blue-700/20 dark:from-blue-600/30 dark:via-blue-700/40 dark:to-blue-800/30 backdrop-blur-lg z-50 flex items-center justify-center animate-in fade-in duration-300",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 -m-8",children:s.jsxs("div",{className:"w-32 h-32 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-500/20 dark:bg-blue-400/20 rounded-full animate-ping",style:{animationDuration:"1.5s"}}),s.jsx("div",{className:"absolute inset-0 bg-blue-500/10 dark:bg-blue-400/10 rounded-full animate-pulse"})]})}),s.jsx("div",{className:"relative bg-white/95 dark:bg-slate-900/95 rounded-2xl p-8 shadow-2xl border-2 border-blue-500/30 dark:border-blue-400/30 backdrop-blur-xl",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative w-16 h-16",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200 dark:border-blue-800"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-500 dark:border-t-blue-400 animate-spin"}),s.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-br from-blue-500/20 to-blue-600/20 dark:from-blue-400/20 dark:to-blue-500/20 animate-pulse"})]}),s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("div",{className:"text-lg font-semibold bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-400 dark:to-blue-500 bg-clip-text text-transparent",children:"Exiting Edit Mode"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Saving changes and clearing authentication..."})]}),s.jsx("div",{className:"w-48 h-1.5 bg-blue-100 dark:bg-blue-900 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-400 dark:to-blue-500 rounded-full animate-pulse",style:{width:"100%"}})})]})})]})}),s.jsx(Nh,{open:y&&!B,onOpenChange:D=>{w(D),D||k(null)},onSuccess:sg,title:"Authentication Required",description:"Please enter the password to access edit mode."}),s.jsx(Ue,{open:G&&!B,onOpenChange:de,children:s.jsxs(_e,{className:"sm:max-w-md animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 duration-300 bg-gradient-to-br from-red-50 to-white dark:from-red-950/40 dark:to-gray-900 border-red-200 dark:border-red-500/30 shadow-2xl",children:[s.jsxs(Fe,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center animate-in zoom-in-50 duration-500 delay-100",children:s.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),s.jsx(ze,{className:"text-center text-red-900 dark:text-red-100",style:{fontSize:"14px"},children:"Exit Edit Mode"}),s.jsx(Qe,{className:"text-center text-gray-600 dark:text-gray-400",style:{fontSize:"11px"},children:"Are you sure you want to exit edit mode? Your authentication will be cleared and you'll need to enter the password again to re-enable edit mode."})]}),s.jsxs(Ye,{className:"flex-row justify-center gap-3 sm:justify-center mt-4",children:[s.jsx(A,{variant:"outline",onClick:tg,className:"min-w-[100px] border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",style:{fontSize:"11px"},"data-testid":"button-cancel-exit",children:"Cancel"}),s.jsx(A,{onClick:eg,className:"min-w-[100px] bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white shadow-lg",style:{fontSize:"11px"},"data-testid":"button-confirm-exit",children:"Exit Edit Mode"})]})]})}),s.jsx(Ue,{open:Ne,onOpenChange:Se,children:s.jsxs(_e,{className:"sm:max-w-md animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 duration-300 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/40 dark:to-gray-900 border-blue-200 dark:border-blue-500/30 shadow-2xl",children:[s.jsxs(Fe,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center animate-in zoom-in-50 duration-500 delay-100",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx(ze,{className:"text-center text-blue-900 dark:text-blue-100",style:{fontSize:"14px"},children:"Confirm Save Changes"}),s.jsx(Qe,{className:"text-center text-gray-600 dark:text-gray-400",style:{fontSize:"11px"},children:"Are you sure you want to save all changes made to the table data?"})]}),s.jsxs(Ye,{className:"flex-row justify-center gap-3 sm:justify-center mt-4",children:[s.jsx(A,{variant:"outline",onClick:()=>Se(!1),className:"min-w-[100px] border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",style:{fontSize:"11px"},"data-testid":"button-cancel-save",children:"Cancel"}),s.jsx(A,{onClick:Qf,className:"min-w-[100px] bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white shadow-lg",style:{fontSize:"11px"},"data-testid":"button-confirm-save",children:"Save Changes"})]})]})}),s.jsx(Ue,{open:R&&!B,onOpenChange:S,children:s.jsxs(_e,{className:"sm:max-w-md",children:[s.jsxs(Fe,{children:[s.jsx(ze,{style:{fontSize:"12px"},children:"Select Row Position"}),s.jsx(Qe,{style:{fontSize:"10px"},children:"Choose where to insert the new row in the table."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(cs,{value:I,onValueChange:D=>T(D),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"end",id:"end"}),s.jsxs(be,{htmlFor:"end",style:{fontSize:"10px"},children:["Add to end of list (Position ",pt.length+1,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"specific",id:"specific"}),s.jsx(be,{htmlFor:"specific",style:{fontSize:"10px"},children:"Insert at specific position"})]})]}),I==="specific"&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsxs(be,{htmlFor:"position",style:{fontSize:"10px"},children:["Position (1 to ",pt.length+1,"):"]}),s.jsx(De,{id:"position",type:"number",value:F,onChange:D=>$(Math.max(1,Math.min(pt.length+1,parseInt(D.target.value)||1))),min:1,max:pt.length+1,className:"w-20",style:{fontSize:"10px"}})]})]}),s.jsxs(Ye,{className:"space-x-2",children:[s.jsx(A,{variant:"outline",onClick:()=>S(!1),style:{fontSize:"10px"},children:"Cancel"}),s.jsx(A,{onClick:Xf,style:{fontSize:"10px"},children:"Add Row"})]})]})}),s.jsx(HN,{open:z,onOpenChange:oe,rows:pt}),s.jsx(KN,{open:ue,onOpenChange:Ce,tableState:{filters:{searchTerm:a,routeFilters:i,deliveryFilters:c},sorting:null,columnVisibility:ct.reduce((D,M)=>(D[M.id]=m.includes(M.id),D),{}),columnOrder:b}}),s.jsx(c2,{open:ge,onOpenChange:ce}),se&&s.jsx(u2,{editMode:e,onClose:()=>Ge(!1)})]})}),s.jsx(kn,{editMode:e})]})}function Q2(){const[,e]=Ud("/share/:shareId"),t=e==null?void 0:e.shareId;wi();const{rows:r,columns:n,isLoading:a}=ji(),{data:o,isLoading:i,error:l}=Wt({queryKey:["/api/share-table",t],enabled:!!t}),c=(o==null?void 0:o.remark)||"",[d,p]=h.useState(""),[u,m]=h.useState([]),[f,b]=h.useState([]),[x,g]=h.useState(null),[v,y]=h.useState(!1),[w,j]=h.useState(!1),[k,R]=h.useState(!1),[S,I]=h.useState(!1);h.useEffect(()=>{o!=null&&o.tableState&&(p(o.tableState.filters.searchTerm||""),m(o.tableState.filters.deliveryFilters||[]),b(o.tableState.filters.routeFilters||[]))},[o]);const{filteredRows:T,displayColumns:F,deliveryOptions:$}=h.useMemo(()=>{if(r.length===0||n.length===0)return{filteredRows:r,displayColumns:n,deliveryOptions:[]};const z=Array.from(new Set(r.map(ge=>ge.delivery).filter(Boolean)));let oe=[...r];const Ne=new Date().getDay(),Se=[1,3,5,0].includes(Ne),ue=[2,4,6].includes(Ne);oe=oe.sort((ge,ce)=>{const U=ge.deliveryAlt||"normal",ae=ce.deliveryAlt||"normal";if(U==="inactive"&&ae!=="inactive")return 1;if(U!=="inactive"&&ae==="inactive")return-1;if(Se){if((U==="alt1"||U==="normal")&&ae==="alt2")return-1;if(U==="alt2"&&(ae==="alt1"||ae==="normal"))return 1}else if(ue){if((U==="alt2"||U==="normal")&&ae==="alt1")return-1;if(U==="alt1"&&(ae==="alt2"||ae==="normal"))return 1}return 0}),f.length>0&&(oe=oe.filter(ge=>f.includes(ge.route))),d&&(oe=oe.filter(ge=>Object.values(ge).some(ce=>String(ce).toLowerCase().includes(d.toLowerCase())))),u.length>0&&(oe=oe.filter(ge=>!u.includes(ge.delivery)));let Ce=n;if(o!=null&&o.tableState){const{columnVisibility:ge,columnOrder:ce}=o.tableState;Ce=n.filter(ae=>ge[ae.id]!==!1),Ce=ce.map(ae=>Ce.find(Te=>Te.id===ae)).filter(ae=>ae!==void 0)}return Ce=Ce.filter(ge=>ge.dataKey!=="latitude"&&ge.dataKey!=="longitude"&&ge.dataKey!=="tollPrice"),{filteredRows:oe,displayColumns:Ce,deliveryOptions:z}},[r,n,o,d,u,f]),G=h.useMemo(()=>{const z=r.find(ue=>ue.location==="QL Kitchen");if(!z||!z.latitude||!z.longitude)return T.map(ue=>({...ue,kilometer:"",segmentDistance:0}));const oe=parseFloat(z.latitude),Ne=parseFloat(z.longitude);if(!Number.isFinite(oe)||!Number.isFinite(Ne))return T.map(ue=>({...ue,kilometer:"",segmentDistance:0}));if(d!==""||f.length>0||u.length>0){let ue=0,Ce=oe,ge=Ne;return T.map(ce=>{if(ce.location==="QL Kitchen")return ue=0,Ce=oe,ge=Ne,{...ce,kilometer:0,segmentDistance:0};if(!ce.latitude||!ce.longitude)return{...ce,kilometer:"",segmentDistance:0};const U=parseFloat(ce.latitude),ae=parseFloat(ce.longitude);if(!Number.isFinite(U)||!Number.isFinite(ae))return{...ce,kilometer:"",segmentDistance:0};const Te=Is(Ce,ge,U,ae);return ue+=Te,Ce=U,ge=ae,{...ce,kilometer:ue,segmentDistance:Te}})}else return T.map(ue=>{if(ue.location==="QL Kitchen")return{...ue,kilometer:0,segmentDistance:0};if(!ue.latitude||!ue.longitude)return{...ue,kilometer:"",segmentDistance:0};const Ce=parseFloat(ue.latitude),ge=parseFloat(ue.longitude);if(!Number.isFinite(Ce)||!Number.isFinite(ge))return{...ue,kilometer:"",segmentDistance:0};const ce=Is(oe,Ne,Ce,ge);return{...ue,kilometer:ce,segmentDistance:ce}})},[r,T,d,f,u]),de=Ae({mutationFn:async z=>(console.log("Read-only mode: Changes not saved",z),z)}),B=Ae({mutationFn:async z=>{console.log("Read-only mode: Delete not allowed",z)}}),Y=Ae({mutationFn:async z=>z.map(Ne=>r.find(Se=>Se.id===Ne)).filter(Ne=>Ne!==void 0)}),_=Ae({mutationFn:async z=>z.map(Ne=>n.find(Se=>Se.id===Ne)).filter(Ne=>Ne!==void 0)}),O=Ae({mutationFn:async z=>{console.log("Read-only mode: Column delete not allowed",z)}}),Z=()=>{p(""),m([])},q=async()=>{j(!0),R(!1),I(!0),await new Promise(z=>setTimeout(z,1e3)),I(!1),y(!0)},[L,V]=ye.useState(!1),[C,he]=ye.useState(!1);return ye.useEffect(()=>{if(sessionStorage.getItem("routevm_loaded")){he(!1);const oe=setTimeout(()=>{V(!0)},1e3);return()=>clearTimeout(oe)}else{he(!0);const oe=setTimeout(()=>{V(!0),sessionStorage.setItem("routevm_loaded","true")},5e3);return()=>clearTimeout(oe)}},[]),ye.useEffect(()=>{const z=()=>{sessionStorage.removeItem("routevm_loaded")},oe=()=>{document.hidden&&sessionStorage.removeItem("routevm_loaded")};return window.addEventListener("beforeunload",z),document.addEventListener("visibilitychange",oe),()=>{window.removeEventListener("beforeunload",z),document.removeEventListener("visibilitychange",oe)}},[]),a||i||!L?s.jsx("div",{className:"min-h-screen relative",children:C?s.jsx(Yi,{message:"Loading shared table...",type:"wave"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})})}):l||!o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex h-16 w-16 mx-auto items-center justify-center rounded-lg bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400",children:s.jsx(bi,{className:"h-8 w-8"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Shared Table Not Found"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The shared table you're looking for doesn't exist or has been removed."})]})}):s.jsxs(s.Fragment,{children:[S&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-50/95 to-slate-100/95 dark:from-slate-900/95 dark:to-slate-800/95 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})}),s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 text-[12px]",children:c||"Shared Table"})]})}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Shared View"})]})})}),s.jsx("main",{className:"pt-[56px]",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.length>0&&s.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border-2 border-transparent",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs font-semibold text-blue-900 dark:text-blue-100",children:[" Showing Routes: ",f.join(", ")]})})}),s.jsx(Xi,{rows:G,columns:F,editMode:v,isSharedView:!0,hideShareButton:!0,disablePagination:!0,onUpdateRow:de,onDeleteRow:B,onReorderRows:Y,onReorderColumns:_,onDeleteColumn:O,onSelectRowForImage:g,onShowCustomization:()=>{},onOptimizeRoute:()=>{},isAuthenticated:w,searchTerm:d,onSearchTermChange:p,filterValue:[],onFilterValueChange:()=>{},deliveryFilterValue:u,onDeliveryFilterValueChange:m,routeOptions:[],deliveryOptions:$,onClearAllFilters:Z,filteredRowsCount:G.length,totalRowsCount:r.length})]})}),s.jsx(kn,{editMode:v}),s.jsx(Nh,{open:k,onOpenChange:R,onSuccess:q,title:"Enter Password to Edit",description:"Please enter your password to enable edit mode on this shared table."})]})}function Y2(){const[e,t]=h.useState(new Set),[r,n]=h.useState(!1),[a,o]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState(""),[p,u]=h.useState(""),[m,f]=h.useState(""),[b,x]=h.useState(""),[g,v]=h.useState(""),[y,w]=h.useState([]),{toast:j}=Rt(),k=_s();wi();const[,R]=li(),{data:S=[],isLoading:I}=Wt({queryKey:["/api/table-rows"]}),{data:T=[],isLoading:F}=Wt({queryKey:["/api/custom-tables"]}),$=S.filter(L=>{const V=g===""||Object.values(L).some(he=>String(he).toLowerCase().includes(g.toLowerCase())),C=y.length===0||!y.includes(L.delivery);return V&&C});Array.from(new Set(S.map(L=>L.delivery).filter(Boolean)));const G=Ae({mutationFn:async L=>{const V=await Be("POST","/api/custom-tables",L);if(!V.ok)throw new Error("Failed to create custom table");return V.json()},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/custom-tables"]}),n(!1),d(""),u(""),t(new Set),j({title:"Custom table created!",description:"Your custom table has been created successfully."})},onError:()=>{j({title:"Error",description:"Failed to create custom table. Please try again.",variant:"destructive"})}}),de=Ae({mutationFn:async L=>{const V=await Be("PUT",`/api/custom-tables/${L.id}/rows`,{name:L.name,description:L.description,rowIds:L.rowIds});if(!V.ok)throw new Error("Failed to update custom table");return V.json()},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/custom-tables"]}),o(!1),l(null),d(""),u(""),t(new Set),j({title:"Custom table updated!",description:"Your custom table has been updated successfully."})},onError:()=>{j({title:"Error",description:"Failed to update custom table. Please try again.",variant:"destructive"})}}),B=Ae({mutationFn:async L=>{if(!(await Be("DELETE",`/api/custom-tables/${L}`)).ok)throw new Error("Failed to delete custom table")},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/custom-tables"]}),j({title:"Table deleted",description:"Custom table has been deleted."})},onError:()=>{j({title:"Error",description:"Failed to delete custom table.",variant:"destructive"})}}),Y=L=>{const V=new Set(e);V.has(L)?V.delete(L):V.add(L),t(V)},_=()=>{if(!c.trim()){j({title:"Name required",description:"Please enter a table name.",variant:"destructive"});return}if(e.size===0){j({title:"No locations selected",description:"Please select at least one location.",variant:"destructive"});return}G.mutate({name:c,description:p,rowIds:Array.from(e)})},O=async L=>{l(L),d(L.name),u(L.description||"");try{const C=await(await Be("GET",`/api/custom-tables/${L.id}/rows`)).json();t(new Set(C.map(he=>he.id))),o(!0)}catch{j({title:"Error",description:"Failed to load table data.",variant:"destructive"})}},Z=()=>{if(i){if(!c.trim()){j({title:"Name required",description:"Please enter a table name.",variant:"destructive"});return}if(e.size===0){j({title:"No locations selected",description:"Please select at least one location.",variant:"destructive"});return}de.mutate({id:i.id,name:c,description:p,rowIds:Array.from(e)})}},q=async L=>{const V=`${window.location.origin}/custom/${L.shareId}`;try{await navigator.clipboard.writeText(V),x(L.id),f(V),j({title:"Link copied!",description:"Share link copied to clipboard."}),setTimeout(()=>x(""),2e3)}catch{j({title:"Error",description:"Failed to copy link.",variant:"destructive"})}};return s.jsxs("div",{className:"animate-in fade-in duration-300",children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col gap-0 leading-tight",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 leading-none",style:{fontSize:"12px"},children:"Custom Tables"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 leading-none my-0.5",style:{fontSize:"9px"},children:"Create table , select list and share"})]})]})}),s.jsxs(A,{onClick:()=>R("/"),variant:"outline",size:"sm",className:"btn-glass w-8 h-8 md:w-auto md:h-9 p-0 md:px-3 pagination-button group transition-all duration-300 ease-out hover:scale-110 hover:shadow-lg hover:shadow-blue-500/20 active:scale-95 active:shadow-none",title:"Back",children:[s.jsx(Su,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 transition-all duration-300"}),s.jsx("span",{className:"hidden md:inline ml-2 text-xs transition-all duration-300",children:"Back"})]})]})})}),s.jsx("main",{className:"min-h-screen bg-gray-50 dark:bg-black pt-[72px] pb-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:`text-sm ${a?"text-green-600 dark:text-green-400 font-semibold":"text-gray-600 dark:text-gray-400"}`,children:[e.size," location(s) selected"]}),s.jsxs(A,{onClick:()=>n(!0),disabled:e.size===0,className:`bg-transparent border border-gray-300 dark:border-gray-700 ${e.size>0?"text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/10":"text-gray-400 dark:text-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors`,children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Create Custom Table"]})]}),s.jsxs("div",{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl overflow-hidden mb-8",children:[s.jsxs("div",{className:"p-6 pb-4 border-b border-gray-300 dark:border-white/10",children:[s.jsx("h2",{className:"text-sm font-semibold mb-4 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Select Locations"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(De,{placeholder:"Search locations...",value:g,onChange:L=>v(L.target.value),className:"max-w-sm bg-white dark:bg-black/20 border-gray-300 dark:border-white/20 text-sm h-8 shadow-sm"}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center px-3 bg-white dark:bg-black/20 rounded-md border border-gray-300 dark:border-white/20 shadow-sm font-medium",children:[e.size," selected"]})]})]}),s.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[600px] scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-800/50 dark:to-slate-900/50 sticky top-0 z-10",children:s.jsxs("tr",{className:"border-b-2 border-gray-300 dark:border-white/10",children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold whitespace-nowrap",children:s.jsx(Hr,{checked:e.size===$.length&&$.length>0,onCheckedChange:L=>{t(L?new Set($.map(V=>V.id)):new Set)}})}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold whitespace-nowrap",children:"Route"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold whitespace-nowrap",children:"Code"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold whitespace-nowrap",children:"Location"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold whitespace-nowrap",children:"Delivery"})]})}),s.jsx("tbody",{children:$.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-gray-600 dark:text-gray-400",children:g?"No locations found matching your search":"No locations available"})}):$.map((L,V)=>{const C=e.has(L.id);return s.jsxs("tr",{className:`custom-table-row border-b border-gray-200 dark:border-gray-900 hover:bg-blue-50 dark:hover:bg-blue-900/10 cursor-pointer ${C?"text-green-600 dark:text-green-400 font-semibold":"text-gray-900 dark:text-gray-100"}`,onClick:()=>Y(L.id),children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx(Hr,{checked:C,onCheckedChange:()=>Y(L.id),onClick:he=>he.stopPropagation()})}),s.jsx("td",{className:`px-2 py-2 text-xs whitespace-nowrap ${C?"font-semibold":""}`,children:L.route}),s.jsx("td",{className:`px-2 py-2 text-xs whitespace-nowrap ${C?"font-semibold":""}`,children:L.code}),s.jsx("td",{className:`px-4 py-2 text-xs whitespace-nowrap ${C?"font-semibold":""}`,children:L.location}),s.jsx("td",{className:`px-4 py-2 text-xs whitespace-nowrap ${C?"font-semibold":""}`,children:L.delivery})]},L.id)})})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-800/50 dark:to-slate-900/50 border-t border-gray-300 dark:border-white/10",children:s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:["Showing ",$.length," of ",S.length," location(s)"]})})]}),s.jsxs("div",{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl p-6",children:[s.jsx("h6",{className:"font-semibold mb-4 text-gray-900 dark:text-white",style:{fontSize:"12px"},children:"My Custom Tables"}),T.length===0?s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 py-8",children:"No custom tables yet. Create one to get started!"}):s.jsx("div",{className:"space-y-4",children:T.map(L=>s.jsxs("div",{className:"custom-table-card flex items-center justify-between p-4 bg-transparent rounded-xl border border-gray-300 dark:border-gray-800/40 hover:bg-gray-50 dark:hover:bg-white/5",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-[12px]",children:L.name}),L.description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.description}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-500 mt-1",style:{fontSize:"10px"},children:["Created ",new Date(L.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{onClick:()=>q(L),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-blue-500/10",title:"Copy share link",children:b===L.id?s.jsx(Pr,{className:"h-4 w-4 text-green-500"}):s.jsx(xi,{className:"h-4 w-4"})}),s.jsx(A,{onClick:()=>window.open(`/custom/${L.shareId}`,"_blank"),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-blue-500/10",children:"View"}),s.jsx(A,{onClick:()=>O(L),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-green-500/10 text-green-600",title:"Edit locations",children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsx(A,{onClick:()=>B.mutate(L.id),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-red-500/10 text-red-500",title:"Delete table",children:s.jsx(os,{className:"h-4 w-4"})})]})]},L.id))})]}),s.jsx(Ue,{open:r,onOpenChange:n,children:s.jsxs(_e,{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl",style:{maxHeight:"min(80vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Fe,{className:"relative z-10",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(ze,{children:"Create Custom Table"}),s.jsx(Qe,{children:"Enter a name and optional description for your custom table."})]}),s.jsxs("div",{className:"space-y-4 py-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Table Name *"}),s.jsx(De,{value:c,onChange:L=>d(L.target.value),placeholder:"e.g., Weekend Deliveries",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description (optional)"}),s.jsx(De,{value:p,onChange:L=>u(L.target.value),placeholder:"Add a description...",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.size," location(s) will be included in this table"]})]}),s.jsxs(Ye,{className:"relative z-10",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[s.jsx(A,{variant:"outline",onClick:()=>n(!1),className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10",children:"Cancel"}),s.jsx(A,{onClick:_,disabled:G.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:G.isPending?"Creating...":"Create Table"})]})]})}),s.jsx(Ue,{open:a,onOpenChange:L=>{o(L),L||(l(null),d(""),u(""),t(new Set))},children:s.jsxs(_e,{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl max-h-[80vh] overflow-y-auto",style:{maxHeight:"min(80vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Fe,{className:"relative z-10",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(ze,{children:"Edit Custom Table"}),s.jsx(Qe,{children:"Update name, description, or add/remove locations."})]}),s.jsxs("div",{className:"space-y-4 py-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Table Name *"}),s.jsx(De,{value:c,onChange:L=>d(L.target.value),placeholder:"e.g., Weekend Deliveries",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description (optional)"}),s.jsx(De,{value:p,onChange:L=>u(L.target.value),placeholder:"Add a description...",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.size," location(s) selected"]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 max-h-[300px] overflow-y-auto",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Select Locations:"}),$.map(L=>s.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded cursor-pointer",children:[s.jsx(Hr,{checked:e.has(L.id),onCheckedChange:()=>Y(L.id)}),s.jsxs("span",{className:"text-sm",children:[L.location," (",L.route,")"]})]},L.id))]})]}),s.jsxs(Ye,{className:"relative z-10",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[s.jsx(A,{variant:"outline",onClick:()=>o(!1),className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10",children:"Cancel"}),s.jsx(A,{onClick:Z,disabled:de.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:de.isPending?"Updating...":"Update Table"})]})]})})]})}),s.jsx(kn,{})]})}function X2(){const[,e]=Ud("/custom/:shareId"),t=e==null?void 0:e.shareId,{columns:r,isLoading:n}=ji(),{data:a,isLoading:o,error:i}=Wt({queryKey:[`/api/custom-tables/share/${t}`],enabled:!!t}),{data:l=[],isLoading:c}=Wt({queryKey:[`/api/custom-tables/${a==null?void 0:a.id}/rows`],enabled:!!(a!=null&&a.id)}),[d,p]=h.useState(""),[u,m]=h.useState([]),[f,b]=h.useState([]),[x,g]=h.useState(null),{filteredRows:v,displayColumns:y,deliveryOptions:w}=h.useMemo(()=>{if(l.length===0||r.length===0)return{filteredRows:l,displayColumns:r,deliveryOptions:[]};const Y=Array.from(new Set(l.map(V=>V.delivery).filter(Boolean)));let _=[...l];const O=new Date().getDay(),Z=[1,3,5,0].includes(O),q=[2,4,6].includes(O);_=_.sort((V,C)=>{const he=V.deliveryAlt||"normal",z=C.deliveryAlt||"normal";if(he==="inactive"&&z!=="inactive")return 1;if(he!=="inactive"&&z==="inactive")return-1;if(Z){if((he==="alt1"||he==="normal")&&z==="alt2")return-1;if(he==="alt2"&&(z==="alt1"||z==="normal"))return 1}else if(q){if((he==="alt2"||he==="normal")&&z==="alt1")return-1;if(he==="alt1"&&(z==="alt2"||z==="normal"))return 1}return 0}),f.length>0&&(_=_.filter(V=>f.includes(V.route))),d&&(_=_.filter(V=>Object.values(V).some(C=>String(C).toLowerCase().includes(d.toLowerCase())))),u.length>0&&(_=_.filter(V=>!u.includes(V.delivery)));const L=r.filter(V=>V.dataKey!=="latitude"&&V.dataKey!=="longitude"&&V.dataKey!=="tollPrice");return{filteredRows:_,displayColumns:L,deliveryOptions:Y}},[l,r,d,u,f]),j=h.useMemo(()=>{const Y=l.find(q=>q.location==="QL Kitchen");if(!Y||!Y.latitude||!Y.longitude)return v.map(q=>({...q,kilometer:"",segmentDistance:0}));const _=parseFloat(Y.latitude),O=parseFloat(Y.longitude);if(!Number.isFinite(_)||!Number.isFinite(O))return v.map(q=>({...q,kilometer:"",segmentDistance:0}));if(d!==""||f.length>0||u.length>0){let q=0,L=_,V=O;return v.map(C=>{if(C.location==="QL Kitchen")return q=0,L=_,V=O,{...C,kilometer:0,segmentDistance:0};if(!C.latitude||!C.longitude)return{...C,kilometer:"",segmentDistance:0};const he=parseFloat(C.latitude),z=parseFloat(C.longitude);if(!Number.isFinite(he)||!Number.isFinite(z))return{...C,kilometer:"",segmentDistance:0};const oe=Is(L,V,he,z);return q+=oe,L=he,V=z,{...C,kilometer:q,segmentDistance:oe}})}else return v.map(q=>{if(q.location==="QL Kitchen")return{...q,kilometer:0,segmentDistance:0};if(!q.latitude||!q.longitude)return{...q,kilometer:"",segmentDistance:0};const L=parseFloat(q.latitude),V=parseFloat(q.longitude);if(!Number.isFinite(L)||!Number.isFinite(V))return{...q,kilometer:"",segmentDistance:0};const C=Is(_,O,L,V);return{...q,kilometer:C,segmentDistance:C}})},[l,v,d,f,u]),k=Ae({mutationFn:async Y=>(console.log("Read-only mode: Changes not saved",Y),Y)}),R=Ae({mutationFn:async Y=>{console.log("Read-only mode: Delete not allowed",Y)}}),S=Ae({mutationFn:async Y=>Y.map(O=>l.find(Z=>Z.id===O)).filter(O=>O!==void 0)}),I=Ae({mutationFn:async Y=>Y.map(O=>r.find(Z=>Z.id===O)).filter(O=>O!==void 0)}),T=Ae({mutationFn:async Y=>{console.log("Read-only mode: Column delete not allowed",Y)}}),F=()=>{p(""),m([])},[$,G]=ye.useState(!1),[de,B]=ye.useState(!1);return ye.useEffect(()=>{if(sessionStorage.getItem("routevm_loaded")){B(!1);const _=setTimeout(()=>{G(!0)},1e3);return()=>clearTimeout(_)}else{B(!0);const _=setTimeout(()=>{G(!0),sessionStorage.setItem("routevm_loaded","true")},5e3);return()=>clearTimeout(_)}},[]),ye.useEffect(()=>{const Y=()=>{sessionStorage.removeItem("routevm_loaded")},_=()=>{document.hidden&&sessionStorage.removeItem("routevm_loaded")};return window.addEventListener("beforeunload",Y),document.addEventListener("visibilitychange",_),()=>{window.removeEventListener("beforeunload",Y),document.removeEventListener("visibilitychange",_)}},[]),n||o||c||!$?s.jsx("div",{className:"min-h-screen relative",children:de?s.jsx(Yi,{message:"Loading Custom Table...",type:"ripple"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})})}):i||!a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex h-16 w-16 mx-auto items-center justify-center rounded-lg bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400",children:s.jsx(bi,{className:"h-8 w-8"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Custom Table Not Found"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The custom table you're looking for doesn't exist or has been removed."})]})}):s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 text-[12px]",children:a.name})]})}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Custom Table View"})]})})}),s.jsx("main",{className:"pt-[56px]",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(Xi,{rows:j,columns:y,editMode:!1,isSharedView:!0,hideShareButton:!0,disablePagination:!0,onUpdateRow:k,onDeleteRow:R,onReorderRows:S,onReorderColumns:I,onDeleteColumn:T,onSelectRowForImage:g,onShowCustomization:()=>{},onOptimizeRoute:()=>{},isAuthenticated:!1,searchTerm:d,onSearchTermChange:p,filterValue:[],onFilterValueChange:()=>{},deliveryFilterValue:u,onDeliveryFilterValueChange:m,routeOptions:[],deliveryOptions:w,onClearAllFilters:F,filteredRowsCount:j.length,totalRowsCount:l.length})})}),s.jsx(kn,{editMode:!1})]})}function J2(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var dl="ScrollArea",[uf,PC]=er(dl),[Z2,Ft]=uf(dl),mf=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[d,p]=h.useState(null),[u,m]=h.useState(null),[f,b]=h.useState(null),[x,g]=h.useState(null),[v,y]=h.useState(0),[w,j]=h.useState(0),[k,R]=h.useState(!1),[S,I]=h.useState(!1),T=ot(t,$=>c($)),F=ai(a);return s.jsx(Z2,{scope:r,type:n,dir:F,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:p,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:b,scrollbarXEnabled:k,onScrollbarXEnabledChange:R,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:I,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(Ve.div,{dir:F,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});mf.displayName=dl;var pf="ScrollAreaViewport",hf=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...o}=e,i=Ft(pf,r),l=h.useRef(null),c=ot(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});hf.displayName=pf;var tr="ScrollAreaScrollbar",ul=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ft(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(eC,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(tC,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(ff,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(ml,{...n,ref:t}):null});ul.displayName=tr;var eC=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ft(tr,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},p=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ht,{present:r||o,children:s.jsx(ff,{"data-state":o?"visible":"hidden",...n,ref:t})})}),tC=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ft(tr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Aa(()=>c("SCROLL_END"),100),[l,c]=J2("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,p=o?"scrollLeft":"scrollTop";if(d){let u=d[p];const m=()=>{const f=d[p];u!==f&&(c("SCROLL"),i()),u=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,o,c,i]),s.jsx(Ht,{present:r||l!=="hidden",children:s.jsx(ml,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ff=h.forwardRef((e,t)=>{const r=Ft(tr,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=Aa(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:p)}},10);return Ts(r.viewport,c),Ts(r.content,c),s.jsx(Ht,{present:n||o,children:s.jsx(ml,{"data-state":o?"visible":"hidden",...a,ref:t})})}),ml=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ft(tr,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=yf(l.viewport,l.content),p={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function u(m,f){return iC(m,i.current,l,f)}return r==="horizontal"?s.jsx(rC,{...p,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollLeft,f=Gc(m,l,a.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=u(m,a.dir))}}):r==="vertical"?s.jsx(sC,{...p,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollTop,f=Gc(m,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=u(m))}}):null}),rC=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Ft(tr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=ot(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(bf,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pa(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,u)=>{if(o.viewport){const m=o.viewport.scrollLeft+p.deltaX;e.onWheelScroll(m),jf(m,u)&&p.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:oa(i.paddingLeft),paddingEnd:oa(i.paddingRight)}})}})}),sC=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Ft(tr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=ot(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(bf,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pa(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,u)=>{if(o.viewport){const m=o.viewport.scrollTop+p.deltaY;e.onWheelScroll(m),jf(m,u)&&p.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:oa(i.paddingTop),paddingEnd:oa(i.paddingBottom)}})}})}),[nC,gf]=uf(tr),bf=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:p,onResize:u,...m}=e,f=Ft(tr,r),[b,x]=h.useState(null),g=ot(t,T=>x(T)),v=h.useRef(null),y=h.useRef(""),w=f.viewport,j=n.content-n.viewport,k=Gt(p),R=Gt(c),S=Aa(u,10);function I(T){if(v.current){const F=T.clientX-v.current.left,$=T.clientY-v.current.top;d({x:F,y:$})}}return h.useEffect(()=>{const T=F=>{const $=F.target;(b==null?void 0:b.contains($))&&k(F,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,b,j,k]),h.useEffect(R,[n,R]),Ts(b,S),Ts(f.content,S),s.jsx(nC,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:Gt(o),onThumbPointerUp:Gt(i),onThumbPositionChange:R,onThumbPointerDown:Gt(l),children:s.jsx(Ve.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:ke(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),I(T))}),onPointerMove:ke(e.onPointerMove,I),onPointerUp:ke(e.onPointerUp,T=>{const F=T.target;F.hasPointerCapture(T.pointerId)&&F.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),aa="ScrollAreaThumb",xf=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=gf(aa,e.__scopeScrollArea);return s.jsx(Ht,{present:r||a.hasThumb,children:s.jsx(aC,{ref:t,...n})})}),aC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,o=Ft(aa,r),i=gf(aa,r),{onThumbPositionChange:l}=i,c=ot(t,u=>i.onThumbChange(u)),d=h.useRef(void 0),p=Aa(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const u=o.viewport;if(u){const m=()=>{if(p(),!d.current){const f=lC(u,l);d.current=f,l()}};return l(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,p,l]),s.jsx(Ve.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ke(e.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),b=u.clientX-f.left,x=u.clientY-f.top;i.onThumbPointerDown({x:b,y:x})}),onPointerUp:ke(e.onPointerUp,i.onThumbPointerUp)})});xf.displayName=aa;var pl="ScrollAreaCorner",vf=h.forwardRef((e,t)=>{const r=Ft(pl,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(oC,{...e,ref:t}):null});vf.displayName=pl;var oC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ft(pl,r),[o,i]=h.useState(0),[l,c]=h.useState(0),d=!!(o&&l);return Ts(a.scrollbarX,()=>{var u;const p=((u=a.scrollbarX)==null?void 0:u.offsetHeight)||0;a.onCornerHeightChange(p),c(p)}),Ts(a.scrollbarY,()=>{var u;const p=((u=a.scrollbarY)==null?void 0:u.offsetWidth)||0;a.onCornerWidthChange(p),i(p)}),d?s.jsx(Ve.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function oa(e){return e?parseInt(e,10):0}function yf(e,t){const r=e/t;return isNaN(r)?0:r}function Pa(e){const t=yf(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function iC(e,t,r,n="ltr"){const a=Pa(r),o=a/2,i=t||o,l=a-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,p=r.content-r.viewport,u=n==="ltr"?[0,p]:[p*-1,0];return wf([c,d],u)(e)}function Gc(e,t,r="ltr"){const n=Pa(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=Ag(e,c);return wf([0,i],[0,l])(d)}function wf(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function jf(e,t){return e>0&&e<t}var lC=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Aa(e,t){const r=Gt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ts(e,t){const r=Gt(t);rd(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var kf=mf,cC=hf,dC=vf;const Nf=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(kf,{ref:n,className:J("relative overflow-hidden",e),...r,children:[s.jsx(cC,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Cf,{}),s.jsx(dC,{})]}));Nf.displayName=kf.displayName;const Cf=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(ul,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(xf,{className:"relative flex-1 rounded-full bg-border"})}));Cf.displayName=ul.displayName;function uC(){return s.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col gap-0 leading-tight",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 leading-none",style:{fontSize:"12px"},children:"User Guide"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 leading-none my-0.5",style:{fontSize:"9px"},children:"Complete guide and documentation"})]})]})}),s.jsx(p0,{href:"/",children:s.jsxs(A,{variant:"outline",size:"sm",className:"gap-2 h-9",children:[s.jsx(Tb,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Back"})]})})]})})}),s.jsx("div",{className:"pt-16 pb-0 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(Sa,{className:"bg-white/70 dark:bg-slate-900/50 border-slate-300 dark:border-slate-800 backdrop-blur-sm",children:[s.jsx(Gp,{children:s.jsxs(Vp,{className:"text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Welcome to the Route Management System"]})}),s.jsx(Ea,{children:s.jsx(Nf,{className:"h-[calc(100vh-200px)] pr-4",children:s.jsxs("div",{className:"space-y-6 text-slate-700 dark:text-slate-300 leading-relaxed text-sm",children:[s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(Eu,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"What is This App?"]}),s.jsx("p",{className:"text-sm",children:"This is a comprehensive delivery route management system designed to help you efficiently manage delivery location data. You can organize, edit, and optimize delivery routes with ease using an interactive drag-and-drop interface. The system is built to streamline your logistics operations and improve delivery efficiency."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"Key Features"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Mu,{className:"h-4 w-4"}),"1. Table Management"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"Add, edit, and delete location data rows"}),s.jsx("li",{children:"Drag-and-drop to reorder entries"}),s.jsx("li",{children:"Show/hide columns based on your needs"}),s.jsx("li",{children:"Search and filter to quickly find data"}),s.jsx("li",{children:"Real-time calculations and statistics"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Wb,{className:"h-4 w-4"}),"2. Edit Mode"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Click the menu button () and select "Enter Edit Mode"'}),s.jsx("li",{children:"Add, modify, or delete data while in edit mode"}),s.jsx("li",{children:"Drag-and-drop to rearrange columns"}),s.jsx("li",{children:"Customize marker colors for map visualization"}),s.jsx("li",{children:'Click "Exit Edit Mode" when finished'})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Vn,{className:"h-4 w-4"}),"3. Route Optimization"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Click "Optimize Route" to calculate optimal delivery sequences'}),s.jsx("li",{children:"System automatically calculates distances and arranges the shortest routes"}),s.jsx("li",{children:"Supports Heavy Goods Vehicle (HGV/Lorry) routing profiles"}),s.jsx("li",{children:"View distances in kilometers from your base location (QL Kitchen)"}),s.jsx("li",{children:"Batch processing with intelligent rate limiting"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Ub,{className:"h-4 w-4"}),"4. Map View"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"Click the info icon () to view locations on the map"}),s.jsx("li",{children:"Marker colors can be customized in edit mode"}),s.jsx("li",{children:"Fullscreen map view for better visualization"}),s.jsx("li",{children:"Automatic route calculation from base location"}),s.jsx("li",{children:"Interactive markers with location details"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(as,{className:"h-4 w-4"}),"5. Image Gallery"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"Upload images for each location"}),s.jsx("li",{children:"Support for multiple images per location"}),s.jsx("li",{children:"Lightbox view to see images in full size"}),s.jsx("li",{children:"Upload from your device or enter image URLs"}),s.jsx("li",{children:"Support for various image formats and large files"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(tx,{className:"h-4 w-4"}),"6. Delivery Alternate System"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"4 delivery states: Normal, Alt 1, Alt 2, Inactive"}),s.jsx("li",{children:"Alt 1: Deliveries on Monday/Wednesday/Friday/Sunday"}),s.jsx("li",{children:"Alt 2: Deliveries on Tuesday/Thursday/Saturday"}),s.jsx("li",{children:"Automatic sorting based on current day"}),s.jsx("li",{children:"Color-coded visual indicators for each state"}),s.jsx("li",{children:"Off-schedule entries displayed with reduced brightness"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(xi,{className:"h-4 w-4"}),"7. Share Table"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Click "Share Table" to generate a shareable link'}),s.jsx("li",{children:"Save links with custom names for easy reference"}),s.jsx("li",{children:"Share links with team members for view-only access"}),s.jsx("li",{children:"Access saved links from the menu"}),s.jsx("li",{children:"Shared tables maintain your current filters and column visibility"})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(Fb,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),"Usage Tips"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Default Columns:"}),' By default, only 4 columns are displayed (No, Code, Location, Delivery). Use "Show/Hide Columns" to toggle additional columns.']}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Drag Handle:"})," Use the drag icon () on the left side of each row to drag-and-drop and reorder entries."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Search:"})," Use the search box to quickly find data. Search works across all visible columns."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Filters:"})," Filter by Route or Delivery status using the dropdown filters for focused views."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Calculations:"}),' The "Totals" row at the bottom automatically calculates sum/count based on visible data (after filters/search).']}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Inactive Rows:"})," Toggle the active/inactive state to temporarily hide locations. Inactive rows automatically sort to the bottom."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Header Content:"})," Slide left/right to view different header pages if multiple pages are configured."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Layout Preferences:"})," Your column visibility and order preferences are saved per user and persist across sessions."]})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(Qb,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),"Getting Started"]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4 text-sm",children:[s.jsx("li",{children:"Browse the existing table data to familiarize yourself with the interface"}),s.jsx("li",{children:"Use search and filters to explore the data"}),s.jsx("li",{children:"Click the menu button () to access additional options"}),s.jsx("li",{children:"Enter Edit Mode to make changes to the data"}),s.jsx("li",{children:"Try drag-and-drop to reorder rows and customize your view"}),s.jsx("li",{children:"Click the info icon () to view locations on the map"}),s.jsx("li",{children:'Use "Optimize Route" to calculate efficient delivery sequences'}),s.jsx("li",{children:"Exit Edit Mode when you're done making changes"})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(Mb,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),"Keyboard Shortcuts"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("kbd",{className:"px-2 py-1 text-xs bg-slate-800 rounded border border-slate-700",children:"Esc"})," - Close modal/dialog windows"]}),s.jsxs("li",{children:[s.jsx("kbd",{className:"px-2 py-1 text-xs bg-slate-800 rounded border border-slate-700",children:"Enter"})," - Submit forms and confirm actions"]})]})]}),s.jsxs("section",{className:"bg-blue-500/10 dark:bg-blue-500/10 border border-blue-500/30 dark:border-blue-500/20 rounded-lg p-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-blue-700 dark:text-blue-400 mb-2 flex items-center gap-2",children:[s.jsx(Pu,{className:"h-4 w-4"}),"Important Notes"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Route Optimization:"})," Uses OpenRouteService API for commercial vehicle routing"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Toll Information:"})," Toll prices are not available and will display as 0"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Rate Limits:"})," Free tier allows 40 requests per minute, 2000 requests per day"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Batch Processing:"})," For routes with many locations, the system processes requests sequentially to respect rate limits"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Data Privacy:"})," Your layout preferences and settings are stored locally per user"]})]})]}),s.jsxs("section",{className:"bg-green-500/10 dark:bg-green-500/10 border border-green-500/30 dark:border-green-500/20 rounded-lg p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-green-700 dark:text-green-400 mb-2",children:"Best Practices"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Regularly save your work using the "Save Layout" option'}),s.jsx("li",{children:"Use descriptive names when saving share links for easy identification"}),s.jsx("li",{children:"Keep location coordinates accurate for optimal route calculations"}),s.jsx("li",{children:"Use the delivery alternate system to organize regular delivery schedules"}),s.jsx("li",{children:"Take advantage of filters to focus on specific routes or delivery types"})]})]}),s.jsxs("section",{children:[s.jsx("p",{className:"text-center text-slate-600 dark:text-slate-400 italic mt-8 text-sm",children:"For technical support or questions, please contact your system administrator."}),s.jsx("p",{className:"text-center text-slate-500 dark:text-slate-500 text-xs mt-4 mb-0",children:"Route Management System  Version 1.0.0"})]})]})})})]})}),s.jsx(kn,{})]})}function mC(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Sa,{className:"w-full max-w-md mx-4",children:s.jsxs(Ea,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Pu,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function pC(){return s.jsx("div",{className:"min-h-screen pb-16 text-sm",children:s.jsxs(h0,{children:[s.jsx(ss,{path:"/",children:()=>s.jsx(K2,{})}),s.jsx(ss,{path:"/share/:shareId",children:()=>s.jsx(Q2,{})}),s.jsx(ss,{path:"/custom-tables",children:()=>s.jsx(Y2,{})}),s.jsx(ss,{path:"/custom/:shareId",children:()=>s.jsx(X2,{})}),s.jsx(ss,{path:"/help",children:()=>s.jsx(uC,{})}),s.jsx(ss,{component:mC})]})})}function hC(){return s.jsx(O0,{client:ir,children:s.jsx(nv,{children:s.jsxs(rv,{children:[s.jsx(Fx,{}),s.jsx(pC,{})]})})})}Id(document.getElementById("root")).render(s.jsx(hC,{}));
